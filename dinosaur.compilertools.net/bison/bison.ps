%!PS-Adobe-2.0
%%Creator: dvipsk 5.516a Copyright 1986, 1993 Radical Eye Software
%%Title: bison.dvi
%%Pages: 108
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%EndComments
%DVIPSCommandLine: dvips bison.dvi
%DVIPSSource:  TeX output 1997.01.16:1747
%%BeginProcSet: texc.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5 get
round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0
0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
pop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]/id
ch-image N /rw ch-width 7 add 8 idiv string N /rc 0 N /gp 0 N /cp 0 N{
rc 0 ne{rc 1 sub /rc X rw}{G}ifelse}imagemask restore}B /G{{id gp get
/gp gp 1 add N dup 18 mod S 18 idiv pl S get exec}loop}B /adv{cp add /cp
X}B /chg{rw cp id gp 4 index getinterval putinterval dup gp add /gp X
adv}B /nd{/cp 0 N rw exit}B /lsh{rw cp 2 copy get dup 0 eq{pop 1}{dup
255 eq{pop 254}{dup dup add 255 and S 1 and or}ifelse}ifelse put 1 adv}
B /rsh{rw cp 2 copy get dup 0 eq{pop 128}{dup 255 eq{pop 127}{dup 2 idiv
S 128 and or}ifelse}ifelse put 1 adv}B /clr{rw cp 2 index string
putinterval adv}B /set{rw cp fillstr 0 4 index getinterval putinterval
adv}B /fillstr 18 string 0 1 17{2 copy 255 put pop}for N /pl[{adv 1 chg}
{adv 1 chg nd}{1 add chg}{1 add chg nd}{adv lsh}{adv lsh nd}{adv rsh}{
adv rsh nd}{1 add adv}{/rc X nd}{1 add set}{1 add clr}{adv 2 chg}{adv 2
chg nd}{pop nd}]dup{bind pop}forall N /D{/cc X dup type /stringtype ne{]
}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
false RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave
transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 300 300 (bison.dvi)
@start /Fa 1 47 df<127012F8A212F012E005057B840E>46 D
E /Fb 1 47 df<120FEA3FC0127FA212FFA31380EA7F00123C0A0A7A8915>46
D E /Fc 11 121 df<EA0180EA03001206120E120C5AA2123812301270A21260A212E0AC
1260A21270A2123012381218A27E120E12067EEA018009267D9B0F>40
D<12C012607E123812187EA2120E12061207A27EA21380AC1300A25AA21206120E120CA2
5A123812305A5A09267E9B0F>I<EAFFC0A2EA1E00B3A4EAFFC0A20A1A7E990E>73
D<133FA21307A8EA07E7EA1FFFEA3C1FEA7807127012F0A61270EA780F6C5A381FF7E0EA
07C7131A7F9915>100 D<EA07C0EA1FF0EA3C78EA7838EA703CEAFFFCA2EAF000A41270
EA780CEA3C18EA1FF0EA07E00E107F8F11>I<1238127CA312381200A512FCA2121CAC12
FFA2081A80990A>105 D<EAFC7CEAFDFF381F0780EA1E03121CAA38FF9FF0A21410808F
15>110 D<EA07E0EA1FF8EA3C3CEA781EEA700EEAF00FA6EA700EEA781EEA3C3CEA1FF8
EA07E010107F8F13>I<EA1F60EA7FE01270EAE060A2EAF000127FEA3FC0EA1FE0EA01F0
EAC070A212E0EAF0E0EAFFC0EA8F800C107F8F0F>115 D<1218A51238A2EAFFC0A2EA38
00A71360A4EA3CC0121FEA0F000B177F960F>I<387F1FC0A2380E1E00EA071C1398EA03
B0EA01F06C5A7F1201EA03B8EA071C1206EA1E0E38FF1FE0A21310808F14>120
D E /Fd 12 122 df<EA0FFE383FFF804813E080387E07F81301383C00FCC7127CA2EB03
FC13FF1207121F383FFE7CEA7F80EAFE005A5AA36C13FCEA7F076CB512E0A2000F13BF38
07FC1F1B1A7D991F>97 D<EB7FE03801FFF8000713FC5AEA1FC0EA3F00003E1378007E13
00127C12FC5AA67E127C007E137C7EEB80FC381FE1F8EA0FFF6C13F0000113E038007F80
161A7C991F>99 D<137F3801FFC0000713E04813F0381FC3F8383F00FC003E137C127E00
7C137E00FC133EB512FEA400F8C7FCA27E127C007E133E7EEB807E381FF0FC380FFFF86C
13F0000113E038007F80171A7D991F>101 D<EB03F8EB0FFCEB1FFE133FEB7E7E13FCEB
F83C1400A4387FFFFCB5FCA33800F800B2B512F8A417257EA41F>I<EA7FFE12FFA2127F
EA003EB3AB007FB5FCB61280A26C140019257DA41F>108 D<38FE7C1F39FFFE7F8090B5
12C0A2391FCFF3E0EB87E1EB07C1A2001E1381AE39FFC7F1FCEBCFF3A2EBC7F11E1A8099
1F>I<13FCEA03FF481380001F13E01387383F03F0387E01F8EA7C00A248137CA76C13FC
007C13F8A2EA7E01383F03F0381F87E013FF000713806C1300EA00FC161A7C991F>111
D<387FC3F838FFDFFC90B5FC6C14803807FC3F9038F00FC09038E007E0EBC003A215F014
01A6140315E0EBE007A29038F00FC09038FC3F8090B512005CEBDFFCEBC7F001C0C7FCA9
EA7FFC487EA26C5A1C2780991F>I<397FF03F8039FFF1FFC001F313E0EA7FF73801FFE3
EC81C049C7FC5BA25BA25BAB387FFFF0B57EA26C5B1B1A7F991F>114
D<3803FE70381FFFF05A5AEA7E03EAF80112F0A26CC7FCB4FCEA7FFC383FFF806C13E000
0713F038003FF813013878007C00F8133C7EA26C137C38FF01F8EBFFF014E000F713C000
E11300161A7C991F>I<397FF1FFC001F913E0A201F113C03903E07800000113F83800F1
F0EBF9E0137F6D5A5C131F6DC7FC5B80497EEB79E013F9EBF0F048487E0003137CEBC03C
397FF0FFE0D8FFF913F0A2D87FF013E01C1A7F991F>120 D<397FF0FFE0486C13F0A26C
4813E03907801E00A2EA03C05CA2EA01E0147C1478EA00F0A25C1378A25C133DA2EB1DC0
131FA2130F5CA391C7FCA25B131E123CEA7E3E5BEA7CF8127F6C5A5BEA0F801C277F991F
>I E /Fe 6 117 df<387FFF80B5FCA27E11047B8F18>45 D<EB3F18EBFFF85AEA07E313
80EA0F00121E123E003C1370007C13001278A312F85AA5EB01C0130312781307383C0F80
383E1F00EA1FFE6C5AEA03F0151C7C9B18>67 D<EB07F0A31300A31301A23801FDE0EA07
FF5AEA1F87EA3E03127C007813C012F812F0A21307A21480130FA2EAF81FEA7C7F383FFF
F07EEA07C7141C7D9B18>100 D<EA0FFEA3EA001EA4133E133CA5137C1378A513F85BA4
1201B512C014E014C0131C7D9B18>108 D<381FF1F8EBF7FCEBFFFEC6133E13FC3801F8
1C14005B5BA312035BA5B5FCA317147E9318>114 D<EA01C07FA31203387FFFC0B5FC7E
3803C000A212075BA5120F1303EB0780A2130FEB1F0013FE6C5AEA01F812197C9818>
116 D E /Ff 1 59 df<127012F8A3127005057C840D>58 D E /Fg
14 122 df<EA1FF8EA3FFE387FFF8014C0EA7C0F383803E0EA0001A213FF1207121FEA3F
E1EA7E0112F812F0A3EAF803EA7C0F007FB5FC7EEA1FFC380FE07F18177D961C>97
D<EBFF80000313C0000F13E05AEA3F83383E01C048C7FC127812F85AA57E387801E0127C
EA3E03383F83C0EA1FFF6C138000031300EA00FC13177C961C>99
D<EA01FCEA07FF4813804813C0383F87E0EA3E03EA7C01007813F0EAF800B5FCA400F0C7
FC7E007813F0127CEA3F01EBC3E0EA1FFF6C13C0000313803800FE0014177D961C>101
D<EB01F8EB07FCEB1FFE133FEB3E3EEB7C1CEB7800A4387FFFF8B5FCA338007800AF383F
FFF0A417217FA01C>I<EA01E0487EA46C5AC8FCA5EAFFF0A41200AFB512E014F0A214E0
14227CA11C>105 D<EA7FF812FFA2127FEA0078B3A7387FFFF8B512FCA26C13F816217D
A01C>108 D<387E7C3E38FFFEFF90B5FC6C1480381F8FC7EB0F87A2001E1307AC397F8F
C7E039FFCFE7F0A2397F8FC7E01C1780961C>I<38FF1FC0EB7FE0497EA2380FE0F8EBC0
7813801300AC39FFF1FF80A419177F961C>I<38FF1FC0EB7FE0EBFFF014F8380FF0FCEB
C03E1380EB001FA2140FA5141FEB801E143EEBC07EEBE0FCEBFFF814F0EB7FE0EB1F8090
C7FCA8EAFFF0A418237F961C>112 D<38FFC1F8EBC7FCEBDFFE13FF3803FE3EEBF81CEB
F000A25BA25BA9B5128014C0A2148017177E961C>114 D<13E01201A6387FFFF8B5FCA3
3801E000A91418143CA3EBF07CEBF8F8EA00FFEB7FF014E0EB1F80161E7F9D1C>116
D<38FF07F8A4380F0078AD14F8138390B512807E6C137FEA01FC19177F961C>I<387FE3
FEEBE7FFA2EBE3FE3803C3E0EBE3C03801F780EA00FF6DC7FC137E133EA2137E137FEBF7
80EA01E7EBE3C03803C1E000077F387FE3FF00FF1480A2007F140019177F961C>120
D<387FE3FF00FF1480A2007F1400380F807800075BA213C01203EBC1E0EA01E1A2EBE3C0
EA00F3A25C1373A21377013FC7FCA3131EA35BA3EA3878EA7CF8EA7DF0127F5B6C5A6CC8
FC19237F961C>I E /Fh 55 123 df<903803FFE0131F90B5FC3801FE0F3803F81FEA07
F0380FE00FA8B6FCA3380FE00FB239FFFEFFFEA31F267FA522>13
D<130E131C1338137013F0EA01E0EA03C012071380120FA2EA1F00A25A123EA2127EA312
7CA212FCAC127CA2127EA3123EA2123F7EA2EA0F80A2120713C01203EA01E0EA00F01370
1338131C130E0F367BA818>40 D<12E012707E7E121E7EEA078013C0120313E0A2EA01F0
A213F81200A213FCA3137CA2137EAC137CA213FCA313F8A2120113F0A2EA03E0A213C012
071380EA0F00121E121C5A5A5A0F367DA818>I<EAFFFEA60F067F8E14>45
D<121C127FA2EAFF80A3EA7F00A2121C09097C8811>I<130E131E13FE12FFA31200B3A8
387FFFFCA316237CA21F>49 D<EA01FE380FFFC04813F0383C0FF8387C03FC38FE01FEEA
FF0014FFA2147F127E1218C712FF14FEA2EB01FC14F8EB03F0EB07E0EB0FC0EB1F80EB1E
005BEB780713F0EA01C03803800EEA0700380FFFFE5A5A5AB512FCA318237DA21F>I<48
B4FC000713E0001F13F0383E03F8EB01FC007F13FE1300A3EA3F01001E13FC1200EB03F8
14F0EB0FE03801FFC0140014E0380007F0EB01F814FCEB00FE14FFA2127EA2B4FCA214FE
EAFE01007E13FC383E03F8381FFFF06C13C00001130018237DA21F>I<147814F81301A2
13031307130FA2131F133D1379137113F1EA01E1EA03C113811207EA0F01121E121C123C
127812F0B612C0A3390003F800A690B512C0A31A237EA21F>I<0010130C001F137CEBFF
FC14F814F014E01480EBFE00EA1CC090C7FCA4137F381FFFC014F0EB03F8381E01FC381C
00FEC7FCA214FFA2123C127E12FEA214FEA2387C01FC1278383E07F8381FFFE06C13C038
01FE0018237DA21F>I<EB1FC0EB7FF03801FFF83803F03C3807C07E380F80FE121FEA3F
00A2007E137C1400A2EB1F8038FE7FE0EBFFF038FFC1F8EB80FCEB007EA2147F5AA4127E
A3147E123E123F6C13FC380FC1F83807FFF06C13C038007F0018237DA21F>I<1238123E
003FB512C0A348148015005CA23870003C5C485B495A5CEA0003495A49C7FCA25B131E13
3EA2137E137C13FCA41201A8EA00701A257DA41F>I<13FF000313E0000F13F0381F01F8
383E007C003C137E007C133EA2127E127FEBC07EEBF07C383FFCF8EBFFF06C13E07E6C13
F014F84813FC381F3FFEEA3E0F387C03FF7F38F8007F143F141FA36C131E007C133E007E
133C383F80F8381FFFF0000713E0C6130018237DA21F>I<141C143EA3147FA24A7EA349
7FA2497F149FA29038071FF0140F010F7FEB0E07A2011C7F1403013C7FEB3801A2017FB5
FCA290B67E9038E0007FA200018149133FA248486D7EA226FFFC03B51280A329257EA42E
>65 D<B612F015FE813A03F8007F80ED1FC016E0150F16F0A21507150FA216E0151FED3F
C0ED7F8090B6120015FC15FF9039F8007FC0ED0FE0ED07F016F8150316FCA6ED07F8A2ED
0FF0ED3FE0B712C0160015F826257EA42C>I<9138FF8018010FEBF038013FEBFC789039
FFC03EF83901FE0007D803F813034848130148481300485A003F15785B007F1538A290C8
FC481500A97E6D1438A2123F6D1478001F15706C6C14F06C6C14E06C6CEB01C0D801FEEB
07803A00FFC01F0090383FFFFE010F13F8010013C025257DA42C>I<B612E015FC15FF3A
03FC007FC0ED1FE0ED07F06F7E6F7EA26F7EA2167FA31780AA1700A25E5EA24B5A4B5A4B
5AED1FE0ED7FC0B75A4BC7FC15E029257EA42F>I<B7FCA33903FC007FED1F80150F1507
A21503A2140EED01C0A3021EC7FC143EEBFFFEA3EBFC3E141E140E16E0A3EC000116C0A3
1503A21507151FED7F80B7FCA323257EA428>I<B612FEA33803FC00153F8181A281A391
38070380A392C7FC5C5C90B5FCA3EBFC1F8080A491C8FCA8B512F8A321257EA427>I<90
3901FF8030010FEBE070013FEBF8F09038FFC03D3901FE000FD807F81307484813034913
01485A003F14005B007F1570A290C8FC481500A7020FB5FCA27E903980000FF0A2123F7F
121F6C7E7F6C7ED801FE131F3900FFC03F90383FFFFB010F13F00101EB803028257DA430
>I<B500F1B512E0A33B03FC0007F800AD90B6FCA39038FC0007AFB500F1B512E0A32B25
7EA430>I<B512F8A3D803FCC7FCB3150EA3151CA3153CA2157C15FC1401EC07F8B6FCA3
1F257EA425>76 D<D8FFFE913803FFF8A26D5C0003EEFE00A2D9BF80130EA2D99FC0131C
A3D98FE01338A2D987F01370A2D983F813E0A3903981FC01C0A2903980FE0380A291387F
0700A3EC3F8EA2EC1FDCA3EC0FF8A26E5AA26E5AD8FFFE91383FFFF8A2EC01C035257EA4
3A>I<D8FFFE90380FFFE07FA200039039800038008080EBBFF0139FEB8FF880EB87FEEB
83FF13810180138015C0EC7FE0EC3FF0141FEC0FF815FCEC07FEEC03FF806E13B816F815
7F153F151F150FA21507150315011500EAFFFE167816382B257EA430>I<903803FF8001
1F13F0017F13FC3901FF01FF3A03FC007F80D807F0EB1FC04848EB0FE04848EB07F0A248
48EB03F8A2007F15FC90C71201A24815FEA96C15FC6D1303A2003F15F86D1307001F15F0
6D130F000F15E06C6CEB1FC0D803FCEB7F803A01FF01FF0039007FFFFC011F13F0010313
8027257DA42E>I<B612E015FC15FF2603FC001380ED3FC0ED1FE0150FA216F0A516E0A2
151FED3FC0EDFF8090B6120015FC15E001FCC8FCADB512F0A324257EA42A>I<B67E15F0
15FC3903FC01FF6E6C7E6F7E151F82A65E153F4B5A4A48C7FC90B512FC15F015FC9038FC
03FE6E7E8082157FA717E016C0ED3FE1B539F01FFFC06F1380923801FE002B257EA42E>
82 D<9038FF0180000713E34813F7381F80FF383E003F007E130F007C130712FC1403A2
7E91C7FC6C7E13F8387FFFC014F86C7F6C7F6C7F6C1480000114C0EA001F010013E0141F
140FA200E01307A36C14C0A26C130F00FE148039FFC03F00EBFFFE00E313F838C03FE01B
257DA422>I<007FB612F8A3903801FE03007C1400007815780070153800F0153CA200E0
151CA500001500B348B512FEA326247EA32B>I<B539E007FFE0A3D803FCC7EA38007F00
015DA26D14F06C5D80017F495AA26D6C485AA2ECE007011F91C7FC14F0010F130EA2ECF8
1E0107131CECFC3C0103133814FE01015BA2ECFFF06D5BA26E5AA26E5AA36EC8FCA2140E
2B257FA42E>86 D<B500C3B53803FFF0A33D07F8001FE0000E006C6C6D6C5BA26D800001
5FA26D496C13786C1770A26E486C13F0017F01395CA2903B3FC070FF01C0A202E0148301
1FD9E07F5BA202F114C7010FD9C03F90C7FCA202FB14EF01079038801FEEA2903A03FF00
0FFCA36D486D5AA36D486D5AA2027C5C02781301A23C257FA43F>I<EA03FF000F13E048
7F383F83F8EB81FCEB80FEEA1F00120EC7FCA213FF1207EA1FE0EA3F00127E5AA4EAFE01
EA7F07393FFF7FE0381FFC3F3807F01F1B187E971E>97 D<EAFFE0A3120FABEBE1FE9038
EFFF8090B512C09038FC0FE09038F003F001E013F81401A215FCA815F8140315F0EBF007
9038FC0FE090389FFFC0010F1300380E01FC1E267FA522>I<EB7FC03803FFF04813F838
1FC1FC1381EA3F01387F00F8007E137000FE1300A8127FA26C131C381F803CEBE0783807
FFF06C13E038007F0016187E971B>I<903801FFC0A3EB001FAB13FE3807FFDF4813FFEA
1FC0383F803FEB001F5A127E12FEA8127EA27E143F381FC0FF6CB512FC6C139F3800FE1F
1E267EA522>I<137F3803FFC0000F13F0381FC1F8383F80FC130048137E127E12FEB512
FEA348C7FCA4127F140EEA3F80EBC01E381FE07C3807FFF86C13E038007F8017187E971C
>I<EB0FE0EB7FF813FF3803FDFCEA07F1A2EA0FE1EBE0F81400A6B5FCA3EA0FE0B2B5FC
A316267EA513>I<9038FF83C00003EBEFE048EBFFF0380FC1F9391F007CE048EB7E4015
00A56C137C380FC1F86CB45A485B001C138090C8FCA2121E381FFFF814FEECFF806C14C0
15E0123F397E000FF04813071403A3007EEB07E0007F130F393FC03FC06CB512800007EB
FE00C613F01C247F971F>I<EAFFE0A3120FAB14FE9038E3FF8001EF13C0EBFE1F9038F8
0FE013F0A213E0AE39FFFE7FFEA31F267EA522>I<1207EA1FC0EA3FE0A5EA1FC0EA0700
C7FCA6EAFFE0A3120FB2EAFFFCA30E277EA612>I<EAFFE0A3120FABECFFE0A3EC3E005C
14F0EBE1E0EBE3C0EBEF80EBFFC0A2808013E7EBC7F8EBC3FCEBC1FE13C080EC7F80EC3F
C039FFFCFFF8A31D267FA520>107 D<EAFFE0A3120FB3AEEAFFFEA30F267EA512>I<26FF
C0FFEB7F8001C39038C1FFE001C701E37F3A0FCE0FE707903AD807FC03F801F013F8A201
E013F0AE3CFFFE7FFF3FFF80A331187E9734>I<38FFC0FE9038C3FF8001CF13C0380FDE
1F9038D80FE013F0A213E0AE39FFFE7FFEA31F187E9722>I<EB7F803803FFF0487F381F
C0FE383F003FA2007EEB1F80A200FE14C0A8007E1480A26CEB3F006D5A381FC0FE6CB45A
000313F038007F801A187E971F>I<38FFE1FE9038EFFF8090B512C0390FFC1FE09038F0
07F09038E003F8A3EC01FCA8EC03F8A2EC07F013F09038FC1FE090B512C001EF1300EBE1
FC01E0C7FCA8EAFFFEA31E237F9722>I<38FFC7C0EBCFF0EBDFF8380FF9FC13F1A2EBF0
F8EBE0701400ADB5FCA316187F9719>114 D<3807F980EA1FFF5AEA7C0FEA7807EAF803
A200FEC7FCEAFFE013FC6CB4FC6C13806C13C01207C613E0130FEAE003A212F000F813C0
EAFC07B512801400EAC3FC13187E9718>I<13E0A41201A312031207120F121FB512C0A3
380FE000AB14E0A63807F1C0EBFF806C1300C65A13237FA218>I<39FFE0FFE0A3000F13
0FAF141F143F0007137F9038FFEFFE6C13CFC6130F1F187E9722>I<39FFFC1FF8A3390F
F003800007EB0700A26D5A0003130EEBFC1E0001131CA26C6C5AA2EBFF78EB7F7014F06D
5AA26D5AA36D5AA26DC7FC1D187F9720>I<3BFFF8FFF1FF80A33B0FE01F803800A26C6C
486C5AA201F8EBE0F00003017F5B147701FC13F1000101E35BA2D800FFEBFB8014C115FF
017F91C7FC1480A290383F007EA26D137C011E133CA229187F972C>I<39FFFC7FF0A339
07F01E006D5A6C6C5A00015B6C6C5A13FF6D5A6D5A6D7E80A2497EEB7BF8EB73FC13F138
01E0FE48487E3907807F8039FFE1FFF8A31D187F9720>I<39FFFC1FF8A3390FF0038000
07EB0700A26D5A0003130EEBFC1E0001131CA26C6C5AA2EBFF78EB7F7014F06D5AA26D5A
A36D5AA26DC7FCA2130E1238EA7C1EEAFE1C133CEAE0786C5AEA7FE06C5A6CC8FC1D237F
9720>I<383FFFF8A3EB0FF0EA3C1F003813E038783FC0EA707F1480EBFF001271EA01FE
3803FC38120713F8EA0FF0001F137813E0383FC070007F13F01383B5FCA315187E971B>
I E /Fi 27 120 df<123C127E12FFA4127E123C08087E870D>46
D<1307497EA3497EA3497EA3497E1377A2EBF7F813E3A200017F13C1A200037F138013FF
A2487FEB007FA2000EEB3F80A239FFC1FFF8A31D1F7E9E22>65 D<B512F014FC80380FC0
7FA21580A2143FA2147FA21500A214FEEBFFF880EBC07FEC3F80A215C0A71580147FB612
005C14F81A1F7E9E20>I<90381FE0609038FFF8E04813FD3807FC1F380FE007381FC003
1401EA3F80127F90C7FCA25A1500A5903803FFFCA3397F000FE0A21380123FEA1FC0A2EA
0FE03807FC1F0001B5FC6C13F990381FE0601E1F7D9E24>71 D<B51280A33807F000B3A7
B51280A3111F809E12>73 D<39FFE00FFE13F013F8000FEB00E07F7FA2EA0EFFEB7F8013
3F14C0EB1FE0130F14F0EB07F8130314FCEB01FEEB00FFA2147F143FA2141F140F1407A2
140338FFE001A214001F1F7E9E24>78 D<B512E014F814FE380FE07FEC3F80A215C0A515
80150014FEEBFFFC14E0EBE1F8EBE0FCA280A380A315071587A239FFFE7FCFEC3FFEEC07
F8201F7E9E23>82 D<3807E180EA1FFBEA3FFFEA7C1FEA780F1307EAF803A36CC7FC7EEA
FFC0EA7FF813FE6C7EA26C1380120738007FC0130FA2130712E0A300F01380EAF80F00FE
1300B5FCEAEFFEEAC3F8121F7D9E19>I<3BFFFCFFFC7FF0A33B0FE01FC00700EC0FE001
F05C0007150E15F0161ED803F8141CEC1FF8163CD801FC1438EC39FCA2D800FE5CEC70FE
A2017F5CECF0FFECE07F013F5CA2ECC03F011F5CA2EC801F010F91C7FCA24A7E6D130E2C
1F7F9E2F>87 D<EA07F8EA1FFEEA3F1F1480EB0FC0A2120C1200EA01FF120FEA3F8FEA7E
0FA212FCA3131F387E3FF0EA3FF7EA0FC114147F9316>97 D<B47EA3121FA9EB9F80EBFF
C0EBE3F0138114F8A214FCA814F8A214F0EBE3E0381E7FC0381C1F001620809F19>I<EA
03F0EA0FFCEA1F7E123E127EA2EAFE181300A7127E1307123FEA1F0EEA0FFCEA03F01014
7E9314>I<EB3FE0A31307A9EA03F7EA0FFFEA1F0FEA3E07127EA212FEA8127EA2123E38
1F1FFCEA0FFFEA07E716207E9F19>I<EA03F8EA0FFEEA1F1F383F0F80127E14C012FEA2
B5FCA248C7FCA4127EEB01C0EA3F03381F87803807FF00EA01FC12147F9315>I<137F38
01FF803807E7C0EA0FCF138F121FEB8780EB8000A5EAFFF0A3EA1F80AEEAFFF8A312207F
9F0E>I<B47EA3121FA9EB8FC0EB9FE0EBF1F0EBE1F813C11381AC38FFF3FFA318207F9F
19>104 D<121E123FEA7F80A4EA3F00121EC7FCA5EAFF80A3121FAEEAFFF0A30C217FA0
0D>I<EAFF80A3121FB3A8EAFFF0A30C207F9F0D>108 D<39FF07E03F90391FF0FF809039
30F987C03A1F60FF07E0EBC0FEEB80FCAC3AFFF3FF9FFCA326147F9327>I<38FF0FC0EB
1FE0EB71F0381F61F813C11381AC38FFF3FFA318147F9319>I<EA01F8EA0FFF381F0F80
383E07C0007E13E0A300FE13F0A7007E13E0A2003E13C0381F0F80380FFF00EA03FC1414
7F9317>I<EAFF3C137FEBDF80121F139FA2EB86001380AAEAFFF8A31114809313>114
D<EA1FB0EA3FF01270EAF070A3EAFC00EAFF80EA7FE013F0123FEA0FF81201EAE078A3EA
F070EAF8F0EAFFE0EACF800D147E9312>I<1207A55AA35AEA3FF812FFA2EA3F00A91338
A5EA1F30EA0FF0EA07C00D1D7F9C12>I<38FF8FF8A3EA1F81AD1383380F87FFEA07FDEA
03F918147F9319>I<38FFE7F8A3381F81C0380FC380A33807E700A3EA03FEA36C5AA36C
5AA3137015147F9318>I<39FF8FF3FCA3391F87C0E014E0390FC7E1C0A2EBCFF13907EF
F380A2EBFFFB3903FCFF00A33801F87EA33800F03CA31E147F9321>I
E /Fj 90 126 df<127012F8B012701200A5127012F8A31270051C779B18>33
D<EA3018EAF83EA7EA701CA5EA30180F0E7C9C18>I<EA0306EA078FA6387FFFC0B512E0
A26C13C0380F1E00A6387FFFC0B512E0A26C13C0381E3C00A6EA0C18131C7E9B18>I<13
C01201A3EA07F0EA1FFC487EEA7DDF3871CF80EAF1C7EAE1CFA338F1C700EA7DC0127FEA
3FF86C7EEA07FEEA01FF13CF3821C7801271EAF9C3A212F1EAF9C700791300EA7DDEEA3F
FC6C5AEA07F0EA01C0A3120011247D9F18>I<EA3803387C0780130F12FE00EE13005BA2
131E133E12FEEA7C3C137C1238EA007813F8A25B1201A25B1203A25B1207EBC380EB87C0
120FEB8FE0130E121FA2121EEA3E0FEB07C0123C3818038013247E9F18>I<EA03C0487E
487EEA1E78EA1C38A4EB7BF013F3EA1EE3380FE780EBC70013875BEA1F0EEA3F8EEA7B9E
13DC12F113FCEAF0F8EB787013F8EA79FE387FFFF0383FCFE0381F03C0141C7F9B18>I<
1238127C127EA2123E120EA3121E123C127812F812F012C0070E789B18>I<137013F012
01EA03C0EA0780EA0F005A121E5AA25AA312F85AA87E1278A37EA27E121F7EEA0780EA03
C0EA01F0120013700C24799F18>I<126012F012787E7E7E13801207EA03C0A2EA01E0A3
13F01200A8120113E0A3EA03C0A2EA0780120F1300121E5A5A5A12600C247C9F18>I<EA
01C0A438E1C380EAF1C7EAFDDFB5FC383FFE00EA0FF8A2EA3FFEB51280EAFDDFEAF1C7EA
E1C33801C000A411147D9718>I<136013F0A7387FFFC0B512E0A26C13C03800F000A713
6013147E9718>I<123C127E127FA3123F120F120E121E127C12F81270080C788518>I<EA
7FFFB51280A26C130011047D8F18>I<127812FCA412780606778518>I<1303EB0780130F
A214005BA2133EA2133C137CA25BA25B1201A2485AA2485AA25B120FA248C7FCA2121E12
3EA25AA2127812F8A25A126011247D9F18>I<EA01F0EA07FC487EEA1F1FEA1E0F383C07
80387803C0A338F001E0A9EAF803007813C0A2EA7C07003C1380381E0F00EA1F1FEA0FFE
6C5AEA01F0131C7E9B18>I<EA01C0A212031207120F123F12FF12FB12631203B0EA7FFE
B5FCEA7FFE101C7C9B18>I<EA07F8EA1FFE487E387E1F8038F807C0EB03E01301A21270
1200A2130314C01307EB0F801400131E137C5B485A485A485A485A381E01E0123CEA7FFF
B5FC7E131C7E9B18>I<EA07F8EA1FFE487E387E0F80387C07C01303A21238EA00071480
131F3803FF005B7F38000F80EB07C01303EB01E0A3127012F8EB03C01307387E0F80387F
FF00EA1FFEEA07F8131C7E9B18>I<131F5B5B137713F7EA01E713C71203EA0787130712
0E121E123C1238127812F0B512F8A338000700A6EB7FF0EBFFF8EB7FF0151C7F9B18>I<
383FFF80A3003CC7FCA8EA3FF813FE7F383E0F80383803C0000013E01301A2127012F813
0314C01307387E1F80383FFF006C5AEA07F8131C7E9B18>I<137E48B4FC00071380380F
C3C0EA1F07123E383C0380007CC7FC1278A2EAF1F8EAF7FEB5FCEB0F8038FC07C0EAF803
EB01E012F012F8A212781303007C13C0EA3C07381F0F80380FFF006C5AEA03F8131C7E9B
18>I<12F0B512E0A338F007C0EB0F8000001300131E133E133C5BA25BA212015BA2485A
A412075BA66CC7FC131D7E9C18>I<EA03F8EA0FFE487E383E0F80EA3C07387803C0A438
3C0780EA3E0F381FFF00EA07FC487EEA1F1F383C0780387803C038F001E0A5387803C0EA
7C07383E0F80381FFF006C5AEA03F8131C7E9B18>I<EA03F8EA0FFC487EEA3E1F387C07
8000F813C0EAF003A214E0A312F8EA7C07EA3E1FEA1FFFEA0FFDEA03F1EA0001EB03C0A2
130700381380EA7C0FEB1F00133EEA3FFC6C5AEA0FE0131C7E9B18>I<127812FCA41278
1200A8127812FCA412780614779318>I<123C127EA4123C1200A81238127C127EA3123E
120E121E123C127812F01260071A789318>I<1303EB0F80131FEB3F0013FE485AEA03F0
485AEA1FC0485A007EC7FC5AA2127E6C7E6C7EEA07E06C7EEA01FC6C7E133FEB1F80130F
EB030011187D9918>I<387FFFC0B512E0A3C8FCA4B512E0A36C13C0130C7E9318>I<1260
12F87E127E6C7E6C7EEA07E06C7EEA01FC6C7E133FEB1F80A2EB3F0013FE485AEA03F048
5AEA1FC0485A007EC7FC5A5A126011187D9918>I<13FCEA03FE487E380F8780381E03C0
EA3C3FEA387F3878FFE0EA71E313C112F3EAE380A6EAF3C1007113C013E33878FF803838
7F00EA3C3E381E01E0EA0F83EA07FF6C13803800FE00131C7E9B18>64
D<13F8A3487E13DCA3EA03DEA4138EEA078FA5380F078013FFA31307381E03C0A3387F8F
F038FFDFF8387F8FF0151C7F9B18>I<EAFFFE7F1480381E07C01303EB01E0A5EB03C013
07381FFF80140014C0381E03E01301EB00F0A6EB01E01303B512C01480EBFE00141C7F9B
18>I<3801FCE0EA03FF120F138FEA1E03123CEA7C011278A200F8C7FC5AA87E387801E0
A2127CEA3C03001E13C0EA0F8FEBFF8000031300EA01FC131C7E9B18>I<EA7FF8EAFFFE
6C7E381E0F80EB07C0130314E01301A214F01300A9EB01E0A2130314C01307EB0F80387F
FF00485AEA7FF8141C7F9B18>I<B512F0A3EA1E00A41400A2131EA3EA1FFEA3EA1E1EA3
90C7FCA21478A5B512F8A3151C7F9B18>I<B512F0A3EA1E00A41400A2130FA3EA1FFFA3
EA1E0FA390C7FCA7EAFFE0A3141C7F9B18>I<3801F9C0EA07FF5AEA1F1FEA1E07123CEA
7C031278A200F8C7FC5AA5EB1FF0133F131F38F803C01278A2EA7C07123CEA1E0FEA1F1F
EA0FFF7EEA01FB141C7E9B18>I<387F8FF038FFDFF8387F8FF0381E03C0A9EA1FFFA3EA
1E03AA387F8FF038FFDFF8387F8FF0151C7F9B18>I<387FFF80B512C06C13803801E000
B3A4387FFF80B512C06C1380121C7D9B18>I<3801FFE05A7E38000F00B2127012F85B13
3EEA7FFC6C5A6C5A131C7E9B18>I<387F07F038FF87F8387F07F0381C03C0EB07801400
5B131E5B133813785B121D7F121F13BC131CEA1E1E130EEA1C0F7F1480130314C0130138
7F03F038FF87F8387F03F0151C7F9B18>I<EA7FF012FF127F000FC7FCB114F0A5EA7FFF
B5FC7E141C7F9B18>I<38FC01F8EAFE03A2383F07E0EA3B06A3138EA2EA398CA213DCA3
EA38D813F8A21370A21300A638FE03F8A3151C7F9B18>I<387E07F038FF0FF8387F07F0
381F81C0121DA213C1A2121C13E1A313611371A213311339A31319131DA2130DA2130FEA
7F07EAFF87EA7F03151C7F9B18>I<EA0FF8EA3FFE487EEA7C1FEA780F38F00780B1EAF8
0F00781300EA7C1FEA7FFF6C5AEA0FF8111C7D9B18>I<EAFFFEEBFF8014C0EA1E07EB03
E01301EB00F0A5EB01E01303EB07C0EA1FFF1480EBFE00001EC7FCA8EAFFC0A3141C7F9B
18>I<EA7FF8EAFFFE6C7E381E1F80130714C01303A313071480131F381FFF005BA2EA1E
1FEB0F801307A514BCA3387F83FC38FFC1F8387F80F0161C7F9B18>82
D<3807F380EA1FFF5AEA7C1FEA780FEAF007A390C7FC7E127CEA7FC0EA3FFC6CB4FC0007
138038007FC01307EB03E01301A2127012F0130300F813C0EAFE07B512801400EAE7FC13
1C7E9B18>I<387FFFF8B5FCA238F07878A400001300B23807FF80A3151C7F9B18>I<38FF
C7FEA3381E00F0B2EA1F01000F13E013833807C7C03803FF806C1300EA007C171C809B18
>I<38FF8FF8A3383E03E0001E13C0A4380F0780A400071300138FA4EA038E13DEA3EA01
DCA313FCA26C5AA2151C7F9B18>I<38FE03F8A338700070A36C13E0A513F8A2EA39DCA2
001913C0A3EA1D8DA5000D1380EA0F07A3EA0E03151C7F9B18>I<387F8FE0139F138F38
0F0F00138FEA079F13DEEA03FE5B12015B12005BA27F12017F120313DEEA079E138FA238
0F0F801307001E13C0387F8FF038FFDFF8387F8FF0151C7F9B18>I<38FF8FF8A3381E03
C0121F380F07801387EA078F1400EA03CFA2EA01DEA213FC1200A21378A9EA01FE487E6C
5A151C7F9B18>I<EAFFF8A3EAF000B3ACEAFFF8A30D24779F18>91
D<126012F07EA21278127CA27EA2121E121FA26C7EA212077FA26C7EA26C7EA212007FA2
137CA2133C133EA27FA27F1480A21307EB030011247D9F18>I<EAFFF8A3EA0078B3ACEA
FFF8A30D247F9F18>I<EA0380EA0FE0EA3FF8EAFFFEEAFC7EEAF83EEA600C0F077C9B18>
I<EA7FFFB51280A26C130011047D7F18>I<1206121E123E123C127812F012E0A312F812
FCA2127C1238070E789E18>I<EA1FF0EA3FFC487EEA7C1FEB0F80EA3807120013FF120F
123FEA7F87EA7C0712F0A3EAF80FEA7C1F383FFFF8EA1FFBEA07F115147E9318>I<127F
5A7E120FA5133FEBFFC014E0EBE3F0EB80F81478EB007C143CA61478138014F013E3EBFF
E0148038073F00161C809B18>I<EA01FEEA07FF001F1380EA3F0F123C3878070090C7FC
5AA61278EB03C0123CEA3F0F381FFF8000071300EA01FC12147D9318>I<EB1FC0133F13
1F1303A5EA03FBEA07FF121FEA3F0FEA3C071278130312F0A6EAF8071278EA7C0FEA3F1F
381FFFF86C13FC3803F3F8161C7F9B18>I<EA01F8EA07FE487E381F0F80383C07C0EA78
0314E0EAF001A2B5FCA300F8C7FC1278387C01E0123EEA1F87380FFFC06C13803801FE00
13147E9318>I<EB1F80EB7FC0EBFFE0EA01F313E3EBE1C0EBE000A2387FFFC0B5FCA238
01E000AE387FFF80A3131C7F9B18>I<3801F1F03807FFF85A381F1F78381E0F70383C07
80A5381E0F00EA1F1F13FE5BEA1DF0001CC7FCA2EA1FFF14C04813E0387801F038F00078
481338A36C1378007813F0EA7E03383FFFE0000F13803803FE00151F7F9318>I<127F5A
7E120FA5133FEB7F80EBFFC0EBE3E013C11381A21301AA387FE1FC38FFF3FE387FE1FC17
1C809B18>I<EA01C0487EA36C5AC8FCA4EA7FE012FF127F1201AEB5128014C01480121D
7D9C18>I<131C133EA3131C1300A4EA0FFE121F120FEA001EB3A3EA703EEAF83C137CEA
FFF8EA7FF0EA3FC00F277E9C18>I<12FEA3120EA5EB3FF0137F133FEB0780EB0F00131E
5B5B5BEA0FF87F139C131EEA0E0FEB0780130314C038FFC7F8A3151C7F9B18>I<EA7FF0
12FF127F1200B3A4387FFFE0B512F06C13E0141C7E9B18>I<387DF1F038FFFBF86CB47E
381F1F1CEA1E1EA2EA1C1CAB387F1F1F39FFBFBF80397F1F1F001914819318>I<EA7F3F
38FF7F80387FFFC0380FE3E013C11381A21301AA387FE1FC38FFF3FE387FE1FC17148093
18>I<EA01F0EA0FFE487E383E0F80EA3C07387803C0A238F001E0A6387803C0A2383C07
80EA3F1F381FFF006C5AEA01F013147E9318>I<EA7F3FB512C06C13E0380FE3F0EB80F8
1478EB007C143CA61478138014F013E3EBFFE01480EB3F0090C7FCA7EA7FE0487E6C5A16
1E809318>I<3803F3C0EA0FFBEA1FFFEA3E1FEA7C0FEA780712F8EAF003A612F8EA7807
EA7C0FEA3E1FEA1FFFEA0FFBEA03F3EA0003A7EB3FFCA3161E7E9318>I<387FC7E038FF
DFF0387FFFF8EA03FC13F01470EBE000A25BA9EA7FFFB512806C130015147F9318>I<EA
0FFF123F5AEAF81FEAE00FA26CC7FCB4FCEA7FF86C7EEA0FFFEA003F38700780EAF00312
F8A238FC0F00B5FC5BEAE7F811147D9318>I<EA01C01203A4387FFFC0B5FCA23803C000
A914C0EBC1E0A3EBE3C0EA01FF6C1380EB7E0013197F9818>I<387F0FE0EAFF1FEA7F0F
EA0F01AC130313873807FFFC6C13FE3801FDFC1714809318>I<387F8FF000FF13F8007F
13F0381E03C0000E1380A338070700A3EA038EA313DEEA01DCA3EA00F8A2137015147F93
18>I<38FF8FF8A3383800E0A3381C01C0A2137113F9A313D9380DDD80A3EA0F8FA33807
070015147F9318>I<387F8FF0139F138F38070700138EEA039EEA01DC13F81200137013
F07FEA01DCEA039E138EEA0707000F1380387F8FF000FF13F8007F13F015147F9318>I<
387F8FF000FF13F8007F13F0380E01C0EB0380A21207EB0700A2EA03871386138EEA01CE
A2EA00CC13DC13FC1378A31370A313F0EA7CE0127DEA7BC0EA7F806CC7FC121E151E7F93
18>I<383FFFF05AA2387803E0EB07C0EB0F8038001F00133E5B5B485A485A485A380F80
F0EA1F00123E5AB5FCA314147F9318>I<EB07E0133F137FEBFC0013F0AB1201EA7FE048
5AA26C7EEA01F01200AB13FCEB7FE0133F130713247E9F18>I<126012F0B3B012600424
769F18>I<127EEAFFC07FEA07F01200AB7FEB7FC0EB3FE0A2EB7FC0EBF8005BAB1207B4
5A5B007EC7FC13247E9F18>I E /Fk 45 123 df<EB01F8EB0FFEEB1E0EEB781F13F014
3E3801E01E1400A4485A383FFFFCA23803C07C143CA238078078A6380F00F0A6EA1F0138
FFC7FE138718207F9F19>12 D<EB01FF130FEB1E1F137813F0141EEA01E0A53803C03C38
3FFFFCA23803C03CA338078078A6380F00F0A6EA1F0138FFCFFEA218207F9F19>I<1238
127CA2127E123E120CA31218A21230126012C01280070E789F0D>39
D<EAFFC0A30A037D8B0F>45 D<1230127812F81278127005057C840D>I<140314071406
140E140C141C1418143814301470146014E014C013011480130314005B1306130E130C13
1C1318133813301370136013E05B12015B120390C7FC5A1206120E120C121C1218123812
301270126012E05A182D7FA117>I<137E48B4FC3803C380380701C0120E14E0EA1C0013
01123CA21278A538F003C0A51480130712E014005B130EEA701E131CEA3878EA3FF0EA0F
C0131F7C9D17>I<130C133C13FCEA0FF8EA1E781200A413F0A6EA01E0A6EA03C0A61207
EAFFFEA20F1E7C9D17>I<133FEBFFC03801C1E0380300F000061378EA0F80EBC07CA213
801478EA0600C712F814F0130114E0EB03C0EB0780EB0F00131C5B5B5B38018060EA0300
1206001C13C0EA3FFF5AB51280A2161E7E9D17>I<EB0F80EB7FC0EBF0E0EA01C1EA0383
EA0703380E01C0001EC7FC121C123C1238EA79FCEA7BFEEA7E07387C038012F814C012F0
A4EB078012E0A214005BEA700E5B6C5AEA1FF0EA07C0131F7C9D17>54
D<14181438A21478147C14FCA21301A2EB037C147EEB063EA2130CA21318143F497EA213
60A290B5FCA23901800F80A2EA0300A21206A2001F14C039FFC0FFFCA21E207E9F22>65
D<0007B5128015E039003E01F0EC00F849137CA515784913F8EC01F0EC03E0EC0FC090B5
120015C03901F003E0140115F01400A215F8484813F01401A2EC03E0A2EC07C00007EB1F
80397FFFFE00B512F81E1F7F9E20>I<903803F80890380FFE1890383F073890387801F8
3801F000D803C013F0000714705B48C7FC5A121E003E1460123C007C1400A45AA415C012
78EC0180127C003CEB0300A26C13065C6C6C5A3807E0703801FFC06C6CC7FC1D217B9F21
>I<0007B512FCA239003E007C153C49131CA5EC0618EBF80C1500A2143CEBFFFCA23801
F0381418A491C7FC485AA61207EA7FFFB5FC1E1F7F9E1E>70 D<903801FC0490380FFF0C
90383F039C90387800FC5BD803E013785B4848133848C7FC5A121E003E1430A2481400A4
5AA2ECFFFCA2EC03E01278EC07C0127C123CA27E6C130F3907801B803803E0713801FFE0
39003F80001E217B9F24>I<3807FFF0A238003E00A25BA65BA6485AA6485AA61207EAFF
FEA2141F809E10>73 D<3807FFF8A2D8003EC7FCA25BA65BA6485AA315C0A2EC0180EA03
E0A2140315005C5C0007133F387FFFFEB5FC1A1F7F9E1C>76 D<D807FEEBFFF07FD8003F
EB1F00EC800E016F130C14C0136714E0136314F001C15B14F813C0A2147CA248486C5AA2
143F141F15B0140FD8030013E01407A21403A2481301D80F805B387FF00012FF241F7F9E
22>78 D<EB03F8EB1FFEEB3C1F9038F007803901E003C03903C001E0EA0780000FEB00F0
90C7FC5A001E14F8123E123C127CA448EB01F0A4EC03E01278EC07C0127CEC0F80003C14
00003E131E001E5B6C5B3807C1F03803FFC0C648C7FC1D217B9F23>I<EB3F04EB7FCC38
01E0FC3803C07CEB803C00071338EB00185AA314007F7F13FC13FF6C13806C13C06C13E0
EA001F1303EB01F0A3006013E0A314C0EA70031480EAF80738FE0F00EAC7FCEA81F81621
7D9F19>83 D<001FB512F8A2381E03E000381438EB07C012300070141812601538153038
C00F8000001400A549C7FCA6133EA6137E381FFFF85A1D1F7B9E21>I<EA03F8EA0FFEEA
1F0FEB0780121E120C1200A2EA01FF120FEA1F07383C0F00127800F01330A2131FA238F8
7F60387FEFC0381F078014147D9317>97 D<EA0780123F127F120F120748C7FCA6121E13
3FEBFF80381FC3C0EB01E0EA1E004813F0A6387801E0A3EB03C01480387C0700EAFE1EEA
E7FCEAC1F014207C9F19>I<EA01FCEA07FEEA0F1F121CEA3C1EEA780C13005AA45AA27E
A21306EA780CEA3C18EA1FF0EA0FC010147C9314>I<1478EB03F813071300147814F0A6
EB01E0EA01F1EA07FDEA0F07EA1C03EA3801387803C0127012F0A438E00780A4EAF00FEA
701FEA783F383FEFF0EA0F8F15207C9F19>I<13F8EA07FEEA0F0FEA1C07003C1380EA78
03A212F0B5FCA200F0C7FC5AA37E1303EA78066C5AEA1FF8EA07E011147D9314>I<EB03
E0EB0FF0EB3CF81378EBF0F0A23801E000A5485AEA3FFCA2EA03C0A3485AA648C7FCA65A
EAFFF0A215207F9F0E>I<140EEB3E3FEBFFF73801C1CF380381E6000713E01301120FA3
380703C0EB8780EBFF00EA0CFC001CC7FCA3EA1FFF14C06C13E04813F0EA3800481378A2
481370A2007013F0EB01E0383C07C0381FFF00EA03F8181F809417>I<13F01207120F12
011200485AA6485AEBC7E0EBDFF0EBF87813E013C012071380A5380F00F0A6EA1F0138FF
E7FEA217207F9F19>I<13E0EA01F0A213E0EA00C01300A6EA01C0121FA212071203EA07
80A6EA0F00A65AEAFFC0A20C1F7F9E0D>I<13F01207120F12011200485AA6485AEBC3FE
A2EBC1F014C0EBC38038078600138C139C13BC13FEA2EA0F1E131F7F1480130714C0001F
13E038FFCFF8A217207F9F18>107 D<13F01207120F12011200EA01E0A6EA03C0A6EA07
80A6EA0F00A65AEAFFE0A20C207F9F0D>I<3A03C3F01F803A1FCFF87FC03A3FF83DC1E0
3907E03F0112033807C03EEB803CA53A0F007803C0A648EBF8073AFFE7FF3FF8A225147F
9327>I<3803C7E0381FDFF0383FF878EA07E0EA03C012071380A5380F00F0A6EA1F0138
FFE7FEA217147F9319>I<13FCEA03FF380F0380381E01C0383C00E012384813F012F0A4
38E001E0A214C0EAF003148038700700EA3C1EEA1FFCEA07E014147D9317>I<EBF1F838
07F7FC380FFE1E3800F80F13F03901E00780A63903C00F00A3141E5CEBE0383807F0F0EB
BFE0EB8F800180C7FCA348C8FCA4EAFFE0A2191D819319>I<EA03CF381FFF80383FF7C0
EA07E73803C7803807C3001380A548C7FCA65AEAFFF0A212147F9312>114
D<EA01F2EA07FEEA0E0E121CA2EA3C0C1300EA3FC0EA1FF0EA0FF8EA07FC1201EA003CEA
601CA3EA7038EAF870EAFFE0EACFC00F147E9312>I<EA0180EA0300A35AA25A123EEAFF
F8A2EA1E00A35AA65A1360A413C0A2EA3F80EA1E000D1C7C9B12>I<000F13F0EA7F07EA
FF0FEA1F01EA0F00381E01E0A6383C03C0A41307130F131F381FF7F8EA0FC715147D9319
>I<38FFC7F8A2381E03E0EB0180121F380F0300A21306130E138CEA079C139813B0A213
E012035BA25BA215147C9318>I<39FF9FF3FCA2391E0780F0010313E0903807C0C014C1
D81F0F1380000F13C3011B1300EB19C7EB31C614EEEBE1EC000713FCEBC1F813C0495AA2
495A7E1E147C9321>I<381FF9FFA23803E0F0000113E0EBF1C03800F380EBFB00137E13
7C133C133E137E13FF13CF38018F80EA0307000713C0EA1F0338FF8FFC139F18147F9318
>I<390FFC7F80A23901E03E00141813F000005BA25C14E06D5A13795C017BC7FCA2137E
133E133CA21338A21330A25B1278EAF8C0EAC18012E3007FC8FC123C191D809318>I<38
07FFE0A2EB03C0380E0780380C0F005BEA181E5BC65A5B485A3803C18012071381EA0F03
001E1300485A485AEAFFFEA213147F9314>I E /Fl 49 122 df<B512F8A815087F931B>
45 D<14E01303130F137FEA1FFFB5FCA213BFEAE03F1200B3AF007FB512E0A41B2E7AAD
28>49 D<EB3FE03801FFFC0007EBFF80001F14C0D83F8113E0397E007FF0007FEB3FF839
FF801FFCEBC00F15FE1407A3EA7F80EA3F00C7FCA2EC0FFCA215F8EC1FF0143F15E0EC7F
C0ECFF80ECFE00495A495AEB07E0495A90381F801EEB3F00137E49133ED801F0133C5B48
48137C48B512FC5A5A5A5AB612F8A41F2E7CAD28>I<EB0FF8EB7FFF48B512C048803907
F03FF048486C7E381FF00F81A213F813F0A2EA0FE0EA03C0C7485AA25D4A5A4A5A4A5AD9
3FFEC7FC14F8ECFF809038003FE0EC0FF8816E7E81801680A2120C123FEA7F80EAFFC0A2
16005CA201805B6C48485A393FC03FF86CB55A000714C0000191C7FC38003FF8212E7DAD
28>I<EC01F01403A21407140F141FA2143F147F14FF5B14EFEB03CFEB078F130FEB1F0F
131E133C137813F8EA01F013E0EA03C0EA0780120F1300121E5A127C5AB712E0A4C7381F
F000A8011FB512E0A4232E7EAD28>I<001C1430391FC007F090B5FC15E015C015801500
5C14F814E091C7FC001EC8FCA7EB0FF0EB7FFE001FB512809038E03FE09038801FF09038
000FF8121EC7EA07FCA315FEA2120C127F138012FFA315FC140FD87F0013F8007C131F6C
14F0393FC07FE06CB512C000071400000113FC38007FC01F2E7CAD28>I<ECFF80010713
E0011F7F017F7F9038FF80FC3903FE00FE3807FC01EBF803EA0FF0121F13E0003F6D5A6E
5A007F91C7FC5BA2144038FFC3FF01CF13C001DF13F09038FC07F8496C7E01F07F140101
E07FA2168013C0A4127FA4123F160013E0001F495AEA0FF06D485A6C6C485A6CB55AC614
C0013F90C7FCEB0FFC212E7DAD28>I<123C123F90B612C0A448158016005DA25D007CC7
5A0078495A4A5A00F85C4813074A5A4AC7FCC7123E5CA25C13015C1303A2495AA2130FA2
131F5CA2133FA4137FA96D5A010EC8FC22307CAF28>I<EB0FF8EB3FFF90B512C0000380
9038F80FF03907E003F8380FC00101807F001F1300A27FA27FEBF80101FE5BEBFF836CEB
C7F0ECFFE06C5C92C7FC6C806C14E06C6C7F48B57E000780D80FE37FD81FC07F383F803F
007F6D1380EB0007481301487F157FA2153FA26C1500A26C6C5B15FE6C6C485A391FF807
F86CB55A00035CC61480D91FF8C7FC212E7DAD28>I<EB0FF8EB7FFF48B57E000714E039
0FF81FF0391FF007F8D83FE07F1403D87FC07F140112FF81A41680A45C127FA2003F5B13
E0001F5B6C6C5A3807FFFD000113F938007FE1D9010113001300A3390F8003FEEA1FC0D8
3FE05BA24A5A140F01C05B391F803FE0ECFFC06CB5C7FC6C5B000113F838007FC0212E7D
AD28>I<157815FCA24A7EA34A7EA24A7FA34A7FA24A7FEC1E7FA2023E7FEC3C3F027C7F
EC781FA202F87FECF00F01018014E015070103804A7EA2D907808081010F8191B6FCA249
81A2013EC76C7E013C143FA24981161F01F88149140FA2484881B5D8C003B512FCA43631
7DB03D>65 D<B712E016FE707E83C6D9800013F0163F707E707EA2831607A5160F5FA24C
5A4C5A4C5A4B485A91B6C7FC5EEEFFC0913980003FF0EE0FFC707E707EA2701380A218C0
A718805E18005EEE1FFEEE7FFCB85A17E0178004FCC7FC32317EB039>I<913A03FF8003
80023FEBF00749B5EAFC0F0107ECFF1F011F9038803FFF90397FF80007D9FFE013014849
7F4890C8127F4848153F120F4848151F49150F123F5B1707127FA24992C7FC12FFAB127F
7FEF0780123FA27F001F160F6D16006C6C5D0007161E6C6C153E6C01C05C6C6D495AD97F
F8495A903A1FFF801FE0010790B5128001014AC7FCD9003F13F80203138031317CB03A>
I<B712F016FF17C017F0C6D9C0007FEE0FFE707E040113807013C0177FEF3FE018F0171F
18F8A2EF0FFCA418FEAB18FCA4EF1FF8A218F0173F18E0177FEFFFC04C13804C1300EE0F
FEEEFFFCB812F017C094C7FC16F037317EB03E>I<B812F0A4C69038C0007FEE0FF81603
1601A216001778A4030F133CA417005D5D5D91B5FCA4ECC07F81816F130FA3171EA292C7
FCA2173EA3177C17FCA216031607163FB8FC17F8A330317EB035>I<B812E0A4C6EBC000
EE1FF0160716031601A21600A4030F1378A417005D5D5D91B5FCA4ECC07F818181A592C8
FCABB612F0A42D317EB033>I<DA07FF1307027FEBF00F49B5EAFC1F010F6E5A49903800
3FFFD97FF8130FD9FFE013034801807F4890C8FC484881485A001F824981123F5B007F82
A34992C7FC12FFAA030FB512FC127F7FA2DB00031300123F7F121F7F120F6C7E6C7E6C7F
6C01E05BD97FF85B90391FFF803F6D90B6FC0101ECFE3F6D6CEBF00F0207EB800336317C
B03F>I<B600C0B612C0A4C601C0C7EBC000B291B7FCA402C0C7FCB3B600C0B612C0A43A
317EB03F>I<B612C0A4C6EBC000B3B3A5B612C0A41A317EB01E>I<B612F0A4C601C0C8FC
B3A7EE03C0A416071780A3160FA2161F163FA216FF5D030F1300B8FCA42A317EB030>76
D<B500E00103B512C08080A2C66D90390003C000808001F77F13F38101F17F01F07F6E7E
6E7E141F816E7E6E13806E13C08016E06E13F0ED7FF8ED3FFC151F16FEED0FFF6F13836F
13C38117E36F13F3EE7FFBEE3FFF82A28282828282A2177F173F171FB500F0140FA21707
17033A317EB03F>78 D<B712E016FCEEFF8017C0C6D9C00013F0EE3FF8161FEE0FFC17FE
1607A217FFA617FEA2160F17FCEE1FF8EE3FF0923801FFE091B612C0170016F802C0C8FC
B2B612C0A430317EB037>80 D<B7FC16F816FE707EC6D9C0037F9238007FE0707E707E83
160F83A65FA2161F5F4C5A4C5A923803FF8091B548C8FC16F8A29138C007FC6FB4FC6F7F
8183707EA683A4F0078017F8A293383FFC0FB63AC01FFE1F0093380FFFFE04035B933800
3FF039317EB03C>82 D<90391FF8038090B51207000314CF4814FF380FF00F381FC00139
3F80007F48C7123F151F127E00FE140FA215077E7F6D90C7FC7F13FE387FFFE014FF6C14
E015F86C806C806C80000115806C6C14C0010F14E0EB007F14079138007FF0153F151F15
0F12F01507A37E16E06C140F6C15C06C141F01C0EB3F8001FCEBFF0090B55A00F95CD8F0
3F13F0D8E003138024317CB02D>I<007FB8FCA49039E00FFC0101006E7E007E82007C82
83481780A3481607A6C792C7FCB3A8017FB67EA431307DAF38>I<B6D8C007B51280A4C6
01C0C738078000B3AE170F017F93C7FC80013F5D6E143E011F157E6D6C5CD907FE495A90
3A03FF801FF0010090B55A023F1480020F49C8FC020013E039317EB03E>I<B66C90B512
C0A4C601E0C73807C0006D6C5D6E140F013F4BC7FC6E141E6D6C143E010F5D6E14786D6D
13F86D4A5A03C05B6DEBE0036D4A5A15F0027F495A6E6C48C8FC15FC021F133E6E6C5A15
FF6E5B5E806E5B5E80B091B67EA43A317FB03D>89 D<EB7FF03803FFFE000F6D7E391FE0
3FE06D6C7E6E7EA26E7EEA0FE0EA07C0EA0100C7FCA2EB03FF133F3801FFE73807FC07EA
1FF0EA3FE0EA7FC0138012FF1300A3140FEB801FD87FC07F3A3FE07BFFF0381FFFF30007
13C1C6EB007F24207E9F27>97 D<EA01FC12FFA4120F1207ACEC1FE0ECFFFC90B6FC9138
E07FC09138801FE09039FE000FF04914F8150716FC1503A216FEAA16FC150716F8A26DEB
0FF0151F9039FF803FE09039F7C07F8001E3B5120001C013FC9038801FE027327EB12D>
I<EB0FFE90387FFFC048B512F03903FC07F8380FF00FEA1FE0A2EA3FC0007FEB07F0EC03
E0903880008000FF1400AA6C7EA2153C6C7E001F147C6D13F8390FF801F03903FE07E06C
B512C06C6C1300EB0FF81E207D9F24>I<ED1FC0EC0FFFA41400157FACEB0FF8EB7FFE48
B6FC3803FC07380FF80148487E49137F485A127FA25B12FFAA127FA27F123F6C6C13FF5C
6C6C4813E02607FC0F13FE0001B5127F38007FFCEB0FF027327DB12D>I<EB0FFC90387F
FF8048B512E03903FC0FF0390FF003F89038E001FC121F393FC000FEA2127F49137F12FF
A290B6FCA30180C7FCA4127F7FA2003F140F7F001F141F6C6C133ED807FC137C3903FF01
F8C6EBFFF0013F13C0903807FE0020207E9F25>I<14FF010713C0011F13F0EB7FC79038
FF8FF848130FA2EA03FEA2EC07F0EC01C091C7FCA7B512FCA4D803FEC7FCB3A6387FFFF8
A41D327EB119>I<90391FF00FC09039FFFE3FE0000390B512F03907F83FF7390FE00FE7
001F14F39039C007F1E0003FECF800A7001F5CEBE00F000F5C3907F83FC090B55A000E49
C7FCEB1FF0001EC9FCA2121F7F90B57E15F06C14FC15FF6C1580A216C0121F263F800013
E048C7121F12FE150FA36C141F6C15C06D133F6C6CEB7F803A1FF803FF000007B512FC00
0114F0D8001F90C7FC242F7E9F28>I<EA01FC12FFA4120F1207ACEC07F8EC1FFE91387F
FF809138F07FC0EBFDE09039FF803FE01400A25BA25BB2B500E3B5FCA428327DB12D>I<
EA03E0487E487E487EA56C5A6C5A6C5AC8FCA8EA01FC12FFA4120F1207B3A4B512C0A412
337EB216>I<EA01FC12FFA4120F1207AC913803FFF8A4913800FE00EC01F84A5A4A5A4A
5A4A5A027FC7FC14FE13FD90B5FCA2818181EBFC7F496C7E6E7EA26E7E6E7E81806E1380
6E13C0B500C313FEA427327EB12B>107 D<EA01FC12FFA4120F1207B3B3A4B512E0A413
327EB116>I<2701F803FCEB0FF000FFD91FFFEB7FFC027F01C1B5FC9139F87FC3E19028
F9E03FE78013803C0FFBC01FEF007F0007018001FE14C0D9FF005B495CA2495CB2B500E3
B5388FFFFEA43F207D9F44>I<3901F807F800FFEB1FFE91387FFF809138F07FC0EBF9E0
3A0FFB803FE00007130013FF5BA25BB2B500E3B5FCA428207D9F2D>I<EB07FC90387FFF
C048B512F03903FC07F83907F001FC48486C7E4848137F003F1580A24848EB3FC0A300FF
15E0A8007F15C0A36C6CEB7F80A2001F15006C6C13FE6C6C485A3903FC07F86CB55A6C6C
13C0D907FCC7FC23207E9F28>I<3901FC1FE000FFEBFFFC90B6FC9138E07FC09138803F
E03A07FE001FF049EB0FF8A2ED07FCA3ED03FEAAED07FCA216F8150F6DEB1FF0A29039FF
803FE09138C0FF8091B5120001FC13FCEC1FE091C8FCAAB512E0A4272E7E9F2D>I<3801
F87E00FFEBFF8001F913E0EBFBCF9038FF9FF0000F131FEA07FEA2EC0FE0EC07C09038FC
010091C7FCB1B512F0A41C207E9F21>114 D<EBFF8E000713FE121FEA3F00007E137E00
7C133E00FC131EA27E6C90C7FC13C013FF14C06C13F06C13FC80000F7F1203C614801307
130000F0133FA26C131FA26C14005C7E38FF80FEEBFFFC00F313F038E07F8019207D9F20
>I<131EA5133EA3137EA213FE120112031207381FFFFEB5FCA3D803FEC7FCAFEC0780A7
140FD801FF1300149F6C13FEEB3FFCEB07F0192E7FAD1F>I<D801FCEB0FE000FFEB07FF
A4000FEB007F0007143FB1157FA315FF00034913F09039FE03BFFF6CB5123F38007FFEEB
0FF828207D9F2D>I<B538C07FFCA43A07FC0007806D130F000315007F6C141EA2EC803E
6C143CECC07C017F1378ECE0F8013F5B14F014F1011F5B14FB010F5B14FF6D5BA26D90C7
FCA36D5AA26D5AA2147826207E9F2B>I<B538C1FFFEA400019038003E00EC807E6CEBC0
7C6D6C5A90383FE1F0ECF3E06DB45A7F6D5B92C7FC7F6D7F7F81497F497FEB07DF90380F
8FF8011F7FEC07FE90383E03FF497E01F8148000016D13C026FFFE0313FFA428207F9F2B
>120 D<B538C07FFCA43A07FC0007806D130F000315007F6C141EA2EC803E6C143CECC0
7C017F1378ECE0F8013F5B14F014F1011F5B14FB010F5B14FF6D5BA26D90C7FCA36D5AA2
6D5AA21478A214F85C1301003C5BEA7E0300FF5B1307495A49C8FCEA7A3EEA7FFC6C5AEA
0FC0262E7E9F2B>I E /Fm 4 106 df<EB01FE90380FFFC090383E01F09038F0003CD801
C0130E48487F48C7EA0380000EEC01C0000C1400001C15E048157000301530A200701538
00601518A200E0151C48150CA96C151C00601518A20070153800301530A2003815706C15
E0000C15C0000E14016CEC03806C6CEB07006C6C130ED800F0133C90383E01F090380FFF
C0D901FEC7FC262B7DA02D>13 D<EA07E0EA1FF8EA3FFCEA7FFEA2B5FCA8EA7FFEA2EA3F
FCEA1FF8EA07E010127D9317>15 D<13C0A212011380A2120313005A1206A2120E120CA2
121C1218A21238123012701260A212E05AA27E1260A21270123012381218A2121C120CA2
120E1206A212077E13801201A213C01200A20A2E7CA112>104 D<12C0A27E1260A21270
123012381218A2121C120CA2120E1206A212077E13801201A213C01200A212011380A212
0313005A1206A2120E120CA2121C1218A21238123012701260A212E05AA20A2E7DA112>
I E /Fn 63 123 df<ECFF80010F7F013F7F9038FF01F03801FC07EA03F8A2EA07F0A3EC
01C091C8FCA3EC3FF8B6FCA33807F003B3A33A7FFF3FFF80A3212A7FA925>12
D<ECFFF8130F133FEBFF073801FC0FEA03F8A23807F0071403A7B6FCA33807F003B3A33A
7FFF3FFF80A3212A7FA925>I<123C127FEAFF80A213C0A3127F123F1201A212031380A2
EA0700A2120E121E5A123812100A157B8813>44 D<B5FCA610067F9016>I<121C127FA2
EAFF80A3EA7F00A2121C09097B8813>I<1403EC0780140FA215005CA2141E143EA25CA2
147814F8A25C1301A2495AA25C1307A25C130FA249C7FCA2131E133EA2133C137CA25BA2
5B1201A25B1203A2485AA25B120FA290C8FC5AA2123EA2123C127CA2127812F8A25A1260
193C7CAC22>I<EB3F803801FFF0000713FC380FE0FE381FC07F497E003F1480EB001F48
14C0A44814E0AF6C14C0A46C1480EB803F001F14006D5A380FE0FE6CB45A000113F03800
3F801B277DA622>I<13075B137FEA07FFB5FCA212F8C6FCB3AB007F13FEA317277BA622>
I<EBFF80000713F0001F13FC383E07FE387E01FF397F007F80D8FF8013C0143F15E0A214
1FEA7F00123EC7123F15C0A2EC7F80A2ECFF005CEB01F8495A495A495A49C7FC013E13E0
5B13789038E001C0EA01C0EA038048B5FC5A5A5A481480B6FCA31B277DA622>I<EB7F80
3801FFF0000713FC380F81FE381F80FF7F393FE07F80A4381FC0FF1500EA0700C6485A49
5A495AEBFFE05C14F8EB01FC6DB4FCEC7F80A2EC3FC0A2001E14E0123FEA7F80EAFFC0A3
15C01380007FEB7F80393E00FF006C485A6CB45A6C13F0C613801B277DA622>I<140F5C
5C5CA25C5B5BA25B497E131E133CA2137813F0EA01E013C01203EA0780EA0F00121EA25A
5A5AB612F8A3C71300A7017F13F8A31D277EA622>I<00181303381F801F90B5FC5C5C5C
5C14C049C7FC001CC8FCA6EB3FC0381DFFF8001F7FEB80FE381E007F001CEB3F80C713C0
A215E0A2121C127EB4FC1380A215C01300007E1480007C137F003CEBFF00381F01FE6CB4
5A6C13F0C613801B277DA622>I<EB07F8EB3FFE90B5FC3901FC0F80EA03F03907E01FC0
380FC03FEA1F80A2123FEC1F80397F000F0091C7FCA238FF0FE0EB1FF8EB3FFEEB707F90
38C03F80141F018013C0A2010013E0A47EA47E15C0EA1F801580390FC03F003807E07E6C
B45A6C5B38003FC01B277DA622>I<1238123E003FB512F0A315E04814C01580A2150038
70001E5C5C48137014F0495AC6485A495AA2130F91C7FC5B5BA3137EA213FEA41201A86C
5A13781C297CA822>I<EB3FC03801FFF04813FC3807C07E48C67E001E7FEC0F80123EA2
123F13C013E09038F81F00EBFE3E381FFF7E5C6C13F06C7F6C13FE80000F1480EA1F9FD8
3F0713C0EA3E0348C613E0143F48131F1407A21403A215C0127C007EEB07806CEB0F0038
1FC03E380FFFFC00035B38007FC01B277DA622>I<EB7F803801FFF000077F380FE0FC38
1F807E003F7F397F001F80A34814C0A315E0A56C133FA26C137F1380381FC1DF380FFF9F
0003131FEA00FE010013C0A2121E003F1480387F803FA21500147E1300003E5BEB03F838
1FFFE000071380D801FEC7FC1B277DA622>I<121C127FA2EAFF80A3EA7F00A2121CC7FC
A9121C127FA2EAFF80A3EA7F00A2121C091B7B9A13>I<EC0780A24A7EA34A7EA24A7EA3
4A7EA24A7E14E7A2903801C7FE14C301037F1481A2D907017F804980010E137FA2498015
3F013FB57EA3903970001FF8150F01F080491307A24848801503000381D8FFFE017F13FC
A32E297EA833>65 D<B612FCEDFF8016E03A03FC001FF06F7E6F7E150382A21501A21503
A25EA24B5A150FED3FE090B65A93C7FC16E09039FC000FF86F7E6F7E15016F7EA21780A6
17005D4B5A15074B5AB712F016C04BC7FC29297EA830>I<91387FE003903903FFFC0701
1FEBFF0F90397FF00FDF9039FF8001FF4848C7FC4848147FD807F0143F000F151F485A16
0F485A1607127F5B160012FFA9127FA26D1407123FA26C7E160E6C7E0007151CD803FC14
3C6C6C14783A00FF8001F090397FF007C0011FB512800103EBFE009038007FF028297CA8
31>I<B612FCEDFF8016E03A03FE001FF8ED03FC6F7E6F7EEE7F80EE3FC0161F17E0A2EE
0FF0A417F8AA17F0A3EE1FE0A217C0163F1780EE7F004B5AED03FCED1FF8B75A168003FC
C7FC2D297EA834>I<B712E0A33903FE001FED07F015011500A21670A3913801C0781638
A302031300A2140F90B5FCA3EBFE0F1403A20201130EA3161C91C7FCA3163C1638167816
F815011503151FB712F0A327297EA82C>I<B712C0A33903FE003FED0FE015031501A215
00A316F0913801C070A316001403A2140F90B5FCA3EBFE0F1403A21401A491C8FCA9B512
FEA324297EA82A>I<91387FE003903903FFFC07011FEBFF0F90397FF00FDF9039FF8001
FF4848C7FC484880D807F080000F81485A82485A82127F5B93C7FC12FFA84AB512F8127F
A29026C000011300123FA26C7EA26C7E1207EA03FC6C7E6C6C6C5A90387FF00F011FB512
3F0103EBFC0F9039007FE0032D297CA835>I<B5D8F81FB5FCA3D803FEC7EA7FC0AF90B7
FCA349C7127FB1B5D8F81FB5FCA330297EA835>I<B512FEA300011300B3B1B512FEA317
297FA819>I<B539F801FFFCA3D803FEC7EA1F00163E16785E4B5AED07C04B5A4BC7FC15
3E5D15F04A5A4A5AEC0FE0141F4A7E4A7E14FF9038FFEFFCECC7FEEC87FF1403496C7F82
806F7E6F7E82151F6F7E8215076F7E6F138017C0B5D8F81F13FEA32F297EA835>75
D<B512FEA3D803FEC8FCB3A3ED01C0A415031680A21507A2150FA2151F157F913801FF00
B7FCA322297EA828>I<B592381FFFE0A26E5C0003EFF800A2D9BFC01477A2D99FE014E7
A2D98FF0EB01C7A2D987F8EB0387A3D983FCEB0707A2D981FE130EA2D980FF131CA2ED80
38147FA291383FC070A291381FE0E0A291380FF1C0A3913807FB80A2913803FF00A26E5A
A26E5AA2D8FFFE4AB512E01578A23B297EA840>I<B5EC7FFF808000036DEB01C0A280EB
BFF8EB9FFCEB8FFEEB87FF01831380A2018113C0018013E0EC7FF0EC3FF8EC1FFC140F15
FEEC07FF6E13816E13C16E13E1ED7FF1A2ED3FF9ED1FFDED0FFF818181A281167F163F16
1F160FA2D8FFFE14071603160130297EA835>I<ECFFC0010F13FC013F13FFD9FFC013C0
3A01FE001FE048486D7E48486D7E48486D7E48486D7EA248486D7EA2007F168049147FA3
00FF16C0AA007F16806D14FFA2003F1600A26C6C495AA26C6C495A6C6C495A6C6C495A6C
6C495A3A00FFC0FFC0013FB5C7FC010F13FC010013C02A297CA833>I<B612F815FF16C0
3A03FE003FE0ED0FF0ED07F816FC150316FEA716FC150716F8ED0FF0ED3FE090B612C016
0015F849C8FCAFB512F8A327297EA82E>I<B612E015FE6F7E3A03FE007FE0ED0FF06F7E
82150382A65E15075E4B5AED7FE090B612804BC7FC6F7E49C67FED3FE0826F7E150FA817
0EA216FC923807FE1EB539F803FFFC030013F8EE1FE02F297EA832>82
D<01FF13C0000313E1000F13FB381F80FF383F003F003E130F481307A200FC1303A21401
7EA26C6CC7FC13F06CB47E14F06C13FC806C7F6C14806C14C0000114E0EA003F13039038
003FF0140F140712E01403A36C14E0A26C13076C14C0B4EB0F80EBE01F39F3FFFE0000E1
5B38C01FF01C297CA825>I<007FB71280A39039807FC03FD87C00140F00781507A20070
150300F016C0A2481501A5C791C7FCB3A490B612E0A32A287EA72F>I<B500F8EBFFFEA3
D803FEC7EA0380B3A91607000116007F6C5D6E131E017F5CD93FE0137C90390FF803F06D
B55A01001480DA1FFCC7FC2F297EA834>I<B500F8EB7FFFA3000390C7EA01C06CED0380
806CED0700A26E5B017F140E80013F5C80011F5CA26E1378010F14706E13F001075C8001
03495AA2ECFF036D5C15876D91C7FC15C7EC7FCEA215FE6E5AA26E5AA26E5AA36E5AA26E
5AA230297FA833>I<B500F0B539F01FFFC0A32803FE0003FEC7EA7000A26D6E14F06C6E
5DA20280EC80016C6002C014C0017F494A5AA26E48EBE007013F023F91C7FCA2DAF00F6D
5A011FD90E1F130EA26D6C486C6C5AA202FC14FC0107D938075BA2DAFE78EBFE780103D9
70031370A2DAFFF0EBFFF06D496C5BA26D496C5BA36E486D5AA36EC76CC8FCA3021E141E
A242297FA845>I<B500F8EB3FFFA300030180EB03C06C16806C6D13076EEB0F00017F14
0E6D6C131E6E131C011F143C6E5B6D6C1370010714F06E485A6D5C6D1383EDC3806D13C7
DA7FEFC7FC15FE143F6E5A5D140FAE0103B512E0A330297FA833>89
D<48B47E000F13F04813FC383FC1FEEBC07FA2EC3F80EA1F80EA0F00C7FCA2EB03FF90B5
FC1207381FF03FEA3FC0EA7F00A212FEA3147F127F903881DFC0393FFF9FFC000F130F38
03F8031E1B7E9A21>97 D<EAFFE0A3120FAC14FF01E713C090B512E09038FE07F09038F8
03F89038E001FC15FE1400A215FFA915FEA2EC01FC13F09038F803F89038FC0FF090389F
FFE001071380390E01FE00202A7EA925>I<EB3FE03801FFFC487F380FF0FFEA1FC0485A
A2007F137EEB003C91C7FC5AA77E7FA2003FEB038013C0391FE00700380FF81E3803FFFC
6C5B38003FC0191B7E9A1E>I<EC7FF0A31407ACEB7F873801FFE7000713FF380FF03F38
1FC00F383F8007A2EA7F00A25AA97EA2EA3F80140F381FC01F380FE07F3907FFF7FF6C13
E738007F07202A7EA925>I<EB3FC03801FFF0000713FC380FE0FE381FC07F393F803F80
141F127F010013C05A140F90B5FCA390C8FCA46C7EA2003FEB01C0EBC003D81FE0138038
0FF80F0003B51200C613FCEB3FE01A1B7E9A1F>I<EB03FCEB1FFEEB7FFF9038FE3F8038
01FC7FEA03F813F00007EB3F00A291C7FCA6B512C0A3D807F0C7FCB3A3387FFF80A3192A
7EA915>I<9038FF81F00003EBE7F8000FEBFFFC391FC1FC7C383F80FE9038007E3848EB
7F00A66C137EEB80FE381FC1FC6CB45A4813E0001813800038C8FCA2123C123E383FFFF8
14FF6C14C06C14E015F0123F397E000FF8007C130300FC1301A4007EEB03F0007F130739
3FC01FE0000FB512800003EBFE0038007FF01E287E9A22>I<EAFFE0A3120FAC14FE9038
E3FF8001E713C09038EE0FE013FC9038F807F013F0A213E0B039FFFE3FFFA3202A7DA925
>I<1207EA1FC0EA3FE0A5EA1FC0EA0700C7FCA7EAFFE0A3120FB3A3EAFFFEA30F2B7EAA
12>I<EAFFE0A3120FACEC3FF8A3EC0F80EC1F00143E14785CEBE1E0EBE3C013EF13FF80
80A2EBF3F8EBC3FCEBC1FE13C080EC7F80143F15C0EC1FE039FFFC7FFCA31E2A7EA923>
107 D<EAFFE0A3120FB3B2EAFFFEA30F2A7EA912>I<26FFC07FEB1FC0903AC1FFC07FF0
01C79038E1FFF83B0FCF0FF3C3FC9039DC07F701903AD803FE00FE01F05BA201E05BB03C
FFFE3FFF8FFFE0A3331B7D9A38>I<38FFC0FE9038C3FF8001C713C0390FCE0FE013DC90
38D807F013F0A213E0B039FFFE3FFFA3201B7D9A25>I<EB3FE03801FFFC487F390FF07F
80391FC01FC0393F800FE0A2397F0007F0A34814F8A86C14F0A2393F800FE0A2391FC01F
C0390FF07F806CB51200000113FC38003FE01D1B7E9A22>I<38FFE0FF01E713C090B512
E0390FFE0FF09038F807F89038E003FCEC01FEA3EC00FFA9EC01FEA215FCEBF0039038F8
07F89038FC0FF090B512E001E713809038E1FE0001E0C7FCA9EAFFFEA320277E9A25>I<
38FFC7E0EBCFF8EBDFFC380FF9FE13F1A3EBE0FC14781400AFB5FCA3171B7E9A1B>114
D<3803FE30380FFFF0123FEA7E03EA780000F81370A300FE1300EAFFE0EA7FFEEBFFC06C
13E06C13F0000713F81201380007FC130138E0007CA27E14786C13F838FF01F0EBFFE000
F713C000C11300161B7E9A1B>I<1370A413F0A21201A212031207121FB512E0A33807F0
00AD1470A73803F8E03801FFC06C1380EB3F0014267FA51A>I<39FFE07FF0A3000F1307
B1140FA2141F0007137F9038FFF7FF000113C738007F07201B7D9A25>I<39FFFE07FFA3
3907F000E0A2EBF801000314C0A23901FC0380A2EBFE07000014006D5AEB7F0EA2EB3F9C
A214FC6D5AA26D5AA36D5AA26D5AA2201B7F9A23>I<3BFFFC7FFC1FFCA33B0FE00FE001
C02607F007EB0380A201F8EBF0070003160015F82601FC0F130EA29039FE1FFC1E000001
1C131C15FE9039FF387E3C017F1438EC787F6D486C5AA29138E01FF0011F5CA26D486C5A
A36D486C5AA22E1B7F9A31>I<39FFFC1FFEA33907F00780D803F813006C6C5AEBFE1E00
005BEB7F78EB3FF85C6D5A130F6D7E80130F497EEB3DFEEB38FFEB787F9038F03F80D801
E013C03903C01FE0EB800F39FFF03FFFA3201B7F9A23>I<39FFFE07FFA33907F000E0A2
EBF801000314C0A23901FC0380A2EBFE07000014006D5AEB7F0EA2EB3F9CA214FC6D5AA2
6D5AA36D5AA26D5AA25CA21307003890C7FCEA7C0FEAFE0E131E5BEAF678EA7FF06C5AEA
0F8020277F9A23>I<003FB5FCA3EB01FEEA3C03003813FC387807F8EB0FF0EA701F14E0
EB3FC0EA007F1480EBFF003801FE07120313FCEA07F8000F130F13F0381FE00E383FC01E
007F133EEB80FEB5FCA3181B7E9A1E>I E /Fo 83 125 df<90381FC1F090387FF7F839
01F07E7C3803C0FCEA0780390F00F838EC7800A6B61280A2390F007800B0397FE3FF80A2
1E20809F1B>11 D<EB1F80EBFFC03801E0E03803C0F0EA0781EA0F01EB00E01400A5B512
F0A2EA0F00B0387FC3FEA21720809F19>I<EB1FB0EBFFF0EA01E1EA03C1EA0781EA0F00
A7B5FCA2EA0F00B0387FE7FEA21720809F19>I<90381FC0FC90387FE7FE3901F07F0726
03C0FE1380390780FC0F380F00F8913878070092C7FCA5B71280A2390F007807B03A7FE3
FF3FF0A22420809F26>I<127012F8A81270AE1200A5127012F8A3127005217CA00D>33
D<EA7038EAF87CEAFC7EA2EA7C3EEA0C06A3EA180CA2EA381CEA3018EA6030EA40200F0E
7F9F17>I<13C0A2EA03F0EA0FFCEA1CCF3838C380EA70C13860C0C0EAE0C313C7A212F0
EBC100EAF8C0127F13F0EA3FFC6C7EEA07FF00011380EA00DFEBC7C013C31270EAF8C1A3
12E00060138013C33830C700EA1CCEEA0FFCEA03F0EA00C0A312257EA117>36
D<127012F812FCA2127C120CA31218A21238123012601240060E7C9F0D>39
D<136013C0EA01801203EA07001206120E5AA2123C1238A212781270A412F0AC1270A412
781238A2123C121CA27E12061207EA03801201EA00C013600B2E7CA112>I<12C012607E
12387E120C120E7EA213801203A213C01201A413E0AC13C0A412031380A212071300A212
0E120C121C5A12305A5A0B2E7EA112>I<127012F8A312781218A41230A21260A2124005
0E7C840D>44 D<EAFFF0A30C03808B0F>I<127012F8A3127005057C840D>I<14C0A21301
1480A2130314005B1306A2130E130CA2131C131813381330A213701360A213E05B12015B
A2120390C7FCA25A1206120E120CA2121C1218A21238123012701260A212E05AA2122D7E
A117>I<EA03F0EA0FFCEA1E1EEA1C0E487E00781380EA7003A300F013C0AD00701380A3
EA780700381300EA1C0EEA1E1EEA0FFCEA03F0121F7E9D17>I<13C01201120F12FF12F3
1203B3A5EA7FFFA2101E7D9D17>I<EA07F0EA0FFCEA383EEA700F00601380EAF80700FC
13C0A2130312781230EA00071480A2EB0F00131E131C5B5B5B485A485AEB00C012065AEA
1801383FFF805AB5FCA2121E7E9D17>I<EA03F0EA0FFCEA1C1EEA300F00781380127C13
07130F123C00001300A2131E137CEA07F0A2EA003C130E130FEB0780A214C01230127812
FCA21480EA780F00701300EA3C1EEA1FFCEA07F0121F7E9D17>I<1307A25B5BA25B5B13
EF13CF1201EA038F130F1207120E120C121812381230126012E0B512F0A238000F00A6EB
FFF0A2141E7F9D17>I<EA3003EA3FFF5B13F813E00030C7FCA6EA31F0EA37FCEA3E1EEA
380FA238300780120014C0A3127812F8A2148012F038600F00EA700EEA383CEA1FF8EA07
E0121F7E9D17>I<137CEA01FEEA0783380E0780EA0C0F121C3838070090C7FC12781270
A2EAF3F8EAF7FEEAFC0E487EEB0380A200F013C0A51270A214801238EB0700121CEA0E1E
EA07FCEA01F0121F7E9D17>I<1260387FFFE0A214C0A238E0018038C00300A21306C65A
5BA25B1370136013E0A212015BA21203A41207A66C5A131F7E9D17>I<EA03F0EA0FFCEA
1C1EEA3807123038700380A31278387C0700127FEA3F8EEA1FFC6C5A6C7E7FEA1EFF3838
7F80EA701FEB0FC0EAE003A21301A300F01380EA700338380700EA1E0EEA0FFCEA03F012
1F7E9D17>I<EA03F0487EEA1E1CEA380E7F1270EB038012F0A214C0A5EA7007A21238EA
1C0FEA1FFBEA07F338000380A2130714001238EA7C0EA2EA781CEA3078EA1FF0EA0FC012
1F7E9D17>I<127012F8A312701200AA127012F8A3127005147C930D>I<127012F8A31270
1200AA127012F8A312781218A41230A21260A21240051D7C930D>I<EA07E0EA1FF8EA38
1EEA600EEAF00F12F8A3EA200EEA001E133C137813F013E0EA01C01380A7C7FCA5EA0380
EA07C0A3EA038010207E9F15>63 D<EB0380A3497EA3497EA3EB19F0A3EB30F8A3EB607C
A3497EA348B5FCA2EB801F3903000F80A30006EB07C0A2001F14E039FFC03FFEA21F207F
9F22>65 D<B512E014F8380F803E141E141FEC0F80A515005C143E5CEBFFF880EB801FEC
0F80EC07C0140315E0A5EC07C0A2EC0F80EC3F00B512FE14F81B1F7E9E20>I<90380FE0
1090387FF8309038F80E703803E00339078001F048C7FC5A001E14705AA2007C14301278
12F81500A800781430127C123CA26C1460121F6C14C039078001803903E003003800F80E
EB7FFCEB0FE01C217E9F21>I<B512F814FE3907C01F80EC07C0EC01E0EC00F0A21578A2
157C153CA2153EA8153CA2157C157815F815F0EC01E0EC07C0EC1F80B5EAFE0014F81F1F
7F9E23>I<B61280A2380F800F1403A2140115C01400A214C0A21500A2138113FFA21381
1380A21560A2140015C0A31401A21403EC0F80B6FCA21B1F7E9E1F>I<B61280A23807C0
0F14031401A215C01400A21460A21500A214E013FFA213C01460A491C7FCA8B5FCA21A1F
7F9E1E>I<90380FE01090387FF8309038F80E703803E00339078001F048C7FC5A001E14
705AA2007C1430127812F81500A6EC7FFEA20078EB01F0127C123CA27E121F7EEA07C038
03E0033900FC0E7090387FFC1090380FF0001F217E9F24>I<39FFF8FFF8A2390F800F80
AC90B5FCA2EB800FAD39FFF8FFF8A21D1F7E9E22>I<EAFFF8A2EA0F80B3A9EAFFF8A20D
1F7F9E10>I<3807FFE0A238001F00B3A3127812FCA3EAF83E12706C5AEA1FF0EA0FC013
20809E17>I<39FFF81FFCA2390F8007C0150014065C5C5C5C5CEB81800183C7FCEB8780
138FEB9FC0EBBFE013F3EBE1F013C1EB80F880147C80143F80EC0F80A2EC07C0EC0FE039
FFF83FFEA21F1F7E9E23>I<EAFFFCA2EA0F80B11406A4140EA2140C141C143C14FCB5FC
A2171F7E9E1C>I<D8FFC0EB0FFE6D131F000715C0A2D806F01337A301781367A36D13C7
A390381E0187A290380F0307A3EB0786A3EB03CCA3EB01F8A3EB00F0120FD8FFF0EBFFFE
1460271F7F9E2A>I<39FF801FF813C0390FE003C0EC0180EA0DF0A2EA0CF813FC137C13
3E133F131FEB0F8114C1130714E11303EB01F114F91300147D147F143F141FA2140FA214
07001E1303EAFFC014011D1F7E9E22>I<EB1FE0EB7FF83801F03E3803C00F3907800780
390F0003C0001EEB01E0003E14F0003C1300007C14F8A20078147800F8147CA9007C14F8
A3003C14F0003E1301001E14E06CEB03C039078007803903C00F003801F03E38007FF8EB
1FE01E217E9F23>I<B512E014F8380F803E80EC0F80140715C0A51580140FEC1F00143E
EBFFF814E00180C7FCACEAFFF8A21A1F7E9E1F>I<EB1FE0EB7FF83801F03E3803C00F39
07800780390F0003C0001EEB01E0003E14F0003C1300007C14F8A20078147800F8147CA9
00781478007C14F8A2003C14F0383E0781391E0FC1E0390F1C63C039079827803903D83F
003801F83E39007FF804131FEB001CEC0C0CEC0E1CEC0FF8A2140715F0EC01E01E297E9F
23>I<B57E14F0380F807C8080801580A415005C143E5CEBFFF05CEB81F8EB807CA280A7
150CA2141F39FFF80F18EC07F8C7EA01F01E207E9E21>I<3803F040380FFCC0EA1E0FEA
3807EA7803EA700112F01300A36C13007E127F13F0EA3FFE6C7E6C1380000313C038007F
E01307EB03F01301130012C0A36C13E0A2EAF00100F813C038FE078038C7FF00EA81FC14
217E9F19>I<007FB512E0A2387C0F810070138000601460A200E0147000C01430A40000
1400B23803FFFEA21C1F7E9E21>I<39FFF81FF8A2390F8003C0EC0180B3A30007EB0300
A2EA03C014066C6C5A3800F838EB3FF0EB0FC01D207E9E22>I<39FFF807FEA2390F8000
F015E06C6C13C0A33903E00180A213F00001EB0300A26D5A00001306A2EBFC0EEB7C0CA2
6D5AA36D5AA214B0EB0FE0A36D5AA26D5AA31F207F9E22>I<3BFFF8FFF83FF0A23B1F80
0F800780000FED0300EC07C001C05C00071506EC0FE001E0140E0003150CEC1FF01419D8
01F05CA2EC30F8D800F85CA2EC607C017C5CA2ECC03E017E14E0013E5C013F133FEC801F
011F5CA2EC000F6D91C7FCA2010E7F010613062C207F9E2F>I<397FFC3FF8A23907E00F
800003EB0600EBF00E0001130C6D5A3800FC38EB7C30EB7E70EB3F606D5AA26D5A806D7E
A2497E130DEB19F8EB38FCEB307CEB607EEBE03E497ED8018013800003130F010013C0D8
0F8013E039FFE03FFEA21F1F7F9E22>I<3AFFFC01FF80A23A07E000780015706C6C1360
00015C7F0000495AEBFC03017C90C7FCEB7E07EB3F066D5A148CEB0F9814F86D5AA26D5A
ABEB3FFEA2211F809E22>I<12FFA212C0B3B3A512FFA2082D7CA10D>91
D<EA0804EA180CEA3018EA7038EA6030A2EAC060A3EAF87CEAFC7EA2EA7C3EEA381C0F0E
7A9F17>I<12FFA21203B3B3A512FFA2082D80A10D>I<12081218123012701260A212C0A3
12F812FCA2127C1238060E7D9F0D>96 D<EA0FE0EA3FF8EA7C3C7F7F12381200A2EA03FF
121FEA3E0F127812F800F01330A3131F38783FF0383FE7E0380F83C014147E9317>I<12
1E12FEA2121EA9133FEBFFC0381FC1E0EB00F0001E137014781438143CA6143814781470
001F13F0381D83E0381CFF8038183E0016207F9F19>I<EA01F8EA07FEEA1E1F123C1238
EA780E0070C7FC12F0A61278A2383C01801303381F0700EA07FEEA01F811147F9314>I<
EB01E0130FA21301A9EA03F1EA07FDEA1F07EA3C03EA38011278127012F0A61270127812
38EA3C03EA1E0F380FFDFCEA03F116207F9F19>I<EA03F0EA0FFCEA1E1E487EEA380712
783870038012F0B5FCA200F0C7FCA31270127838380180EA3C03381F0700EA07FEEA01F8
11147F9314>I<133E13FF3803CF80EA078FA2380F070090C7FCA6EAFFF0A2000FC7FCB0
EA7FF0A21120809F0E>I<EB01E03803E3F0380FFF70EA1C1C38380E6038780F00A5EA38
0E6C5AEA3FF8EA33E00070C7FCA3EA3FFEEBFF806C13C04813E0EA700138E000F01470A3
007013E0EA7801383E07C0380FFF00EA03FC141F7F9417>I<121E12FEA2121EA9133FEB
FF80381FC3C0EB81E01301121EAD38FFC7FCA216207F9F19>I<121C123EA3121CC7FCA6
121E12FEA2121EAFEAFFC0A20A1F7F9E0D>I<137013F8A313701300A61378EA07F8A212
001378B3127012F813F0EAF9E0EA7FC0EA3F000D28839E0E>I<121E12FEA2121EA9EB1F
F0A2EB0F80EB0E00130C5B5B137013F0EA1FF81378EA1E3C133E131E131FEB0F80130714
C038FFCFF8A215207F9F18>I<121E12FEA2121EB3A9EAFFC0A20A207F9F0D>I<391E1F80
FC39FE7FC3FE39FFC1EE0F3A1F80FC0780EB00F8001E13F0AD3AFFC7FE3FF0A224147F93
27>I<EA1E3F38FEFF8038FFC3C0381F81E01301121EAD38FFC7FCA216147F9319>I<EA01
F8EA07FE381E0780383C03C0EA3801387000E0A200F013F0A6007013E0EA7801003813C0
EA3C03381E07803807FE00EA01F814147F9317>I<EA1E3F38FEFFC038FFC3E0381F00F0
001E13701478A2143CA61478A214F0121FEB83E0381EFF80EB3E0090C7FCA7EAFFC0A216
1D7F9319>I<3801F0603807FCE0EA1F0EEA3C03A2EA7801A212F0A61278A2EA3803123C
EA1F0FEA0FFDEA03F1EA0001A7EB0FFCA2161D7F9318>I<EA1EF8EAFFFC13BEEA1F3EA2
EA1E1C1300ACEAFFE0A20F147F9312>I<EA0FC8EA3FF8EA7038EA601812E0A2EAF000EA
FF80EA7FE0EA3FF8EA1FFC1201EA003EEAC00EA212E0130CEAF83CEADFF8EA87E00F147F
9312>I<1206A4120EA2121E123EEAFFF8A2EA1E00AA130CA5EA0F18EA07F0EA03E00E1C
7F9B12>I<381E01E0EAFE0FA2EA1E01AC1303A2EA0E0F3807FDFCEA03F116147F9319>I<
38FFC7F8A2381E01E0001F13C0000F1380A238078300A3EA03C6A3EA01ECA213FC6C5AA2
1370A315147F9318>I<39FF9FF3FCA2391E03C0F01560001F14E0D80F0713C014E0EB87
E1D8078C138014F1EBCCF33903D87300147BEBF87F3801F03EA33800E01CA31E147F9321
>I<387FE7FCA2380F83E0000713803803C30013E7EA01EEEA00FC1378A27F137E13FEEA
01CFEB87801203380703C0000F13E038FF87FEA21714809318>I<38FFC7F8A2381E01E0
001F13C0000F1380A238078300A3EA03C6A3EA01ECA213FC6C5AA21370A31360A3EA70C0
12F8EAC18012E3007FC7FC123C151D7F9318>I<EA7FFFA2EA781EEA703EEA603C137813
F8EA61F0EA01E01203EA07C01383120FEA1F03EA1E07EA3C06127CEA781EEAFFFEA21014
7F9314>I<B812F0A22C02808C2D>124 D E /Fp 5 116 df<B87E17F817FF18C028007F
F000037F04007F717E717EA2717EA28483A64D5AA34D5A4D5A4D5A4C5B04075B91B7C7FC
17FC83717E9126F0000313E09338007FF8EF1FFC717E84711380A27113C0A219E0A819C0
5F19805F19004D5A177F933801FFF8B95A18C095C7FC17F03B3B7CBA45>66
D<EA01F0EA07FC487EA2487EA56C5AA26C5AEA01F0C8FCAA13FFB5FCA412077EB3AAB512
F8A4153D7DBC1B>105 D<01FEEB7FE000FF903801FFFC02077F021F6D7EEC3F030007D9
7C017F0003EBF0006D48804A137FA25CA291C7FCB3A4B5D8FC1FB51280A431267DA536>
110 D<903801FFC0010F13F8017F13FF90B67E0003018013E03A07FE003FF0D80FF8EB0F
F8A248486D7E003F81491303007F81A400FF1680A9007F1600A36C6C495AA2001F5D6D13
0F6C6C495A6C6C495A6C6C6CB45AC690B512806D91C7FC010F13F8010113C029267DA530
>I<90383FF07048B512F01207121F383FC00F387F0003140112FE1400A27E6D130013E0
13FF14F86C13FF6C148015E06C14F0000714F8000114FC6C7E010313FEEB001F140700F0
1301A26C1300A27E6C14FC140139FF8003F8EBE00F90B512F015C000F8140038E01FF81F
267DA526>115 D E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 0 693 a Fp(Bison)p 0 726 1950 17 v 1139 774 a
Fo(The)15 b(Y)l(A)o(CC-compatible)f(P)o(arser)g(Generator)1248
828 y(No)o(v)o(em)o(b)q(er)g(1995,)f(Bison)i(V)l(ersion)g(1.25)0
2534 y Fn(b)n(y)23 b(Charles)g(Donnelly)h(and)e(Ric)n(hard)j(Stallman)p
0 2570 1950 9 v eop
%%Page: 2 2
2 1 bop 0 1042 a Fo(Cop)o(yrigh)o(t)226 1041 y(c)214
1042 y Fm(\015)15 b Fo(1988,)f(89,)g(90,)g(91,)h(92,)f(93,)g(1995)g(F)l
(ree)h(Soft)o(w)o(are)f(F)l(oundation)0 1304 y(Published)h(b)o(y)h(the)
f(F)l(ree)g(Soft)o(w)o(are)f(F)l(oundation)0 1366 y(59)h(T)l(emple)f
(Place,)g(Suite)i(330)0 1428 y(Boston,)e(MA)h(02111-1307)e(USA)0
1491 y(Prin)o(ted)i(copies)g(are)g(a)o(v)m(ailable)e(for)i($15)f(eac)o
(h.)0 1553 y(ISBN)i(1-882114-45-0)0 1690 y(P)o(ermission)10
b(is)i(gran)o(ted)g(to)f(mak)o(e)g(and)i(distribute)f(v)o(erbatim)e
(copies)i(of)g(this)g(man)o(ual)f(pro)o(vided)h(the)g(cop)o(yrigh)o(t)0
1752 y(notice)j(and)g(this)g(p)q(ermission)f(notice)g(are)h(preserv)o
(ed)h(on)f(all)f(copies.)0 1889 y(P)o(ermission)e(is)h(gran)o(ted)g(to)
h(cop)o(y)g(and)g(distribute)f(mo)q(di\014ed)h(v)o(ersions)f(of)g(this)
h(man)o(ual)e(under)j(the)f(conditions)0 1951 y(for)h(v)o(erbatim)f
(cop)o(ying,)h(pro)o(vided)h(also)f(that)g(the)h(sections)g(en)o
(titled)f(\\GNU)g(General)h(Public)f(License")i(and)0
2014 y(\\Conditions)d(for)h(Using)h(Bison")f(are)g(included)i(exactly)e
(as)g(in)h(the)g(original,)d(and)j(pro)o(vided)g(that)f(the)g(en)o
(tire)0 2076 y(resulting)f(deriv)o(ed)h(w)o(ork)g(is)f(distributed)h
(under)h(the)f(terms)f(of)h(a)g(p)q(ermission)e(notice)i(iden)o(tical)f
(to)h(this)f(one.)0 2213 y(P)o(ermission)j(is)i(gran)o(ted)g(to)g(cop)o
(y)h(and)f(distribute)g(translations)f(of)h(this)g(man)o(ual)e(in)o(to)
i(another)g(language,)0 2275 y(under)d(the)g(ab)q(o)o(v)o(e)f
(conditions)g(for)g(mo)q(di\014ed)g(v)o(ersions,)g(except)h(that)f(the)
g(sections)h(en)o(titled)e(\\GNU)i(General)0 2337 y(Public)22
b(License",)j(\\Conditions)c(for)h(Using)g(Bison")g(and)g(this)g(p)q
(ermission)f(notice)h(ma)o(y)f(b)q(e)i(included)g(in)0
2400 y(translations)13 b(appro)o(v)o(ed)i(b)o(y)g(the)g(F)l(ree)h(Soft)
o(w)o(are)d(F)l(oundation)i(instead)g(of)f(in)h(the)h(original)d
(English.)0 2661 y(Co)o(v)o(er)h(art)h(b)o(y)g(Etienne)g(Suv)m(asa.)p
eop
%%Page: 1 3
1 2 bop 0 -58 a Fo(In)o(tro)q(duction)1678 b(1)0 183
y Fl(In)n(tro)r(duction)62 370 y Fk(Bison)12 b Fo(is)f(a)g
(general-purp)q(ose)h(parser)g(generator)e(that)h(con)o(v)o(erts)g(a)h
(gramma)o(r)d(description)i(for)g(an)h(LALR\(1\))0 432
y(con)o(text-free)21 b(gramma)o(r)d(in)o(to)i(a)h(C)g(program)e(to)h
(parse)h(that)f(grammar.)34 b(Once)22 b(y)o(ou)f(are)g(pro\014cien)o(t)
g(with)0 495 y(Bison,)14 b(y)o(ou)h(ma)o(y)e(use)i(it)f(to)h(dev)o
(elop)g(a)f(wide)h(range)f(of)h(language)f(parsers,)g(from)f(those)i
(used)h(in)e(simple)g(desk)0 557 y(calculators)g(to)g(complex)g
(programming)e(languages.)62 694 y(Bison)i(is)f(up)o(w)o(ard)h
(compatible)e(with)h(Y)l(acc:)20 b(all)13 b(prop)q(erly-written)g(Y)l
(acc)h(grammar)o(s)d(ough)o(t)i(to)h(w)o(ork)f(with)0
756 y(Bison)j(with)f(no)h(c)o(hange.)23 b(An)o(y)o(one)16
b(familiar)d(with)j(Y)l(acc)g(should)g(b)q(e)h(able)f(to)g(use)g(Bison)
g(with)f(little)g(trouble.)0 818 y(Y)l(ou)g(need)h(to)f(b)q(e)h
(\015uen)o(t)f(in)g(C)g(programming)d(in)j(order)g(to)g(use)g(Bison)g
(or)g(to)f(understand)i(this)f(man)o(ual.)62 955 y(W)l(e)h(b)q(egin)g
(with)f(tutorial)f(c)o(hapters)h(that)g(explain)g(the)h(basic)f
(concepts)h(of)f(using)h(Bison)f(and)h(sho)o(w)f(three)0
1018 y(explained)i(examples,)e(eac)o(h)h(building)g(on)h(the)f(last.)23
b(If)17 b(y)o(ou)f(don't)g(kno)o(w)g(Bison)g(or)g(Y)l(acc,)h(start)e(b)
o(y)h(reading)0 1080 y(these)f(c)o(hapters.)20 b(Reference)d(c)o
(hapters)e(follo)o(w)e(whic)o(h)i(describ)q(e)h(sp)q(eci\014c)g(asp)q
(ects)f(of)g(Bison)g(in)g(detail.)62 1217 y(Bison)k(w)o(as)g(written)f
(primarily)f(b)o(y)j(Rob)q(ert)f(Corb)q(ett;)i(Ric)o(hard)e(Stallman)e
(made)i(it)g(Y)l(acc-compatible.)0 1279 y(Wilfred)d(Hansen)h(of)g
(Carnegie)f(Mellon)g(Univ)o(ersit)o(y)f(added)j(m)o(ultic)o(haracter)c
(string)h(literals)h(and)h(other)f(fea-)0 1341 y(tures.)62
1478 y(This)f(edition)g(corresp)q(onds)g(to)g(v)o(ersion)f(1.25)g(of)h
(Bison.)p eop
%%Page: 2 4
2 3 bop 0 -58 a Fo(2)1720 b(Bison)15 b(1.25)p eop
%%Page: 3 5
3 4 bop 0 -58 a Fo(Conditions)14 b(for)h(Using)f(Bison)1389
b(3)0 183 y Fl(Conditions)17 b(for)e(Using)g(Bison)62
370 y Fo(As)i(of)f(Bison)g(v)o(ersion)g(1.24,)f(w)o(e)i(ha)o(v)o(e)f(c)
o(hanged)h(the)f(distribution)g(terms)f(for)g Fj(yyparse)h
Fo(to)g(p)q(ermit)f(using)0 432 y(Bison's)f(output)g(in)h(non-free)g
(programs.)i(F)l(ormerly)l(,)12 b(Bison)j(parsers)f(could)g(b)q(e)i
(used)f(only)f(in)g(programs)f(that)0 495 y(w)o(ere)i(free)g(soft)o(w)o
(are.)62 632 y(The)23 b(other)f(GNU)g(programming)d(to)q(ols,)k(suc)o
(h)g(as)f(the)g(GNU)h(C)f(compiler,)g(ha)o(v)o(e)g(nev)o(er)h(had)f
(suc)o(h)h(a)0 694 y(requiremen)o(t.)18 b(They)d(could)f(alw)o(a)o(ys)e
(b)q(e)j(used)g(for)f(non-free)h(soft)o(w)o(are.)i(The)e(reason)f
(Bison)g(w)o(as)f(di\013eren)o(t)h(w)o(as)0 756 y(not)h(due)h(to)f(a)g
(sp)q(ecial)g(p)q(olicy)g(decision;)g(it)g(resulted)g(from)f(applying)h
(the)g(usual)g(General)g(Public)g(License)i(to)0 818
y(all)d(of)h(the)g(Bison)g(source)g(co)q(de.)62 955 y(The)k(output)f
(of)g(the)g(Bison)g(utilit)o(y|the)f(Bison)h(parser)g(\014le|con)o
(tains)g(a)f(v)o(erbatim)g(cop)o(y)h(of)g(a)f(sizable)0
1018 y(piece)g(of)g(Bison,)f(whic)o(h)h(is)f(the)h(co)q(de)g(for)g(the)
g Fj(yyparse)e Fo(function.)25 b(\(The)17 b(actions)f(from)f(y)o(our)h
(grammar)d(are)0 1080 y(inserted)19 b(in)o(to)e(this)i(function)f(at)g
(one)h(p)q(oin)o(t,)g(but)g(the)g(rest)f(of)g(the)h(function)g(is)f
(not)h(c)o(hanged.\))30 b(When)19 b(w)o(e)0 1142 y(applied)c(the)h(GPL)
g(terms)e(to)g(the)i(co)q(de)g(for)f Fj(yyparse)p Fo(,)f(the)i
(e\013ect)f(w)o(as)g(to)g(restrict)f(the)i(use)g(of)f(Bison)g(output)0
1204 y(to)g(free)g(soft)o(w)o(are.)62 1341 y(W)l(e)j(didn't)g(c)o
(hange)f(the)h(terms)f(b)q(ecause)h(of)g(sympath)o(y)e(for)h(p)q(eople)
h(who)g(w)o(an)o(t)f(to)g(mak)o(e)f(soft)o(w)o(are)g(pro-)0
1404 y(prietary)l(.)j Fi(Soft)o(w)o(are)14 b(should)h(b)q(e)h(free.)k
Fo(But)15 b(w)o(e)f(concluded)i(that)e(limiting)e(Bison's)i(use)h(to)f
(free)h(soft)o(w)o(are)e(w)o(as)0 1466 y(doing)i(little)g(to)g
(encourage)h(p)q(eople)g(to)f(mak)o(e)g(other)g(soft)o(w)o(are)f(free.)
22 b(So)16 b(w)o(e)g(decided)h(to)e(mak)o(e)f(the)i(practical)0
1528 y(conditions)e(for)h(using)g(Bison)g(matc)o(h)e(the)j(practical)e
(conditions)g(for)h(using)g(the)g(other)g(GNU)g(to)q(ols.)p
eop
%%Page: 4 6
4 5 bop 0 -58 a Fo(4)1720 b(Bison)15 b(1.25)p eop
%%Page: 5 7
5 6 bop 0 -58 a Fo(GNU)15 b(GENERAL)h(PUBLIC)g(LICENSE)1177
b(5)0 183 y Fl(GNU)16 b(GENERAL)g(PUBLIC)g(LICENSE)769
307 y Fo(V)l(ersion)f(2,)f(June)i(1991)120 437 y(Cop)o(yrigh)o(t)346
436 y(c)334 437 y Fm(\015)f Fo(1989,)f(1991)g(F)l(ree)h(Soft)o(w)o(are)
f(F)l(oundation,)g(Inc.)120 489 y(675)g(Mass)h(Av)o(e,)g(Cam)o(bridge,)
d(MA)j(02139,)f(USA)120 593 y(Ev)o(ery)o(one)h(is)f(p)q(ermitted)g(to)h
(cop)o(y)g(and)g(distribute)g(v)o(erbatim)e(copies)120
645 y(of)i(this)f(license)i(do)q(cumen)o(t,)e(but)h(c)o(hanging)g(it)f
(is)h(not)g(allo)o(w)o(ed.)0 896 y Fn(Pream)n(ble)62
1036 y Fo(The)20 b(licenses)g(for)f(most)f(soft)o(w)o(are)g(are)i
(designed)g(to)f(tak)o(e)h(a)o(w)o(a)o(y)e(y)o(our)h(freedom)g(to)g
(share)h(and)g(c)o(hange)0 1098 y(it.)k(By)17 b(con)o(trast,)e(the)i
(GNU)f(General)h(Public)f(License)i(is)e(in)o(tended)h(to)f(guaran)o
(tee)g(y)o(our)g(freedom)g(to)g(share)0 1160 y(and)h(c)o(hange)g(free)f
(soft)o(w)o(are|to)f(mak)o(e)g(sure)i(the)g(soft)o(w)o(are)e(is)h(free)
h(for)f(all)f(its)h(users.)25 b(This)16 b(General)g(Public)0
1223 y(License)d(applies)f(to)g(most)e(of)i(the)h(F)l(ree)f(Soft)o(w)o
(are)f(F)l(oundation's)g(soft)o(w)o(are)g(and)h(to)g(an)o(y)g(other)g
(program)e(whose)0 1285 y(authors)i(commit)e(to)j(using)f(it.)19
b(\(Some)11 b(other)i(F)l(ree)g(Soft)o(w)o(are)e(F)l(oundation)i(soft)o
(w)o(are)e(is)h(co)o(v)o(ered)h(b)o(y)g(the)g(GNU)0 1347
y(Library)i(General)f(Public)h(License)h(instead.\))k(Y)l(ou)15
b(can)g(apply)g(it)g(to)f(y)o(our)h(programs,)e(to)q(o.)62
1487 y(When)20 b(w)o(e)e(sp)q(eak)h(of)g(free)g(soft)o(w)o(are,)e(w)o
(e)i(are)f(referring)h(to)f(freedom,)g(not)h(price.)31
b(Our)19 b(General)f(Public)0 1550 y(Licenses)e(are)f(designed)h(to)e
(mak)o(e)g(sure)h(that)g(y)o(ou)g(ha)o(v)o(e)g(the)g(freedom)f(to)h
(distribute)f(copies)i(of)e(free)i(soft)o(w)o(are)0 1612
y(\(and)g(c)o(harge)f(for)g(this)h(service)g(if)f(y)o(ou)h(wish\),)e
(that)i(y)o(ou)f(receiv)o(e)h(source)g(co)q(de)g(or)g(can)g(get)f(it)g
(if)h(y)o(ou)f(w)o(an)o(t)g(it,)0 1674 y(that)g(y)o(ou)g(can)g(c)o
(hange)h(the)f(soft)o(w)o(are)f(or)h(use)g(pieces)h(of)f(it)g(in)g(new)
h(free)f(programs;)e(and)j(that)e(y)o(ou)h(kno)o(w)g(y)o(ou)0
1736 y(can)g(do)g(these)h(things.)62 1876 y(T)l(o)e(protect)f(y)o(our)g
(righ)o(ts,)f(w)o(e)h(need)h(to)f(mak)o(e)f(restrictions)g(that)h
(forbid)g(an)o(y)o(one)g(to)g(den)o(y)h(y)o(ou)f(these)h(righ)o(ts)0
1939 y(or)f(to)g(ask)h(y)o(ou)f(to)g(surrender)h(the)g(righ)o(ts.)k
(These)c(restrictions)e(translate)h(to)g(certain)g(resp)q(onsibilities)
f(for)h(y)o(ou)0 2001 y(if)i(y)o(ou)g(distribute)f(copies)h(of)g(the)g
(soft)o(w)o(are,)e(or)i(if)g(y)o(ou)f(mo)q(dify)g(it.)62
2141 y(F)l(or)j(example,)e(if)i(y)o(ou)f(distribute)g(copies)h(of)g
(suc)o(h)g(a)f(program,)f(whether)i(gratis)f(or)g(for)g(a)h(fee,)g(y)o
(ou)g(m)o(ust)0 2203 y(giv)o(e)e(the)g(recipien)o(ts)g(all)f(the)h
(righ)o(ts)f(that)h(y)o(ou)g(ha)o(v)o(e.)20 b(Y)l(ou)c(m)o(ust)d(mak)o
(e)h(sure)i(that)e(they)l(,)h(to)q(o,)g(receiv)o(e)g(or)g(can)0
2265 y(get)g(the)g(source)g(co)q(de.)21 b(And)16 b(y)o(ou)e(m)o(ust)g
(sho)o(w)h(them)f(these)h(terms)f(so)h(they)g(kno)o(w)g(their)f(righ)o
(ts.)62 2405 y(W)l(e)h(protect)f(y)o(our)g(righ)o(ts)f(with)h(t)o(w)o
(o)f(steps:)19 b(\(1\))14 b(cop)o(yrigh)o(t)f(the)i(soft)o(w)o(are,)d
(and)j(\(2\))e(o\013er)h(y)o(ou)g(this)g(license)0 2468
y(whic)o(h)h(giv)o(es)f(y)o(ou)h(legal)f(p)q(ermission)g(to)h(cop)o(y)l
(,)f(distribute)h(and/or)g(mo)q(dify)e(the)j(soft)o(w)o(are.)62
2608 y(Also,)d(for)g(eac)o(h)g(author's)g(protection)f(and)i(ours,)f(w)
o(e)g(w)o(an)o(t)g(to)g(mak)o(e)f(certain)g(that)h(ev)o(ery)o(one)g
(understands)0 2670 y(that)k(there)i(is)e(no)h(w)o(arran)o(t)o(y)e(for)
i(this)f(free)h(soft)o(w)o(are.)27 b(If)18 b(the)g(soft)o(w)o(are)f(is)
g(mo)q(di\014ed)h(b)o(y)g(someone)f(else)h(and)p eop
%%Page: 6 8
6 7 bop 0 -58 a Fo(6)1720 b(Bison)15 b(1.25)0 183 y(passed)20
b(on,)g(w)o(e)g(w)o(an)o(t)f(its)g(recipien)o(ts)g(to)g(kno)o(w)g(that)
g(what)h(they)f(ha)o(v)o(e)h(is)f(not)g(the)h(original,)f(so)g(that)g
(an)o(y)0 246 y(problems)14 b(in)o(tro)q(duced)h(b)o(y)g(others)g(will)
f(not)h(re\015ect)g(on)g(the)h(original)d(authors')h(reputations.)62
386 y(Finally)l(,)j(an)o(y)g(free)g(program)e(is)i(threatened)h
(constan)o(tly)e(b)o(y)h(soft)o(w)o(are)f(paten)o(ts.)26
b(W)l(e)17 b(wish)g(to)g(a)o(v)o(oid)f(the)0 448 y(danger)11
b(that)g(redistributors)f(of)h(a)g(free)g(program)e(will)h
(individually)g(obtain)h(paten)o(t)g(licenses,)h(in)f(e\013ect)g
(making)0 510 y(the)k(program)f(proprietary)l(.)19 b(T)l(o)c(prev)o(en)
o(t)g(this,)g(w)o(e)g(ha)o(v)o(e)g(made)f(it)h(clear)f(that)h(an)o(y)g
(paten)o(t)g(m)o(ust)f(b)q(e)i(licensed)0 572 y(for)f(ev)o(ery)o(one's)
f(free)h(use)h(or)f(not)f(licensed)i(at)e(all.)62 713
y(The)i(precise)f(terms)f(and)h(conditions)g(for)f(cop)o(ying,)g
(distribution)g(and)i(mo)q(di\014cation)d(follo)o(w.)0
958 y Fn(TERMS)i(AND)f(CONDITIONS)f(F)n(OR)i(COPYING,)e(DISTRIBUTION)0
1020 y(AND)h(MODIFICA)-6 b(TION)25 1160 y Fo(0.)29 b(This)21
b(License)g(applies)g(to)f(an)o(y)h(program)e(or)i(other)f(w)o(ork)g
(whic)o(h)h(con)o(tains)f(a)h(notice)g(placed)g(b)o(y)g(the)90
1222 y(cop)o(yrigh)o(t)14 b(holder)h(sa)o(ying)f(it)g(ma)o(y)g(b)q(e)h
(distributed)g(under)h(the)f(terms)f(of)g(this)h(General)g(Public)g
(License.)90 1285 y(The)j(\\Program",)c(b)q(elo)o(w,)j(refers)g(to)g
(an)o(y)g(suc)o(h)h(program)d(or)i(w)o(ork,)f(and)i(a)f(\\w)o(ork)f
(based)i(on)f(the)g(Pro-)90 1347 y(gram")12 b(means)h(either)h(the)h
(Program)d(or)h(an)o(y)h(deriv)m(ativ)o(e)g(w)o(ork)f(under)i(cop)o
(yrigh)o(t)e(la)o(w:)19 b(that)13 b(is)h(to)g(sa)o(y)l(,)f(a)90
1409 y(w)o(ork)h(con)o(taining)g(the)i(Program)d(or)i(a)g(p)q(ortion)f
(of)h(it,)f(either)h(v)o(erbatim)f(or)g(with)h(mo)q(di\014cations)f
(and/or)90 1471 y(translated)j(in)o(to)g(another)h(language.)28
b(\(Hereinafter,)18 b(translation)e(is)i(included)g(without)g(limitat)o
(ion)d(in)90 1534 y(the)g(term)f(\\mo)q(di\014cation".\))j(Eac)o(h)e
(licensee)h(is)e(addressed)i(as)f(\\y)o(ou".)90 1611
y(Activities)h(other)h(than)g(cop)o(ying,)f(distribution)g(and)i(mo)q
(di\014cation)d(are)i(not)g(co)o(v)o(ered)g(b)o(y)g(this)g(License;)90
1674 y(they)g(are)f(outside)g(its)f(scop)q(e.)24 b(The)17
b(act)f(of)g(running)h(the)f(Program)e(is)i(not)g(restricted,)g(and)h
(the)f(output)90 1736 y(from)k(the)h(Program)e(is)i(co)o(v)o(ered)g
(only)g(if)f(its)h(con)o(ten)o(ts)f(constitute)h(a)g(w)o(ork)f(based)i
(on)f(the)g(Program)90 1798 y(\(indep)q(enden)o(t)e(of)e(ha)o(ving)f(b)
q(een)j(made)e(b)o(y)g(running)h(the)f(Program\).)25
b(Whether)17 b(that)g(is)g(true)g(dep)q(ends)90 1860
y(on)e(what)g(the)g(Program)e(do)q(es.)25 1938 y(1.)29
b(Y)l(ou)21 b(ma)o(y)d(cop)o(y)i(and)h(distribute)f(v)o(erbatim)e
(copies)i(of)g(the)g(Program's)e(source)i(co)q(de)h(as)f(y)o(ou)g
(receiv)o(e)90 2001 y(it,)d(in)g(an)o(y)h(medium,)d(pro)o(vided)j(that)
f(y)o(ou)g(conspicuously)g(and)h(appropriately)e(publish)i(on)f(eac)o
(h)h(cop)o(y)90 2063 y(an)h(appropriate)e(cop)o(yrigh)o(t)h(notice)g
(and)h(disclaimer)d(of)j(w)o(arran)o(t)o(y;)f(k)o(eep)h(in)o(tact)e
(all)h(the)g(notices)h(that)90 2125 y(refer)d(to)f(this)h(License)g
(and)h(to)e(the)h(absence)h(of)e(an)o(y)h(w)o(arran)o(t)o(y;)e(and)i
(giv)o(e)g(an)o(y)f(other)h(recipien)o(ts)f(of)h(the)90
2187 y(Program)d(a)i(cop)o(y)g(of)f(this)h(License)h(along)e(with)h
(the)g(Program.)90 2265 y(Y)l(ou)h(ma)o(y)e(c)o(harge)h(a)h(fee)g(for)f
(the)h(ph)o(ysical)f(act)g(of)h(transferring)e(a)h(cop)o(y)l(,)h(and)g
(y)o(ou)f(ma)o(y)f(at)i(y)o(our)f(option)90 2328 y(o\013er)f(w)o(arran)
o(t)o(y)g(protection)g(in)h(exc)o(hange)g(for)g(a)g(fee.)25
2405 y(2.)29 b(Y)l(ou)15 b(ma)o(y)d(mo)q(dify)h(y)o(our)h(cop)o(y)g(or)
g(copies)g(of)g(the)g(Program)e(or)i(an)o(y)g(p)q(ortion)f(of)h(it,)g
(th)o(us)g(forming)e(a)i(w)o(ork)90 2468 y(based)g(on)g(the)g(Program,)
e(and)i(cop)o(y)g(and)g(distribute)f(suc)o(h)i(mo)q(di\014cations)d(or)
h(w)o(ork)g(under)i(the)f(terms)e(of)90 2530 y(Section)j(1)g(ab)q(o)o
(v)o(e,)f(pro)o(vided)h(that)g(y)o(ou)g(also)f(meet)g(all)g(of)h(these)
g(conditions:)115 2608 y(a.)29 b(Y)l(ou)13 b(m)o(ust)f(cause)h(the)g
(mo)q(di\014ed)f(\014les)h(to)g(carry)f(prominen)o(t)g(notices)g
(stating)g(that)g(y)o(ou)h(c)o(hanged)g(the)180 2670
y(\014les)i(and)h(the)f(date)g(of)g(an)o(y)f(c)o(hange.)p
eop
%%Page: 7 9
7 8 bop 0 -58 a Fo(GNU)15 b(GENERAL)h(PUBLIC)g(LICENSE)1177
b(7)112 183 y(b.)30 b(Y)l(ou)14 b(m)o(ust)e(cause)i(an)o(y)f(w)o(ork)g
(that)g(y)o(ou)g(distribute)g(or)g(publish,)h(that)f(in)g(whole)g(or)g
(in)h(part)f(con)o(tains)180 246 y(or)g(is)h(deriv)o(ed)f(from)f(the)i
(Program)e(or)h(an)o(y)g(part)g(thereof,)h(to)f(b)q(e)h(licensed)g(as)g
(a)f(whole)h(at)f(no)g(c)o(harge)180 308 y(to)i(all)f(third)g(parties)h
(under)h(the)f(terms)f(of)g(this)h(License.)117 390 y(c.)30
b(If)12 b(the)h(mo)q(di\014ed)e(program)f(normally)g(reads)i(commands)e
(in)o(teractiv)o(ely)g(when)j(run,)f(y)o(ou)g(m)o(ust)f(cause)180
453 y(it,)19 b(when)g(started)g(running)g(for)f(suc)o(h)i(in)o
(teractiv)o(e)d(use)i(in)g(the)h(most)d(ordinary)h(w)o(a)o(y)l(,)h(to)f
(prin)o(t)g(or)180 515 y(displa)o(y)i(an)i(announcemen)o(t)f(including)
g(an)g(appropriate)f(cop)o(yrigh)o(t)g(notice)h(and)h(a)f(notice)g
(that)180 577 y(there)e(is)g(no)h(w)o(arran)o(t)o(y)d(\(or)h(else,)i
(sa)o(ying)f(that)f(y)o(ou)h(pro)o(vide)g(a)g(w)o(arran)o(t)o(y\))e
(and)j(that)e(users)i(ma)o(y)180 639 y(redistribute)15
b(the)g(program)e(under)k(these)e(conditions,)g(and)g(telling)f(the)i
(user)f(ho)o(w)g(to)g(view)g(a)g(cop)o(y)180 702 y(of)k(this)h
(License.)34 b(\(Exception:)28 b(if)20 b(the)g(Program)d(itself)i(is)g
(in)o(teractiv)o(e)f(but)i(do)q(es)g(not)f(normally)180
764 y(prin)o(t)14 b(suc)o(h)g(an)g(announcemen)o(t,)g(y)o(our)g(w)o
(ork)f(based)i(on)f(the)g(Program)e(is)i(not)g(required)g(to)f(prin)o
(t)h(an)180 826 y(announcemen)o(t.\))90 929 y(These)20
b(requiremen)o(ts)f(apply)h(to)f(the)i(mo)q(di\014ed)e(w)o(ork)g(as)h
(a)g(whole.)34 b(If)20 b(iden)o(ti\014able)f(sections)h(of)g(that)90
991 y(w)o(ork)d(are)g(not)g(deriv)o(ed)h(from)e(the)i(Program,)e(and)h
(can)h(b)q(e)h(reasonably)e(considered)h(indep)q(enden)o(t)h(and)90
1054 y(separate)c(w)o(orks)f(in)i(themselv)o(es,)d(then)j(this)f
(License,)h(and)g(its)e(terms,)g(do)h(not)g(apply)g(to)g(those)g
(sections)90 1116 y(when)j(y)o(ou)g(distribute)f(them)g(as)h(separate)f
(w)o(orks.)28 b(But)18 b(when)g(y)o(ou)g(distribute)f(the)h(same)f
(sections)g(as)90 1178 y(part)e(of)g(a)g(whole)g(whic)o(h)h(is)f(a)g(w)
o(ork)f(based)i(on)g(the)f(Program,)e(the)i(distribution)g(of)g(the)g
(whole)g(m)o(ust)f(b)q(e)90 1240 y(on)h(the)g(terms)e(of)h(this)g
(License,)i(whose)e(p)q(ermissions)g(for)g(other)g(licensees)h(extend)g
(to)g(the)f(en)o(tire)h(whole,)90 1303 y(and)g(th)o(us)g(to)g(eac)o(h)g
(and)h(ev)o(ery)f(part)f(regardless)h(of)f(who)h(wrote)g(it.)90
1385 y(Th)o(us,)g(it)f(is)h(not)g(the)g(in)o(ten)o(t)f(of)h(this)g
(section)g(to)f(claim)f(righ)o(ts)h(or)h(con)o(test)g(y)o(our)f(righ)o
(ts)g(to)h(w)o(ork)f(written)90 1448 y(en)o(tirely)c(b)o(y)h(y)o(ou;)h
(rather,)f(the)g(in)o(ten)o(t)g(is)f(to)h(exercise)g(the)g(righ)o(t)f
(to)h(con)o(trol)f(the)h(distribution)f(of)h(deriv)m(ativ)o(e)90
1510 y(or)k(collectiv)o(e)f(w)o(orks)g(based)h(on)g(the)h(Program.)90
1592 y(In)i(addition,)f(mere)g(aggregation)e(of)i(another)h(w)o(ork)e
(not)h(based)h(on)g(the)g(Program)d(with)i(the)g(Program)90
1655 y(\(or)d(with)g(a)g(w)o(ork)g(based)h(on)g(the)f(Program\))e(on)j
(a)f(v)o(olume)f(of)i(a)f(storage)f(or)i(distribution)e(medium)g(do)q
(es)90 1717 y(not)i(bring)g(the)g(other)g(w)o(ork)f(under)i(the)f(scop)
q(e)h(of)f(this)f(License.)25 1800 y(3.)29 b(Y)l(ou)16
b(ma)o(y)e(cop)o(y)i(and)g(distribute)f(the)h(Program)d(\(or)i(a)h(w)o
(ork)f(based)h(on)g(it,)e(under)j(Section)f(2\))f(in)h(ob)s(ject)90
1862 y(co)q(de)g(or)f(executable)g(form)f(under)i(the)g(terms)d(of)i
(Sections)g(1)g(and)h(2)f(ab)q(o)o(v)o(e)g(pro)o(vided)g(that)g(y)o(ou)
g(also)f(do)90 1924 y(one)h(of)g(the)g(follo)o(wing:)115
2007 y(a.)29 b(Accompan)o(y)11 b(it)g(with)g(the)i(complete)d(corresp)q
(onding)i(mac)o(hine-readable)f(source)h(co)q(de,)h(whic)o(h)f(m)o(ust)
180 2069 y(b)q(e)k(distributed)g(under)g(the)g(terms)f(of)g(Sections)h
(1)f(and)h(2)g(ab)q(o)o(v)o(e)f(on)h(a)f(medium)f(customarily)f(used)
180 2131 y(for)i(soft)o(w)o(are)e(in)o(terc)o(hange;)h(or,)112
2214 y(b.)30 b(Accompan)o(y)11 b(it)g(with)g(a)g(written)g(o\013er,)g
(v)m(alid)g(for)h(at)f(least)f(three)i(y)o(ears,)g(to)f(giv)o(e)g(an)o
(y)g(third)g(part)o(y)l(,)h(for)180 2276 y(a)j(c)o(harge)g(no)g(more)e
(than)i(y)o(our)g(cost)g(of)f(ph)o(ysically)g(p)q(erforming)g(source)h
(distribution,)e(a)i(complete)180 2338 y(mac)o(hine-readable)10
b(cop)o(y)i(of)f(the)g(corresp)q(onding)h(source)f(co)q(de,)i(to)e(b)q
(e)h(distributed)f(under)h(the)g(terms)180 2401 y(of)j(Sections)g(1)g
(and)g(2)g(ab)q(o)o(v)o(e)g(on)g(a)g(medium)e(customarily)g(used)i(for)
g(soft)o(w)o(are)e(in)o(terc)o(hange;)i(or,)117 2483
y(c.)30 b(Accompan)o(y)11 b(it)g(with)g(the)i(informatio)o(n)d(y)o(ou)h
(receiv)o(ed)h(as)g(to)f(the)h(o\013er)f(to)h(distribute)f(corresp)q
(onding)180 2545 y(source)16 b(co)q(de.)22 b(\(This)15
b(alternativ)o(e)f(is)h(allo)o(w)o(ed)f(only)h(for)g(noncommercial)e
(distribution)h(and)i(only)f(if)180 2608 y(y)o(ou)g(receiv)o(ed)g(the)h
(program)d(in)i(ob)s(ject)g(co)q(de)h(or)e(executable)i(form)d(with)i
(suc)o(h)h(an)f(o\013er,)f(in)h(accord)180 2670 y(with)g(Subsection)g
(b)g(ab)q(o)o(v)o(e.\))p eop
%%Page: 8 10
8 9 bop 0 -58 a Fo(8)1720 b(Bison)15 b(1.25)90 183 y(The)g(source)g(co)
q(de)g(for)g(a)f(w)o(ork)g(means)g(the)h(preferred)g(form)e(of)i(the)g
(w)o(ork)e(for)i(making)e(mo)q(di\014cations)g(to)90
246 y(it.)28 b(F)l(or)17 b(an)h(executable)g(w)o(ork,)g(complete)e
(source)i(co)q(de)h(means)e(all)g(the)h(source)g(co)q(de)h(for)e(all)g
(mo)q(dules)90 308 y(it)e(con)o(tains,)g(plus)g(an)o(y)h(asso)q(ciated)
f(in)o(terface)g(de\014nition)g(\014les,)h(plus)f(the)h(scripts)f(used)
i(to)e(con)o(trol)f(com-)90 370 y(pilation)i(and)i(installation)d(of)i
(the)g(executable.)27 b(Ho)o(w)o(ev)o(er,)17 b(as)g(a)g(sp)q(ecial)g
(exception,)h(the)g(source)f(co)q(de)90 432 y(distributed)e(need)h(not)
g(include)g(an)o(ything)e(that)h(is)g(normally)e(distributed)i(\(in)g
(either)h(source)f(or)g(binary)90 495 y(form\))i(with)h(the)h(ma)s(jor)
d(comp)q(onen)o(ts)i(\(compiler,)f(k)o(ernel,)i(and)g(so)f(on\))h(of)f
(the)h(op)q(erating)f(system)f(on)90 557 y(whic)o(h)e(the)g(executable)
h(runs,)f(unless)g(that)g(comp)q(onen)o(t)f(itself)g(accompanies)g(the)
h(executable.)90 639 y(If)d(distribution)f(of)h(executable)g(or)f(ob)s
(ject)h(co)q(de)g(is)g(made)f(b)o(y)h(o\013ering)f(access)h(to)f(cop)o
(y)h(from)e(a)i(designated)90 701 y(place,)17 b(then)h(o\013ering)e
(equiv)m(alen)o(t)h(access)g(to)g(cop)o(y)g(the)g(source)h(co)q(de)f
(from)f(the)h(same)f(place)h(coun)o(ts)g(as)90 764 y(distribution)12
b(of)h(the)g(source)g(co)q(de,)h(ev)o(en)g(though)f(third)f(parties)h
(are)g(not)g(comp)q(elled)f(to)h(cop)o(y)g(the)g(source)90
826 y(along)h(with)h(the)g(ob)s(ject)g(co)q(de.)25 908
y(4.)29 b(Y)l(ou)15 b(ma)o(y)d(not)j(cop)o(y)l(,)f(mo)q(dify)l(,)f
(sublicense,)i(or)e(distribute)h(the)h(Program)d(except)j(as)f
(expressly)g(pro)o(vided)90 971 y(under)j(this)f(License.)24
b(An)o(y)16 b(attempt)f(otherwise)g(to)h(cop)o(y)l(,)h(mo)q(dify)l(,)e
(sublicense)h(or)g(distribute)g(the)g(Pro-)90 1033 y(gram)10
b(is)i(v)o(oid,)f(and)h(will)f(automatically)e(terminate)h(y)o(our)h
(righ)o(ts)g(under)h(this)g(License.)19 b(Ho)o(w)o(ev)o(er,)12
b(parties)90 1095 y(who)18 b(ha)o(v)o(e)f(receiv)o(ed)i(copies,)f(or)f
(righ)o(ts,)g(from)g(y)o(ou)g(under)i(this)f(License)h(will)d(not)i(ha)
o(v)o(e)f(their)h(licenses)90 1157 y(terminated)13 b(so)i(long)g(as)g
(suc)o(h)g(parties)f(remain)g(in)h(full)g(compliance.)25
1240 y(5.)29 b(Y)l(ou)18 b(are)f(not)g(required)h(to)f(accept)g(this)g
(License,)i(since)f(y)o(ou)f(ha)o(v)o(e)g(not)g(signed)h(it.)26
b(Ho)o(w)o(ev)o(er,)16 b(nothing)90 1302 y(else)f(gran)o(ts)e(y)o(ou)i
(p)q(ermission)e(to)h(mo)q(dify)g(or)g(distribute)g(the)h(Program)d(or)
j(its)f(deriv)m(ativ)o(e)g(w)o(orks.)19 b(These)90 1364
y(actions)e(are)h(prohibited)g(b)o(y)g(la)o(w)f(if)g(y)o(ou)h(do)g(not)
g(accept)g(this)g(License.)29 b(Therefore,)18 b(b)o(y)g(mo)q(difying)e
(or)90 1427 y(distributing)f(the)h(Program)e(\(or)h(an)o(y)h(w)o(ork)g
(based)g(on)g(the)h(Program\),)c(y)o(ou)j(indicate)g(y)o(our)f
(acceptance)90 1489 y(of)e(this)g(License)h(to)f(do)h(so,)f(and)h(all)e
(its)h(terms)f(and)i(conditions)f(for)g(cop)o(ying,)f(distributing)h
(or)g(mo)q(difying)90 1551 y(the)i(Program)e(or)i(w)o(orks)f(based)h
(on)h(it.)25 1634 y(6.)29 b(Eac)o(h)18 b(time)e(y)o(ou)i(redistribute)f
(the)h(Program)e(\(or)h(an)o(y)h(w)o(ork)f(based)h(on)g(the)h
(Program\),)c(the)j(recipien)o(t)90 1696 y(automaticall)o(y)f(receiv)o
(es)j(a)f(license)h(from)e(the)i(original)e(licensor)h(to)g(cop)o(y)l
(,)h(distribute)f(or)h(mo)q(dify)e(the)90 1758 y(Program)13
b(sub)s(ject)j(to)f(these)h(terms)e(and)i(conditions.)k(Y)l(ou)c(ma)o
(y)e(not)h(imp)q(ose)g(an)o(y)g(further)h(restrictions)90
1820 y(on)g(the)h(recipien)o(ts')f(exercise)g(of)h(the)f(righ)o(ts)f
(gran)o(ted)h(herein.)25 b(Y)l(ou)16 b(are)h(not)f(resp)q(onsible)g
(for)g(enforcing)90 1883 y(compliance)e(b)o(y)h(third)g(parties)f(to)h
(this)f(License.)25 1965 y(7.)29 b(If,)15 b(as)g(a)h(consequence)g(of)f
(a)g(court)h(judgmen)o(t)e(or)h(allegation)e(of)i(paten)o(t)g
(infringemen)o(t)f(or)g(for)h(an)o(y)g(other)90 2027
y(reason)g(\(not)f(limited)f(to)i(paten)o(t)f(issues\),)h(conditions)f
(are)h(imp)q(osed)f(on)h(y)o(ou)g(\(whether)g(b)o(y)g(court)g(order,)90
2089 y(agreemen)o(t)d(or)i(otherwise\))f(that)g(con)o(tradict)g(the)h
(conditions)f(of)g(this)h(License,)g(they)g(do)g(not)g(excuse)g(y)o(ou)
90 2152 y(from)i(the)j(conditions)e(of)h(this)g(License.)29
b(If)19 b(y)o(ou)f(cannot)g(distribute)f(so)h(as)g(to)g(satisfy)f(sim)o
(ultaneously)90 2214 y(y)o(our)c(obligations)e(under)j(this)f(License)h
(and)g(an)o(y)f(other)g(p)q(ertinen)o(t)g(obligations,)f(then)h(as)g(a)
h(consequence)90 2276 y(y)o(ou)h(ma)o(y)e(not)i(distribute)g(the)g
(Program)e(at)h(all.)19 b(F)l(or)c(example,)e(if)i(a)g(paten)o(t)g
(license)g(w)o(ould)f(not)h(p)q(ermit)90 2339 y(ro)o(y)o(alt)o(y-free)d
(redistribution)g(of)i(the)g(Program)d(b)o(y)j(all)f(those)g(who)h
(receiv)o(e)g(copies)f(directly)g(or)h(indirectly)90
2401 y(through)h(y)o(ou,)f(then)h(the)g(only)g(w)o(a)o(y)f(y)o(ou)h
(could)g(satisfy)e(b)q(oth)j(it)e(and)h(this)f(License)i(w)o(ould)f(b)q
(e)g(to)g(refrain)90 2463 y(en)o(tirely)f(from)g(distribution)g(of)g
(the)i(Program.)90 2545 y(If)c(an)o(y)f(p)q(ortion)g(of)g(this)g
(section)g(is)g(held)g(in)o(v)m(alid)g(or)g(unenforceable)h(under)g(an)
o(y)f(particular)f(circumstance,)90 2608 y(the)15 b(balance)f(of)g(the)
g(section)g(is)g(in)o(tended)h(to)f(apply)g(and)h(the)f(section)g(as)g
(a)h(whole)f(is)g(in)o(tended)g(to)g(apply)90 2670 y(in)h(other)g
(circumstances.)p eop
%%Page: 9 11
9 10 bop 0 -58 a Fo(GNU)15 b(GENERAL)h(PUBLIC)g(LICENSE)1177
b(9)90 183 y(It)18 b(is)f(not)h(the)g(purp)q(ose)g(of)f(this)h(section)
f(to)g(induce)i(y)o(ou)e(to)h(infringe)f(an)o(y)g(paten)o(ts)h(or)f
(other)g(prop)q(ert)o(y)90 246 y(righ)o(t)j(claims)e(or)j(to)f(con)o
(test)g(v)m(alidit)o(y)g(of)g(an)o(y)h(suc)o(h)g(claims;)g(this)f
(section)h(has)g(the)g(sole)f(purp)q(ose)h(of)90 308
y(protecting)g(the)h(in)o(tegrit)o(y)e(of)h(the)h(free)g(soft)o(w)o
(are)e(distribution)h(system,)g(whic)o(h)h(is)f(implemen)o(ted)f(b)o(y)
90 370 y(public)c(license)g(practices.)22 b(Man)o(y)15
b(p)q(eople)h(ha)o(v)o(e)g(made)f(generous)h(con)o(tributions)f(to)g
(the)h(wide)g(range)f(of)90 432 y(soft)o(w)o(are)e(distributed)i
(through)g(that)f(system)g(in)h(reliance)g(on)g(consisten)o(t)g
(application)e(of)i(that)g(system;)90 495 y(it)e(is)h(up)g(to)g(the)g
(author/donor)f(to)g(decide)i(if)e(he)i(or)e(she)i(is)e(willing)g(to)g
(distribute)g(soft)o(w)o(are)g(through)g(an)o(y)90 557
y(other)i(system)f(and)h(a)g(licensee)g(cannot)g(imp)q(ose)f(that)h(c)o
(hoice.)90 634 y(This)g(section)f(is)h(in)o(tended)g(to)g(mak)o(e)e
(thoroughly)h(clear)h(what)f(is)h(b)q(eliev)o(ed)g(to)f(b)q(e)i(a)f
(consequence)h(of)f(the)90 697 y(rest)g(of)g(this)f(License.)25
774 y(8.)29 b(If)13 b(the)f(distribution)f(and/or)h(use)g(of)g(the)h
(Program)c(is)j(restricted)g(in)g(certain)g(coun)o(tries)f(either)h(b)o
(y)h(paten)o(ts)90 836 y(or)i(b)o(y)g(cop)o(yrigh)o(ted)f(in)o
(terfaces,)g(the)h(original)e(cop)o(yrigh)o(t)h(holder)h(who)g(places)g
(the)g(Program)e(under)j(this)90 899 y(License)g(ma)o(y)e(add)h(an)g
(explicit)g(geographical)e(distribution)h(limitatio)o(n)f(excluding)i
(those)g(coun)o(tries,)f(so)90 961 y(that)f(distribution)g(is)g(p)q
(ermitted)f(only)i(in)f(or)h(among)e(coun)o(tries)h(not)g(th)o(us)h
(excluded.)20 b(In)15 b(suc)o(h)f(case,)g(this)90 1023
y(License)i(incorp)q(orates)e(the)i(limitat)o(ion)c(as)j(if)g(written)f
(in)h(the)g(b)q(o)q(dy)h(of)f(this)g(License.)25 1101
y(9.)29 b(The)14 b(F)l(ree)h(Soft)o(w)o(are)d(F)l(oundation)i(ma)o(y)e
(publish)i(revised)g(and/or)g(new)g(v)o(ersions)g(of)f(the)i(General)e
(Public)90 1163 y(License)k(from)e(time)g(to)h(time.)22
b(Suc)o(h)17 b(new)g(v)o(ersions)e(will)h(b)q(e)h(similar)c(in)k
(spirit)e(to)h(the)h(presen)o(t)f(v)o(ersion,)90 1225
y(but)f(ma)o(y)f(di\013er)g(in)h(detail)g(to)f(address)h(new)h
(problems)e(or)g(concerns.)90 1303 y(Eac)o(h)21 b(v)o(ersion)g(is)h
(giv)o(en)f(a)g(distinguishing)f(v)o(ersion)h(n)o(um)o(b)q(er.)39
b(If)22 b(the)g(Program)d(sp)q(eci\014es)j(a)g(v)o(ersion)90
1365 y(n)o(um)o(b)q(er)d(of)g(this)g(License)h(whic)o(h)g(applies)f(to)
g(it)g(and)h(\\an)o(y)f(later)f(v)o(ersion",)h(y)o(ou)h(ha)o(v)o(e)f
(the)h(option)e(of)90 1427 y(follo)o(wing)h(the)i(terms)e(and)i
(conditions)f(either)h(of)f(that)h(v)o(ersion)f(or)g(of)h(an)o(y)f
(later)g(v)o(ersion)g(published)90 1490 y(b)o(y)e(the)g(F)l(ree)g(Soft)
o(w)o(are)e(F)l(oundation.)28 b(If)18 b(the)g(Program)e(do)q(es)i(not)g
(sp)q(ecify)g(a)g(v)o(ersion)f(n)o(um)o(b)q(er)g(of)h(this)90
1552 y(License,)e(y)o(ou)e(ma)o(y)g(c)o(ho)q(ose)h(an)o(y)g(v)o(ersion)
f(ev)o(er)i(published)f(b)o(y)g(the)h(F)l(ree)f(Soft)o(w)o(are)f(F)l
(oundation.)2 1629 y(10.)29 b(If)17 b(y)o(ou)g(wish)g(to)g(incorp)q
(orate)f(parts)h(of)g(the)g(Program)e(in)o(to)h(other)h(free)g
(programs)e(whose)i(distribution)90 1692 y(conditions)k(are)h
(di\013eren)o(t,)g(write)f(to)g(the)h(author)f(to)h(ask)f(for)g(p)q
(ermission.)38 b(F)l(or)22 b(soft)o(w)o(are)e(whic)o(h)h(is)90
1754 y(cop)o(yrigh)o(ted)h(b)o(y)g(the)h(F)l(ree)g(Soft)o(w)o(are)e(F)l
(oundation,)i(write)f(to)g(the)g(F)l(ree)h(Soft)o(w)o(are)e(F)l
(oundation;)k(w)o(e)90 1816 y(sometimes)10 b(mak)o(e)h(exceptions)i
(for)g(this.)18 b(Our)13 b(decision)g(will)f(b)q(e)h(guided)h(b)o(y)e
(the)h(t)o(w)o(o)f(goals)g(of)g(preserving)90 1878 y(the)i(free)g
(status)g(of)f(all)g(deriv)m(ativ)o(es)h(of)f(our)h(free)g(soft)o(w)o
(are)e(and)j(of)e(promoting)f(the)i(sharing)g(and)g(reuse)g(of)90
1941 y(soft)o(w)o(are)f(generally)l(.)90 2128 y Fn(NO)h(W)-7
b(ARRANTY)2 2234 y Fo(11.)29 b(BECA)o(USE)20 b(THE)h(PR)o(OGRAM)f(IS)i
(LICENSED)e(FREE)h(OF)f(CHAR)o(GE,)g(THERE)h(IS)g(NO)g(W)-5
b(AR-)90 2296 y(RANTY)12 b(F)o(OR)f(THE)g(PR)o(OGRAM,)g(TO)h(THE)f
(EXTENT)f(PERMITTED)h(BY)h(APPLICABLE)g(LA)-5 b(W.)90
2359 y(EX)o(CEPT)23 b(WHEN)g(OTHER)-5 b(WISE)24 b(ST)l(A)l(TED)g(IN)g
(WRITING)f(THE)h(COPYRIGHT)g(HOLDERS)90 2421 y(AND/OR)11
b(OTHER)f(P)l(AR)l(TIES)i(PR)o(O)o(VIDE)e(THE)g(PR)o(OGRAM)h(\\AS)f
(IS")h(WITHOUT)f(W)-5 b(ARRANTY)90 2483 y(OF)14 b(ANY)h(KIND,)f(EITHER)
h(EXPRESSED)f(OR)h(IMPLIED,)f(INCLUDING,)h(BUT)f(NOT)h(LIMITED)90
2545 y(TO,)23 b(THE)g(IMPLIED)h(W)-5 b(ARRANTIES)24 b(OF)f(MER)o(CHANT)
l(ABILITY)i(AND)e(FITNESS)h(F)o(OR)f(A)90 2608 y(P)l(AR)l(TICULAR)e
(PURPOSE.)e(THE)f(ENTIRE)h(RISK)h(AS)f(TO)g(THE)f(QUALITY)i(AND)e(PERF)
o(OR-)90 2670 y(MANCE)h(OF)h(THE)f(PR)o(OGRAM)h(IS)h(WITH)e(YOU.)h
(SHOULD)h(THE)e(PR)o(OGRAM)h(PR)o(O)o(VE)g(DE-)p eop
%%Page: 10 12
10 11 bop 0 -58 a Fo(10)1697 b(Bison)15 b(1.25)90 183
y(FECTIVE,)i(YOU)h(ASSUME)g(THE)g(COST)g(OF)f(ALL)i(NECESSAR)l(Y)g(SER)
-5 b(VICING,)18 b(REP)l(AIR)h(OR)90 246 y(CORRECTION.)2
320 y(12.)29 b(IN)13 b(NO)g(EVENT)f(UNLESS)i(REQUIRED)g(BY)e
(APPLICABLE)i(LA)-5 b(W)13 b(OR)g(A)o(GREED)f(TO)g(IN)h(WRIT-)90
382 y(ING)h(WILL)g(ANY)f(COPYRIGHT)h(HOLDER,)g(OR)g(ANY)g(OTHER)g(P)l
(AR)l(TY)g(WHO)g(MA)l(Y)f(MODIFY)90 445 y(AND/OR)k(REDISTRIBUTE)h(THE)e
(PR)o(OGRAM)h(AS)f(PERMITTED)g(ABO)o(VE,)h(BE)f(LIABLE)i(TO)90
507 y(YOU)13 b(F)o(OR)g(D)o(AMA)o(GES,)f(INCLUDING)h(ANY)g(GENERAL,)g
(SPECIAL,)g(INCIDENT)l(AL)h(OR)g(CON-)90 569 y(SEQUENTIAL)20
b(D)o(AMA)o(GES)d(ARISING)j(OUT)f(OF)f(THE)g(USE)h(OR)g(INABILITY)i(TO)
d(USE)h(THE)90 632 y(PR)o(OGRAM)g(\(INCLUDING)h(BUT)f(NOT)h(LIMITED)f
(TO)g(LOSS)i(OF)e(D)o(A)l(T)l(A)g(OR)h(D)o(A)l(T)l(A)f(BEING)90
694 y(RENDERED)j(INA)o(CCURA)l(TE)h(OR)f(LOSSES)h(SUST)l(AINED)g(BY)f
(YOU)h(OR)f(THIRD)h(P)l(AR)l(TIES)90 756 y(OR)15 b(A)g(F)-5
b(AILURE)15 b(OF)f(THE)h(PR)o(OGRAM)f(TO)h(OPERA)l(TE)g(WITH)f(ANY)h
(OTHER)g(PR)o(OGRAMS\),)90 818 y(EVEN)k(IF)g(SUCH)g(HOLDER)h(OR)f
(OTHER)h(P)l(AR)l(TY)f(HAS)g(BEEN)g(AD)o(VISED)g(OF)g(THE)g(POSSI-)90
881 y(BILITY)e(OF)e(SUCH)g(D)o(AMA)o(GES.)0 1105 y Fn(END)f(OF)h(TERMS)
h(AND)e(CONDITIONS)p eop
%%Page: 11 13
11 12 bop 0 -58 a Fo(GNU)15 b(GENERAL)h(PUBLIC)g(LICENSE)1155
b(11)0 183 y Fn(Ho)n(w)14 b(to)h(Apply)i(These)d(T)-6
b(erms)15 b(to)g(Y)-6 b(our)16 b(New)e(Programs)62 338
y Fo(If)i(y)o(ou)e(dev)o(elop)i(a)e(new)i(program,)c(and)k(y)o(ou)e(w)o
(an)o(t)g(it)h(to)f(b)q(e)i(of)f(the)g(greatest)f(p)q(ossible)h(use)g
(to)g(the)g(public,)0 401 y(the)f(b)q(est)g(w)o(a)o(y)f(to)h(ac)o(hiev)
o(e)f(this)h(is)f(to)h(mak)o(e)e(it)h(free)h(soft)o(w)o(are)f(whic)o(h)
h(ev)o(ery)o(one)f(can)h(redistribute)g(and)g(c)o(hange)0
463 y(under)i(these)f(terms.)62 618 y(T)l(o)f(do)g(so,)g(attac)o(h)f
(the)h(follo)o(wing)e(notices)i(to)g(the)g(program.)j(It)e(is)e(safest)
h(to)f(attac)o(h)g(them)h(to)f(the)h(start)f(of)0 680
y(eac)o(h)k(source)f(\014le)h(to)f(most)f(e\013ectiv)o(ely)g(con)o(v)o
(ey)i(the)f(exclusion)h(of)f(w)o(arran)o(t)o(y;)f(and)h(eac)o(h)h
(\014le)g(should)f(ha)o(v)o(e)h(at)0 743 y(least)d(the)i(\\cop)o(yrigh)
o(t")d(line)i(and)g(a)g(p)q(oin)o(ter)g(to)f(where)i(the)f(full)g
(notice)f(is)h(found.)120 887 y Fk(one)g(line)g(to)g(giv)o(e)f(the)h
(program's)e(name)h(and)i(a)f(brief)f(idea)h(of)g(what)g(it)f(do)q(es.)
120 939 y Fj(Copyright)23 b(\(C\))g(19)p Fk(yy)51 b(name)15
b(of)f(author)120 1043 y Fj(This)23 b(program)g(is)h(free)f(software;)g
(you)g(can)h(redistribute)e(it)h(and/or)h(modify)120
1095 y(it)g(under)f(the)g(terms)g(of)h(the)f(GNU)h(General)f(Public)g
(License)g(as)g(published)g(by)120 1147 y(the)g(Free)h(Software)f
(Foundation;)f(either)h(version)g(2)h(of)f(the)h(License,)e(or)120
1199 y(\(at)h(your)h(option\))f(any)g(later)g(version.)120
1302 y(This)g(program)g(is)h(distributed)e(in)i(the)f(hope)h(that)f(it)
g(will)h(be)f(useful,)120 1354 y(but)g(WITHOUT)g(ANY)h(WARRANTY;)e
(without)h(even)h(the)f(implied)g(warranty)g(of)120 1406
y(MERCHANTABILITY)f(or)h(FITNESS)g(FOR)h(A)f(PARTICULAR)g(PURPOSE.)47
b(See)23 b(the)120 1458 y(GNU)g(General)g(Public)g(License)g(for)h
(more)f(details.)120 1562 y(You)g(should)g(have)h(received)f(a)g(copy)h
(of)f(the)h(GNU)f(General)g(Public)g(License)120 1614
y(along)g(with)g(this)h(program;)f(if)g(not,)g(write)h(to)f(the)h(Free)
f(Software)120 1666 y(Foundation,)f(Inc.,)i(675)f(Mass)g(Ave,)h
(Cambridge,)e(MA)i(02139,)f(USA.)62 1821 y Fo(Also)15
b(add)g(information)e(on)i(ho)o(w)f(to)h(con)o(tact)f(y)o(ou)h(b)o(y)g
(electronic)g(and)g(pap)q(er)h(mail.)62 1976 y(If)11
b(the)f(program)e(is)i(in)o(teractiv)o(e,)f(mak)o(e)g(it)g(output)h(a)g
(short)g(notice)f(lik)o(e)h(this)f(when)i(it)e(starts)g(in)h(an)h(in)o
(teractiv)o(e)0 2038 y(mo)q(de:)120 2183 y Fj(Gnomovision)22
b(version)h(69,)h(Copyright)e(\(C\))i(19)p Fk(yy)j(name)14
b(of)h(author)120 2235 y Fj(Gnomovision)22 b(comes)i(with)f(ABSOLUTELY)
f(NO)i(WARRANTY;)f(for)g(details)120 2287 y(type)g(`show)g(w'.)120
2338 y(This)g(is)h(free)f(software,)g(and)g(you)h(are)f(welcome)g(to)h
(redistribute)e(it)120 2390 y(under)h(certain)g(conditions;)f(type)i
(`show)f(c')h(for)f(details.)62 2545 y Fo(The)e(h)o(yp)q(othetical)e
(commands)f(`)p Fj(show)c(w)p Fo(')19 b(and)i(`)p Fj(show)14
b(c)p Fo(')19 b(should)h(sho)o(w)g(the)g(appropriate)f(parts)g(of)h
(the)0 2608 y(General)10 b(Public)h(License.)19 b(Of)11
b(course,)g(the)g(commands)e(y)o(ou)h(use)h(ma)o(y)e(b)q(e)j(called)e
(something)f(other)h(than)h(`)p Fj(show)0 2670 y(w)p
Fo(')k(and)g(`)p Fj(show)f(c)p Fo(';)h(they)g(could)g(ev)o(en)h(b)q(e)f
(mouse-clic)o(ks)f(or)h(men)o(u)f(items|whatev)o(er)g(suits)g(y)o(our)h
(program.)p eop
%%Page: 12 14
12 13 bop 0 -58 a Fo(12)1697 b(Bison)15 b(1.25)62 183
y(Y)l(ou)g(should)f(also)f(get)h(y)o(our)f(emplo)o(y)o(er)f(\(if)i(y)o
(ou)g(w)o(ork)f(as)g(a)h(programmer\))d(or)i(y)o(our)h(sc)o(ho)q(ol,)g
(if)f(an)o(y)l(,)h(to)f(sign)0 246 y(a)i(\\cop)o(yrigh)o(t)e
(disclaimer")g(for)i(the)g(program,)e(if)h(necessary)l(.)21
b(Here)15 b(is)g(a)g(sample;)e(alter)h(the)i(names:)120
372 y Fj(Yoyodyne,)23 b(Inc.,)g(hereby)g(disclaims)f(all)i(copyright)f
(interest)f(in)i(the)f(program)120 424 y(`Gnomovision')f(\(which)h
(makes)g(passes)g(at)h(compilers\))e(written)h(by)h(James)f(Hacker.)120
528 y Fk(signature)14 b(of)h(T)o(y)g(Co)q(on)p Fj(,)23
b(1)h(April)f(1989)120 580 y(Ty)h(Coon,)f(President)f(of)i(Vice)62
717 y Fo(This)15 b(General)g(Public)g(License)h(do)q(es)g(not)f(p)q
(ermit)f(incorp)q(orating)g(y)o(our)g(program)g(in)o(to)g(proprietary)g
(pro-)0 779 y(grams.)20 b(If)c(y)o(our)f(program)f(is)h(a)h(subroutine)
g(library)l(,)e(y)o(ou)i(ma)o(y)e(consider)i(it)f(more)f(useful)i(to)f
(p)q(ermit)g(linking)0 841 y(proprietary)j(applications)f(with)i(the)g
(library)l(.)30 b(If)19 b(this)f(is)h(what)f(y)o(ou)h(w)o(an)o(t)f(to)g
(do,)h(use)h(the)f(GNU)f(Library)0 903 y(General)d(Public)g(License)h
(instead)e(of)h(this)g(License.)p eop
%%Page: 13 15
13 14 bop 0 -58 a Fo(Chapter)15 b(1:)k(The)d(Concepts)f(of)g(Bison)1219
b(13)0 183 y Fl(1)41 b(The)15 b(Concepts)g(of)g(Bison)62
376 y Fo(This)g(c)o(hapter)g(in)o(tro)q(duces)g(man)o(y)e(of)i(the)g
(basic)g(concepts)g(without)f(whic)o(h)h(the)g(details)f(of)h(Bison)g
(will)e(not)0 438 y(mak)o(e)g(sense.)20 b(If)14 b(y)o(ou)g(do)g(not)f
(already)h(kno)o(w)f(ho)o(w)h(to)f(use)i(Bison)f(or)f(Y)l(acc,)h(w)o(e)
g(suggest)g(y)o(ou)g(start)e(b)o(y)i(reading)0 500 y(this)h(c)o(hapter)
g(carefully)l(.)0 734 y Fn(1.1)33 b(Languages)14 b(and)h(Con)n(text-F)
-6 b(ree)16 b(Grammars)62 872 y Fo(In)i(order)e(for)h(Bison)f(to)g
(parse)h(a)f(language,)h(it)f(m)o(ust)f(b)q(e)i(describ)q(ed)h(b)o(y)f
(a)g Fk(con)o(text-free)f(grammar)p Fo(.)21 b(This)0
935 y(means)14 b(that)g(y)o(ou)g(sp)q(ecify)h(one)g(or)f(more)f
Fk(syn)o(tactic)h(groupings)i Fo(and)f(giv)o(e)f(rules)g(for)g
(constructing)g(them)g(from)0 997 y(their)j(parts.)26
b(F)l(or)17 b(example,)f(in)i(the)f(C)g(language,)g(one)h(kind)f(of)g
(grouping)g(is)g(called)g(an)g(`expression'.)26 b(One)0
1059 y(rule)15 b(for)g(making)f(an)h(expression)g(migh)o(t)e(b)q(e,)j
(\\An)g(expression)f(can)g(b)q(e)h(made)f(of)g(a)g(min)o(us)f(sign)h
(and)g(another)0 1121 y(expression".)k(Another)14 b(w)o(ould)f(b)q(e,)i
(\\An)f(expression)g(can)g(b)q(e)h(an)f(in)o(teger".)k(As)c(y)o(ou)g
(can)g(see,)g(rules)g(are)f(often)0 1184 y(recursiv)o(e,)i(but)g(there)
g(m)o(ust)f(b)q(e)i(at)e(least)h(one)g(rule)g(whic)o(h)g(leads)g(out)g
(of)f(the)i(recursion.)62 1322 y(The)h(most)d(common)f(formal)h(system)
h(for)g(presen)o(ting)h(suc)o(h)g(rules)g(for)f(h)o(umans)g(to)g(read)h
(is)g Fk(Bac)o(kus-Naur)0 1384 y(F)l(orm)h Fo(or)h(\\BNF",)f(whic)o(h)i
(w)o(as)e(dev)o(elop)q(ed)j(in)e(order)g(to)g(sp)q(ecify)h(the)g
(language)e(Algol)h(60.)29 b(An)o(y)18 b(grammar)0 1446
y(expressed)g(in)f(BNF)h(is)f(a)g(con)o(text-free)g(gramma)o(r.)24
b(The)17 b(input)h(to)e(Bison)h(is)g(essen)o(tially)f(mac)o
(hine-readable)0 1509 y(BNF.)62 1647 y(Not)22 b(all)f(con)o(text-free)g
(languages)g(can)h(b)q(e)h(handled)g(b)o(y)f(Bison,)h(only)e(those)h
(that)f(are)h(LALR\(1\).)40 b(In)0 1709 y(brief,)15 b(this)h(means)e
(that)h(it)h(m)o(ust)e(b)q(e)i(p)q(ossible)g(to)f(tell)g(ho)o(w)g(to)h
(parse)f(an)o(y)h(p)q(ortion)f(of)g(an)h(input)g(string)f(with)0
1771 y(just)j(a)g(single)g(tok)o(en)f(of)h(lo)q(ok-ahead.)29
b(Strictly)17 b(sp)q(eaking,)i(that)e(is)h(a)g(description)g(of)f(an)i
(LR\(1\))f(grammar)o(,)0 1833 y(and)j(LALR\(1\))g(in)o(v)o(olv)o(es)e
(additional)g(restrictions)g(that)h(are)h(hard)f(to)g(explain)h
(simply;)g(but)g(it)f(is)g(rare)g(in)0 1896 y(actual)c(practice)g(to)g
(\014nd)h(an)g(LR\(1\))f(grammar)d(that)j(fails)g(to)g(b)q(e)h
(LALR\(1\).)25 b(See)17 b Fm(h)p Fo(unde\014ned)p Fm(i)h
Fo([Mysterious)0 1958 y(Reduce/Reduce)g(Con\015icts],)c(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(,)h(for)f(more)e(information)g(on)i
(this.)62 2096 y(In)f(the)f(formal)d(grammat)o(ical)f(rules)k(for)f(a)g
(language,)h(eac)o(h)f(kind)h(of)g(syn)o(tactic)e(unit)i(or)f(grouping)
g(is)h(named)0 2158 y(b)o(y)h(a)f Fk(sym)o(b)q(ol)p Fo(.)18
b(Those)c(whic)o(h)g(are)f(built)h(b)o(y)g(grouping)f(smaller)f
(constructs)h(according)g(to)h(gramma)o(tical)c(rules)0
2221 y(are)18 b(called)h Fk(non)o(terminal)d(sym)o(b)q(ols)r
Fo(;)i(those)g(whic)o(h)h(can't)f(b)q(e)h(sub)q(divided)h(are)e(called)
g Fk(terminal)f(sym)o(b)q(ols)h Fo(or)0 2283 y Fk(tok)o(en)g(t)o(yp)q
(es)p Fo(.)31 b(W)l(e)18 b(call)g(a)h(piece)g(of)f(input)h(corresp)q
(onding)f(to)g(a)h(single)f(terminal)e(sym)o(b)q(ol)h(a)i
Fk(tok)o(en)p Fo(,)f(and)h(a)0 2345 y(piece)d(corresp)q(onding)f(to)f
(a)h(single)g(non)o(terminal)e(sym)o(b)q(ol)g(a)i Fk(grouping)p
Fo(.)62 2483 y(W)l(e)i(can)g(use)h(the)f(C)g(language)f(as)g(an)h
(example)f(of)h(what)f(sym)o(b)q(ols,)g(terminal)e(and)k(non)o
(terminal,)c(mean.)0 2545 y(The)d(tok)o(ens)f(of)h(C)f(are)h(iden)o
(ti\014ers,)g(constan)o(ts)e(\(n)o(umeric)h(and)h(string\),)f(and)h
(the)g(v)m(arious)f(k)o(eyw)o(ords,)g(arithmetic)0 2608
y(op)q(erators)j(and)h(punctuation)g(marks.)k(So)c(the)g(terminal)d
(sym)o(b)q(ols)i(of)g(a)h(gramma)o(r)d(for)i(C)h(include)g(`iden)o
(ti\014er',)0 2670 y(`n)o(um)o(b)q(er',)g(`string',)g(plus)h(one)h(sym)
o(b)q(ol)e(for)h(eac)o(h)h(k)o(eyw)o(ord,)e(op)q(erator)h(or)g
(punctuation)g(mark:)20 b(`if)t(',)13 b(`return',)p eop
%%Page: 14 16
14 15 bop 0 -58 a Fo(14)1697 b(Bison)15 b(1.25)0 183
y(`const',)10 b(`static',)g(`in)o(t',)g(`c)o(har',)g(`plus-sign',)g
(`op)q(en-brace',)i(`close-brace',)f(`comma')c(and)k(man)o(y)f(more.)17
b(\(These)0 246 y(tok)o(ens)e(can)g(b)q(e)h(sub)q(divided)g(in)o(to)e
(c)o(haracters,)g(but)h(that)g(is)g(a)g(matter)e(of)h(lexicograph)o(y)l
(,)g(not)h(grammar.)o(\))62 387 y(Here)h(is)e(a)h(simple)f(C)h
(function)g(sub)q(divided)h(in)o(to)e(tok)o(ens:)120
518 y Fj(int)310 b(/*)23 b Fo(k)o(eyw)o(ord)15 b(`in)o(t')22
b Fj(*/)120 570 y(square)h(\(x\))143 b(/*)23 b Fo(iden)o(ti\014er,)15
b(op)q(en-paren,)24 b Fj(*/)502 622 y(/*)f Fo(iden)o(ti\014er,)15
b(close-paren)24 b Fj(*/)239 674 y(int)g(x;)119 b(/*)23
b Fo(k)o(eyw)o(ord)15 b(`in)o(t',)e(iden)o(ti\014er,)i(semicolon)22
b Fj(*/)120 725 y({)358 b(/*)23 b Fo(op)q(en-brace)i
Fj(*/)168 777 y(return)e(x)g(*)h(x;)g(/*)f Fo(k)o(eyw)o(ord)15
b(`return',)f(iden)o(ti\014er,)23 b Fj(*/)502 829 y(/*)g
Fo(asterisk,)14 b(iden)o(ti\014er,)g(semicolon)23 b Fj(*/)120
881 y(})358 b(/*)23 b Fo(close-brace)h Fj(*/)62 1023
y Fo(The)19 b(syn)o(tactic)f(groupings)g(of)g(C)h(include)g(the)g
(expression,)g(the)g(statemen)o(t,)e(the)i(declaration,)f(and)h(the)0
1085 y(function)11 b(de\014nition.)18 b(These)11 b(are)f(represen)o
(ted)i(in)e(the)h(grammar)c(of)k(C)f(b)o(y)h(non)o(terminal)d(sym)o(b)q
(ols)h(`expression',)0 1147 y(`statemen)o(t',)18 b(`declaration')h(and)
h(`function)g(de\014nition'.)34 b(The)21 b(full)f(gramma)o(r)d(uses)k
(dozens)g(of)f(additional)0 1209 y(language)h(constructs,)j(eac)o(h)e
(with)g(its)f(o)o(wn)h(non)o(terminal)e(sym)o(b)q(ol,)i(in)g(order)g
(to)g(express)g(the)g(meanings)0 1272 y(of)d(these)h(four.)34
b(The)20 b(example)e(ab)q(o)o(v)o(e)i(is)f(a)g(function)h
(de\014nition;)i(it)d(con)o(tains)g(one)g(declaration,)h(and)g(one)0
1334 y(statemen)o(t.)e(In)e(the)f(statemen)o(t,)e(eac)o(h)i(`)p
Fj(x)p Fo(')f(is)h(an)g(expression)g(and)g(so)g(is)g(`)p
Fj(x)g(*)g(x)p Fo('.)62 1475 y(Eac)o(h)i(non)o(terminal)d(sym)o(b)q(ol)
h(m)o(ust)g(ha)o(v)o(e)h(grammat)o(ical)d(rules)j(sho)o(wing)g(ho)o(w)g
(it)g(is)g(made)f(out)i(of)f(simpler)0 1538 y(constructs.)j(F)l(or)12
b(example,)g(one)h(kind)h(of)e(C)h(statemen)o(t)e(is)i(the)g
Fj(return)f Fo(statemen)o(t;)f(this)i(w)o(ould)f(b)q(e)i(describ)q(ed)0
1600 y(with)h(a)f(grammar)e(rule)j(whic)o(h)g(reads)g(informally)e(as)h
(follo)o(ws:)120 1731 y(A)h(`statemen)o(t')e(can)i(b)q(e)h(made)e(of)h
(a)g(`return')f(k)o(eyw)o(ord,)g(an)h(`expression')g(and)g(a)g
(`semicolon'.)0 1872 y(There)g(w)o(ould)g(b)q(e)h(man)o(y)e(other)g
(rules)h(for)g(`statemen)o(t',)d(one)j(for)g(eac)o(h)g(kind)g(of)g
(statemen)o(t)e(in)i(C.)62 2014 y(One)22 b(non)o(terminal)c(sym)o(b)q
(ol)h(m)o(ust)h(b)q(e)h(distinguished)g(as)f(the)h(sp)q(ecial)f(one)h
(whic)o(h)g(de\014nes)h(a)e(complete)0 2076 y(utterance)13
b(in)g(the)h(language.)k(It)13 b(is)g(called)g(the)g
Fk(start)f(sym)o(b)q(ol)p Fo(.)18 b(In)c(a)f(compiler,)e(this)i(means)f
(a)h(complete)f(input)0 2138 y(program.)32 b(In)20 b(the)g(C)g
(language,)f(the)h(non)o(terminal)e(sym)o(b)q(ol)g(`sequence)j(of)e
(de\014nitions)h(and)g(declarations')0 2200 y(pla)o(ys)14
b(this)h(role.)62 2342 y(F)l(or)f(example,)e(`)p Fj(1)j(+)g(2)p
Fo(')f(is)f(a)h(v)m(alid)g(C)g(expression|a)g(v)m(alid)g(part)f(of)h(a)
f(C)h(program|but)f(it)g(is)h(not)g(v)m(alid)f(as)0 2404
y(an)h Fk(en)o(tire)h Fo(C)f(program.)j(In)d(the)g(con)o(text-free)g
(gramma)o(r)d(of)i(C,)g(this)g(follo)o(ws)f(from)g(the)i(fact)f(that)g
(`expression')0 2466 y(is)i(not)g(the)g(start)f(sym)o(b)q(ol.)62
2608 y(The)22 b(Bison)f(parser)g(reads)h(a)f(sequence)i(of)e(tok)o(ens)
g(as)g(its)f(input,)j(and)f(groups)f(the)h(tok)o(ens)f(using)g(the)0
2670 y(grammar)13 b(rules.)23 b(If)16 b(the)h(input)f(is)g(v)m(alid,)g
(the)g(end)h(result)f(is)g(that)f(the)h(en)o(tire)g(tok)o(en)g
(sequence)i(reduces)f(to)e(a)p eop
%%Page: 15 17
15 16 bop 0 -58 a Fo(Chapter)15 b(1:)k(The)d(Concepts)f(of)g(Bison)1219
b(15)0 183 y(single)13 b(grouping)f(whose)h(sym)o(b)q(ol)f(is)h(the)g
(grammar')o(s)d(start)i(sym)o(b)q(ol.)18 b(If)c(w)o(e)f(use)g(a)g
(grammar)d(for)i(C,)h(the)g(en)o(tire)0 246 y(input)g(m)o(ust)f(b)q(e)i
(a)f(`sequence)h(of)e(de\014nitions)h(and)h(declarations'.)j(If)d(not,)
f(the)g(parser)g(rep)q(orts)g(a)g(syn)o(tax)f(error.)0
571 y Fn(1.2)33 b(F)-6 b(rom)15 b(F)-6 b(ormal)17 b(Rules)e(to)g(Bison)
g(Input)62 719 y Fo(A)k(formal)d(grammar)g(is)i(a)g(mathematical)d
(construct.)30 b(T)l(o)19 b(de\014ne)g(the)g(language)f(for)g(Bison,)h
(y)o(ou)g(m)o(ust)0 781 y(write)14 b(a)g(\014le)g(expressing)g(the)h
(grammar)c(in)j(Bison)g(syn)o(tax:)19 b(a)14 b Fk(Bison)g(grammar)g
Fo(\014le.)20 b(See)15 b Fm(h)p Fo(unde\014ned)p Fm(i)h
Fo([Bison)0 844 y(Grammar)c(Files],)h(page)i Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 992 y(A)f(non)o(terminal)e(sym)o(b)q(ol)g(in)i(the)g
(formal)e(grammar)e(is)k(represen)o(ted)g(in)g(Bison)g(input)g(as)f(an)
h(iden)o(ti\014er,)g(lik)o(e)0 1054 y(an)h(iden)o(ti\014er)g(in)g(C.)g
(By)g(con)o(v)o(en)o(tion,)f(it)g(should)h(b)q(e)h(in)f(lo)o(w)o(er)f
(case,)h(suc)o(h)h(as)e Fj(expr)p Fo(,)h Fj(stmt)f Fo(or)h
Fj(declaration)p Fo(.)62 1202 y(The)g(Bison)f(represen)o(tation)g(for)g
(a)g(terminal)f(sym)o(b)q(ol)g(is)h(also)f(called)h(a)h
Fk(tok)o(en)f(t)o(yp)q(e)p Fo(.)20 b(T)l(ok)o(en)14 b(t)o(yp)q(es)h(as)
f(w)o(ell)0 1265 y(can)k(b)q(e)g(represen)o(ted)g(as)g(C-lik)o(e)e
(iden)o(ti\014ers.)27 b(By)18 b(con)o(v)o(en)o(tion,)f(these)h(iden)o
(ti\014ers)f(should)h(b)q(e)g(upp)q(er)h(case)f(to)0
1327 y(distinguish)12 b(them)f(from)g(non)o(terminals:)17
b(for)12 b(example,)f Fj(INTEGER)p Fo(,)h Fj(IDENTIFIER)p
Fo(,)g Fj(IF)g Fo(or)g Fj(RETURN)p Fo(.)18 b(A)13 b(terminal)0
1389 y(sym)o(b)q(ol)h(that)i(stands)g(for)f(a)h(particular)f(k)o(eyw)o
(ord)g(in)h(the)g(language)g(should)g(b)q(e)h(named)e(after)g(that)h(k)
o(eyw)o(ord)0 1451 y(con)o(v)o(erted)d(to)f(upp)q(er)i(case.)20
b(The)13 b(terminal)e(sym)o(b)q(ol)g Fj(error)i Fo(is)f(reserv)o(ed)h
(for)g(error)f(reco)o(v)o(ery)l(.)19 b(See)14 b Fm(h)p
Fo(unde\014ned)p Fm(i)0 1514 y Fo([Sym)o(b)q(ols],)f(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 1662 y(A)d(terminal)e(sym)o(b)q
(ol)g(can)i(also)f(b)q(e)i(represen)o(ted)f(as)g(a)f(c)o(haracter)h
(literal,)e(just)i(lik)o(e)f(a)g(C)h(c)o(haracter)f(constan)o(t.)0
1724 y(Y)l(ou)18 b(should)g(do)g(this)g(whenev)o(er)g(a)g(tok)o(en)f
(is)h(just)g(a)f(single)h(c)o(haracter)f(\(paren)o(thesis,)h
(plus-sign,)g(etc.\):)25 b(use)0 1786 y(that)14 b(same)g(c)o(haracter)h
(in)g(a)g(literal)e(as)i(the)g(terminal)e(sym)o(b)q(ol)h(for)g(that)h
(tok)o(en.)62 1935 y(A)22 b(third)g(w)o(a)o(y)f(to)g(represen)o(t)h(a)g
(terminal)e(sym)o(b)q(ol)g(is)i(with)f(a)h(C)g(string)f(constan)o(t)g
(con)o(taining)g(sev)o(eral)0 1997 y(c)o(haracters.)e(See)d
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Sym)o(b)q(ols],)d(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(,)h(for)f(more)e(information.)62
2145 y(The)h(grammar)c(rules)j(also)g(ha)o(v)o(e)g(an)g(expression)g
(in)h(Bison)f(syn)o(tax.)18 b(F)l(or)13 b(example,)g(here)g(is)g(the)h
(Bison)f(rule)0 2207 y(for)j(a)g(C)g Fj(return)g Fo(statemen)o(t.)21
b(The)c(semicolon)d(in)i(quotes)g(is)g(a)g(literal)f(c)o(haracter)h
(tok)o(en,)g(represen)o(ting)g(part)0 2270 y(of)e(the)g(C)f(syn)o(tax)h
(for)f(the)h(statemen)o(t;)e(the)i(nak)o(ed)g(semicolon,)e(and)j(the)f
(colon,)f(are)h(Bison)f(punctuation)h(used)0 2332 y(in)h(ev)o(ery)g
(rule.)120 2470 y Fj(stmt:)71 b(RETURN)23 b(expr)g(';')311
2522 y(;)0 2670 y Fo(See)16 b Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Syn)o(tax)f(of)f(Grammar)e(Rules],)j(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)p eop
%%Page: 16 18
16 17 bop 0 -58 a Fo(16)1697 b(Bison)15 b(1.25)0 183
y Fn(1.3)33 b(Seman)n(tic)16 b(V)-6 b(alues)62 328 y
Fo(A)18 b(formal)d(grammar)f(selects)j(tok)o(ens)g(only)g(b)o(y)h
(their)f(classi\014cations:)23 b(for)17 b(example,)f(if)h(a)g(rule)h
(men)o(tions)0 390 y(the)f(terminal)d(sym)o(b)q(ol)g(`in)o(teger)i
(constan)o(t',)f(it)h(means)f(that)h Fk(an)o(y)k Fo(in)o(teger)15
b(constan)o(t)h(is)g(gramma)o(tical)o(ly)d(v)m(alid)0
452 y(in)i(that)g(p)q(osition.)20 b(The)15 b(precise)h(v)m(alue)g(of)f
(the)g(constan)o(t)g(is)g(irrelev)m(an)o(t)f(to)h(ho)o(w)g(to)g(parse)g
(the)h(input:)k(if)15 b(`)p Fj(x+4)p Fo(')0 515 y(is)g(gramma)o(tical)c
(then)16 b(`)p Fj(x+1)p Fo(')e(or)h(`)p Fj(x+3989)p Fo(')e(is)i
(equally)g(gramma)o(tical)o(.)62 659 y(But)e(the)f(precise)g(v)m(alue)h
(is)f(v)o(ery)g(imp)q(ortan)o(t)d(for)j(what)g(the)g(input)g(means)g
(once)g(it)g(is)g(parsed.)19 b(A)12 b(compiler)e(is)0
721 y(useless)k(if)g(it)f(fails)g(to)g(distinguish)h(b)q(et)o(w)o(een)g
(4,)g(1)f(and)i(3989)e(as)g(constan)o(ts)h(in)f(the)i(program!)i
(Therefore,)d(eac)o(h)0 784 y(tok)o(en)h(in)h(a)f(Bison)h(grammar)c
(has)k(b)q(oth)g(a)f(tok)o(en)h(t)o(yp)q(e)g(and)g(a)f
Fk(seman)o(tic)f(v)m(alue)p Fo(.)22 b(See)16 b Fm(h)p
Fo(unde\014ned)p Fm(i)h Fo([De\014ning)0 846 y(Language)e(Seman)o
(tics],)e(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(,)h(for)f(details.)
62 990 y(The)h(tok)o(en)f(t)o(yp)q(e)h(is)f(a)g(terminal)e(sym)o(b)q
(ol)h(de\014ned)j(in)e(the)h(gramma)o(r,)c(suc)o(h)k(as)f
Fj(INTEGER)p Fo(,)f Fj(IDENTIFIER)g Fo(or)0 1053 y Fj(',')p
Fo(.)22 b(It)17 b(tells)e(ev)o(erything)h(y)o(ou)f(need)i(to)f(kno)o(w)
g(to)f(decide)i(where)g(the)f(tok)o(en)g(ma)o(y)e(v)m(alidly)i(app)q
(ear)g(and)g(ho)o(w)0 1115 y(to)f(group)f(it)h(with)f(other)h(tok)o
(ens.)20 b(The)15 b(grammar)d(rules)j(kno)o(w)f(nothing)h(ab)q(out)g
(tok)o(ens)g(except)g(their)g(t)o(yp)q(es.)62 1259 y(The)h(seman)o(tic)
d(v)m(alue)j(has)f(all)f(the)h(rest)g(of)g(the)g(information)e(ab)q
(out)i(the)g(meaning)f(of)h(the)g(tok)o(en,)g(suc)o(h)g(as)0
1322 y(the)e(v)m(alue)g(of)f(an)h(in)o(teger,)f(or)g(the)h(name)f(of)g
(an)h(iden)o(ti\014er.)19 b(\(A)12 b(tok)o(en)h(suc)o(h)g(as)f
Fj(',')h Fo(whic)o(h)f(is)h(just)f(punctuation)0 1384
y(do)q(esn't)j(need)h(to)f(ha)o(v)o(e)f(an)o(y)h(seman)o(tic)f(v)m
(alue.\))62 1529 y(F)l(or)i(example,)f(an)h(input)h(tok)o(en)e(migh)o
(t)g(b)q(e)i(classi\014ed)f(as)f(tok)o(en)h(t)o(yp)q(e)h
Fj(INTEGER)e Fo(and)h(ha)o(v)o(e)g(the)h(seman)o(tic)0
1591 y(v)m(alue)g(4.)26 b(Another)17 b(input)g(tok)o(en)g(migh)o(t)e
(ha)o(v)o(e)h(the)i(same)d(tok)o(en)i(t)o(yp)q(e)g Fj(INTEGER)g
Fo(but)g(v)m(alue)g(3989.)25 b(When)17 b(a)0 1653 y(grammar)11
b(rule)k(sa)o(ys)g(that)f Fj(INTEGER)g Fo(is)g(allo)o(w)o(ed,)f(either)
i(of)f(these)i(tok)o(ens)e(is)h(acceptable)g(b)q(ecause)h(eac)o(h)f(is)
f(an)0 1715 y Fj(INTEGER)p Fo(.)19 b(When)c(the)h(parser)f(accepts)g
(the)g(tok)o(en,)g(it)f(k)o(eeps)i(trac)o(k)e(of)h(the)g(tok)o(en's)f
(seman)o(tic)g(v)m(alue.)62 1860 y(Eac)o(h)i(grouping)f(can)h(also)f
(ha)o(v)o(e)g(a)h(seman)o(tic)e(v)m(alue)i(as)f(w)o(ell)g(as)h(its)f
(non)o(terminal)e(sym)o(b)q(ol.)20 b(F)l(or)15 b(example,)0
1922 y(in)i(a)h(calculator,)e(an)h(expression)h(t)o(ypically)e(has)h(a)
g(seman)o(tic)f(v)m(alue)i(that)f(is)g(a)g(n)o(um)o(b)q(er.)26
b(In)19 b(a)e(compiler)f(for)0 1984 y(a)21 b(programmi)o(ng)d
(language,)k(an)f(expression)g(t)o(ypically)e(has)i(a)g(seman)o(tic)e
(v)m(alue)i(that)g(is)f(a)h(tree)g(structure)0 2047 y(describing)15
b(the)g(meaning)f(of)h(the)g(expression.)0 2339 y Fn(1.4)33
b(Seman)n(tic)16 b(Actions)62 2483 y Fo(In)k(order)e(to)g(b)q(e)h
(useful,)h(a)e(program)f(m)o(ust)g(do)h(more)g(than)g(parse)h(input;)h
(it)e(m)o(ust)f(also)h(pro)q(duce)h(some)0 2545 y(output)e(based)g(on)f
(the)h(input.)25 b(In)17 b(a)g(Bison)f(grammar,)d(a)k(gramma)o(r)d
(rule)j(can)f(ha)o(v)o(e)h(an)f Fk(action)g Fo(made)g(up)h(of)0
2608 y(C)f(statemen)o(ts.)23 b(Eac)o(h)16 b(time)f(the)i(parser)f
(recognizes)h(a)f(matc)o(h)f(for)h(that)g(rule,)g(the)h(action)f(is)g
(executed.)25 b(See)0 2670 y Fm(h)p Fo(unde\014ned)p
Fm(i)16 b Fo([Actions],)e(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)p eop
%%Page: 17 19
17 18 bop 0 -58 a Fo(Chapter)15 b(1:)k(The)d(Concepts)f(of)g(Bison)1219
b(17)62 183 y(Most)21 b(of)g(the)h(time,)f(the)h(purp)q(ose)h(of)e(an)h
(action)e(is)i(to)f(compute)g(the)g(seman)o(tic)f(v)m(alue)i(of)g(the)f
(whole)0 246 y(construct)c(from)e(the)j(seman)o(tic)d(v)m(alues)i(of)g
(its)f(parts.)25 b(F)l(or)17 b(example,)f(supp)q(ose)i(w)o(e)f(ha)o(v)o
(e)g(a)g(rule)g(whic)o(h)g(sa)o(ys)0 308 y(an)e(expression)h(can)f(b)q
(e)h(the)g(sum)e(of)h(t)o(w)o(o)g(expressions.)20 b(When)c(the)f
(parser)h(recognizes)f(suc)o(h)h(a)f(sum,)f(eac)o(h)h(of)0
370 y(the)i(sub)q(expressions)g(has)f(a)g(seman)o(tic)f(v)m(alue)i
(whic)o(h)f(describ)q(es)h(ho)o(w)f(it)g(w)o(as)g(built)g(up.)24
b(The)17 b(action)f(for)g(this)0 432 y(rule)f(should)g(create)g(a)g
(similar)d(sort)j(of)f(v)m(alue)i(for)e(the)i(newly)f(recognized)g
(larger)f(expression.)62 574 y(F)l(or)h(example,)e(here)j(is)f(a)g
(rule)g(that)f(sa)o(ys)h(an)g(expression)g(can)g(b)q(e)h(the)f(sum)g
(of)f(t)o(w)o(o)g(sub)q(expressions:)120 706 y Fj(expr:)23
b(expr)g('+')h(expr)71 b({)24 b($$)f(=)h($1)g(+)f($3;)h(})311
758 y(;)0 900 y Fo(The)17 b(action)g(sa)o(ys)f(ho)o(w)h(to)g(pro)q
(duce)h(the)f(seman)o(tic)f(v)m(alue)h(of)g(the)g(sum)g(expression)g
(from)e(the)j(v)m(alues)f(of)g(the)0 962 y(t)o(w)o(o)d(sub)q
(expressions.)0 1231 y Fn(1.5)33 b(Bison)15 b(Output:)23
b(the)15 b(P)n(arser)g(File)62 1372 y Fo(When)i(y)o(ou)f(run)h(Bison,)f
(y)o(ou)g(giv)o(e)f(it)h(a)g(Bison)g(grammar)d(\014le)j(as)g(input.)24
b(The)16 b(output)g(is)g(a)g(C)g(source)h(\014le)0 1435
y(that)h(parses)g(the)h(language)f(describ)q(ed)h(b)o(y)g(the)g(gramma)
o(r.)27 b(This)18 b(\014le)h(is)f(called)g(a)h Fk(Bison)f(parser)p
Fo(.)30 b(Keep)19 b(in)0 1497 y(mind)c(that)g(the)h(Bison)g(utilit)o(y)
e(and)i(the)g(Bison)f(parser)h(are)f(t)o(w)o(o)g(distinct)g(programs:)k
(the)d(Bison)g(utilit)o(y)e(is)h(a)0 1559 y(program)e(whose)i(output)g
(is)g(the)g(Bison)g(parser)g(that)f(b)q(ecomes)h(part)g(of)g(y)o(our)f
(program.)62 1701 y(The)g(job)g(of)g(the)g(Bison)g(parser)f(is)h(to)f
(group)h(tok)o(ens)f(in)o(to)g(groupings)g(according)h(to)f(the)h
(grammar)d(rules|)0 1763 y(for)j(example,)f(to)h(build)h(iden)o
(ti\014ers)f(and)h(op)q(erators)f(in)o(to)f(expressions.)20
b(As)15 b(it)e(do)q(es)i(this,)f(it)g(runs)h(the)g(actions)0
1826 y(for)g(the)g(grammar)d(rules)j(it)f(uses.)62 1968
y(The)22 b(tok)o(ens)e(come)g(from)f(a)i(function)g(called)g(the)g
Fk(lexical)f(analyzer)k Fo(that)c(y)o(ou)h(m)o(ust)e(supply)i(in)g
(some)0 2030 y(fashion)15 b(\(suc)o(h)g(as)g(b)o(y)g(writing)e(it)i(in)
g(C\).)f(The)i(Bison)f(parser)f(calls)h(the)g(lexical)f(analyzer)h(eac)
o(h)g(time)f(it)g(w)o(an)o(ts)0 2092 y(a)f(new)h(tok)o(en.)19
b(It)13 b(do)q(esn't)h(kno)o(w)f(what)f(is)h(\\inside")g(the)h(tok)o
(ens)f(\(though)g(their)g(seman)o(tic)e(v)m(alues)j(ma)o(y)e(re\015ect)
0 2154 y(this\).)18 b(T)o(ypically)12 b(the)i(lexical)e(analyzer)h(mak)
o(es)f(the)i(tok)o(ens)e(b)o(y)i(parsing)e(c)o(haracters)h(of)g(text,)g
(but)h(Bison)f(do)q(es)0 2217 y(not)i(dep)q(end)i(on)e(this.)k(See)d
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([The)f(Lexical)g(Analyzer)g(F)l
(unction)g Fj(yylex)p Fo(],)f(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 2359 y(The)f(Bison)g(parser)g(\014le)g(is)f(C)h(co)q(de)
g(whic)o(h)g(de\014nes)h(a)f(function)g(named)f Fj(yyparse)g
Fo(whic)o(h)h(implemen)o(ts)d(that)0 2421 y(grammar.)20
b(This)c(function)g(do)q(es)g(not)g(mak)o(e)f(a)h(complete)f(C)h
(program:)k(y)o(ou)c(m)o(ust)f(supply)i(some)e(additional)0
2483 y(functions.)k(One)14 b(is)e(the)h(lexical)f(analyzer.)19
b(Another)13 b(is)f(an)h(error-rep)q(orting)f(function)g(whic)o(h)h
(the)g(parser)g(calls)0 2545 y(to)h(rep)q(ort)g(an)h(error.)k(In)c
(addition,)f(a)g(complete)g(C)g(program)f(m)o(ust)g(start)g(with)h(a)h
(function)f(called)g Fj(main)p Fo(;)g(y)o(ou)0 2608 y(ha)o(v)o(e)e(to)g
(pro)o(vide)f(this,)h(and)h(arrange)e(for)h(it)g(to)f(call)h
Fj(yyparse)f Fo(or)h(the)g(parser)g(will)f(nev)o(er)i(run.)19
b(See)13 b Fm(h)p Fo(unde\014ned)p Fm(i)0 2670 y Fo([P)o(arser)h
(C-Language)h(In)o(terface],)g(page)g Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)p eop
%%Page: 18 20
18 19 bop 0 -58 a Fo(18)1697 b(Bison)15 b(1.25)62 183
y(Aside)k(from)f(the)h(tok)o(en)g(t)o(yp)q(e)g(names)f(and)h(the)h(sym)
o(b)q(ols)d(in)i(the)g(actions)g(y)o(ou)f(write,)h(all)f(v)m(ariable)h
(and)0 246 y(function)d(names)g(used)h(in)f(the)h(Bison)f(parser)g
(\014le)h(b)q(egin)g(with)e(`)p Fj(yy)p Fo(')h(or)g(`)p
Fj(YY)p Fo('.)23 b(This)16 b(includes)g(in)o(terface)g(func-)0
308 y(tions)i(suc)o(h)i(as)e(the)i(lexical)e(analyzer)g(function)h
Fj(yylex)p Fo(,)g(the)h(error)e(rep)q(orting)g(function)h
Fj(yyerror)g Fo(and)g(the)0 370 y(parser)d(function)g
Fj(yyparse)f Fo(itself.)22 b(This)15 b(also)g(includes)i(n)o(umerous)e
(iden)o(ti\014ers)h(used)g(for)g(in)o(ternal)f(purp)q(oses.)0
432 y(Therefore,)f(y)o(ou)g(should)h(a)o(v)o(oid)e(using)i(C)f(iden)o
(ti\014ers)g(starting)f(with)h(`)p Fj(yy)p Fo(')g(or)g(`)p
Fj(YY)p Fo(')f(in)i(the)g(Bison)f(grammar)d(\014le)0
495 y(except)16 b(for)e(the)i(ones)f(de\014ned)h(in)f(this)g(man)o
(ual.)0 728 y Fn(1.6)33 b(Stages)14 b(in)i(Using)f(Bison)62
866 y Fo(The)g(actual)f(language-design)f(pro)q(cess)i(using)f(Bison,)g
(from)f(grammar)e(sp)q(eci\014cation)j(to)g(a)g(w)o(orking)f(com-)0
928 y(piler)i(or)f(in)o(terpreter,)g(has)h(these)h(parts:)25
1066 y(1.)29 b(F)l(ormally)10 b(sp)q(ecify)j(the)g(grammar)d(in)j(a)f
(form)g(recognized)h(b)o(y)g(Bison)f(\(see)h Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Bison)f(Gramm)o(ar)90 1129 y(Files],)g(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)21 b(F)l(or)14
b(eac)o(h)h(grammati)o(cal)d(rule)j(in)g(the)g(language,)f(describ)q(e)
h(the)g(action)g(that)90 1191 y(is)c(to)g(b)q(e)h(tak)o(en)f(when)h(an)
g(instance)f(of)g(that)g(rule)g(is)g(recognized.)19 b(The)12
b(action)f(is)g(describ)q(ed)h(b)o(y)g(a)f(sequence)90
1253 y(of)k(C)g(statemen)o(ts.)25 1329 y(2.)29 b(W)l(rite)9
b(a)h(lexical)g(analyzer)f(to)h(pro)q(cess)h(input)f(and)g(pass)g(tok)o
(ens)g(to)g(the)g(parser.)18 b(The)11 b(lexical)e(analyzer)h(ma)o(y)90
1391 y(b)q(e)18 b(written)f(b)o(y)g(hand)i(in)e(C)g(\(see)h
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([The)e(Lexical)h(Analyzer)f(F)l
(unction)g Fj(yylex)p Fo(],)g(page)h Fm(h)p Fo(un-)90
1454 y(de\014ned)p Fm(i)p Fo(\).)33 b(It)19 b(could)h(also)e(b)q(e)i
(pro)q(duced)g(using)f(Lex,)i(but)e(the)h(use)f(of)g(Lex)h(is)f(not)g
(discussed)g(in)h(this)90 1516 y(man)o(ual.)25 1592 y(3.)29
b(W)l(rite)14 b(a)h(con)o(trolling)e(function)i(that)g(calls)f(the)h
(Bison-pro)q(duced)i(parser.)25 1667 y(4.)29 b(W)l(rite)14
b(error-rep)q(orting)g(routines.)62 1819 y(T)l(o)h(turn)g(this)g
(source)g(co)q(de)h(as)f(written)f(in)o(to)g(a)h(runnable)h(program,)c
(y)o(ou)j(m)o(ust)f(follo)o(w)f(these)j(steps:)25 1957
y(1.)29 b(Run)16 b(Bison)f(on)g(the)g(grammar)d(to)j(pro)q(duce)h(the)f
(parser.)25 2033 y(2.)29 b(Compile)13 b(the)j(co)q(de)f(output)g(b)o(y)
g(Bison,)g(as)g(w)o(ell)f(as)h(an)o(y)g(other)f(source)i(\014les.)25
2108 y(3.)29 b(Link)15 b(the)h(ob)s(ject)e(\014les)i(to)e(pro)q(duce)i
(the)f(\014nished)h(pro)q(duct.)0 2342 y Fn(1.7)33 b(The)15
b(Ov)n(erall)h(La)n(y)n(out)g(of)e(a)h(Bison)g(Grammar)62
2480 y Fo(The)d(input)g(\014le)g(for)f(the)h(Bison)g(utilit)o(y)e(is)h
(a)h Fk(Bison)f(grammar)e(\014le)p Fo(.)18 b(The)13 b(general)e(form)f
(of)h(a)h(Bison)f(grammar)0 2542 y(\014le)k(is)g(as)g(follo)o(ws:)120
2670 y Fj(\045{)p eop
%%Page: 19 21
19 20 bop 0 -58 a Fo(Chapter)15 b(1:)k(The)d(Concepts)f(of)g(Bison)1219
b(19)120 183 y Fk(C)15 b(declarations)120 235 y Fj(\045})120
339 y Fk(Bison)g(declarations)120 443 y Fj(\045\045)120
495 y Fk(Grammar)d(rules)120 546 y Fj(\045\045)120 598
y Fk(Additional)i(C)h(co)q(de)0 735 y Fo(The)i(`)p Fj(\045\045)p
Fo(',)f(`)p Fj(\045{)p Fo(')g(and)h(`)p Fj(\045})p Fo(')f(are)h
(punctuation)f(that)h(app)q(ears)g(in)f(ev)o(ery)h(Bison)g(grammar)c
(\014le)k(to)f(separate)h(the)0 798 y(sections.)62 935
y(The)23 b(C)g(declarations)e(ma)o(y)g(de\014ne)j(t)o(yp)q(es)f(and)g
(v)m(ariables)f(used)h(in)g(the)f(actions.)42 b(Y)l(ou)23
b(can)g(also)f(use)0 997 y(prepro)q(cessor)14 b(commands)e(to)h
(de\014ne)i(macros)d(used)j(there,)f(and)g(use)g Fj(#include)f
Fo(to)g(include)h(header)h(\014les)f(that)0 1059 y(do)h(an)o(y)g(of)g
(these)g(things.)62 1196 y(The)j(Bison)f(declarations)g(declare)g(the)h
(names)e(of)i(the)f(terminal)f(and)h(non)o(terminal)f(sym)o(b)q(ols,)g
(and)i(ma)o(y)0 1258 y(also)c(describ)q(e)i(op)q(erator)e(precedence)j
(and)f(the)f(data)g(t)o(yp)q(es)g(of)f(seman)o(tic)g(v)m(alues)h(of)g
(v)m(arious)g(sym)o(b)q(ols.)62 1395 y(The)h(gramma)o(r)c(rules)j
(de\014ne)i(ho)o(w)d(to)h(construct)g(eac)o(h)g(non)o(terminal)e(sym)o
(b)q(ol)h(from)f(its)h(parts.)62 1532 y(The)20 b(additional)d(C)i(co)q
(de)h(can)f(con)o(tain)f(an)o(y)h(C)f(co)q(de)i(y)o(ou)f(w)o(an)o(t)f
(to)g(use.)32 b(Often)19 b(the)g(de\014nition)g(of)g(the)0
1595 y(lexical)13 b(analyzer)h Fj(yylex)g Fo(go)q(es)g(here,)h(plus)f
(subroutines)g(called)g(b)o(y)g(the)h(actions)e(in)i(the)f(grammar)d
(rules.)19 b(In)c(a)0 1657 y(simple)f(program,)e(all)i(the)i(rest)f(of)
f(the)i(program)d(can)i(go)g(here.)p eop
%%Page: 20 22
20 21 bop 0 -58 a Fo(20)1697 b(Bison)15 b(1.25)p eop
%%Page: 21 23
21 22 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(21)0 183 y Fl(2)41 b(Examples)62 375 y Fo(No)o(w)13
b(w)o(e)h(sho)o(w)f(and)h(explain)f(three)h(sample)e(programs)f
(written)i(using)g(Bison:)19 b(a)14 b(rev)o(erse)f(p)q(olish)g
(notation)0 437 y(calculator,)g(an)i(algebraic)f(\(in\014x\))h
(notation)e(calculator,)h(and)h(a)g(m)o(ulti-function)d(calculator.)19
b(All)14 b(three)h(ha)o(v)o(e)0 500 y(b)q(een)22 b(tested)f(under)g
(BSD)g(Unix)g(4.3;)i(eac)o(h)e(pro)q(duces)g(a)g(usable,)h(though)f
(limited,)e(in)o(teractiv)o(e)h(desk-top)0 562 y(calculator.)62
700 y(These)f(examples)f(are)g(simple,)g(but)g(Bison)h(gramma)o(rs)d
(for)i(real)g(programmi)o(ng)e(languages)i(are)g(written)0
762 y(the)d(same)f(w)o(a)o(y)l(.)0 995 y Fn(2.1)33 b(Rev)n(erse)15
b(P)n(olish)h(Notation)f(Calculator)62 1133 y Fo(The)23
b(\014rst)f(example)f(is)h(that)g(of)g(a)g(simple)f(double-precision)h
Fk(rev)o(erse)h(p)q(olish)f(notation)f Fo(calculator)g(\(a)0
1196 y(calculator)c(using)h(p)q(ost\014x)g(op)q(erators\).)28
b(This)18 b(example)f(pro)o(vides)h(a)g(go)q(o)q(d)g(starting)f(p)q
(oin)o(t,)h(since)h(op)q(erator)0 1258 y(precedence)d(is)d(not)h(an)g
(issue.)19 b(The)c(second)f(example)f(will)g(illustrate)f(ho)o(w)h(op)q
(erator)h(precedence)h(is)f(handled.)62 1396 y(The)20
b(source)f(co)q(de)h(for)e(this)h(calculator)e(is)i(named)f(`)p
Fj(rpcalc.y)p Fo('.)30 b(The)19 b(`)p Fj(.y)p Fo(')f(extension)h(is)g
(a)g(con)o(v)o(en)o(tion)0 1458 y(used)d(for)e(Bison)h(input)g
(\014les.)0 1675 y Fh(2.1.1)30 b(Declarations)13 b(for)i
Fg(rpcalc)62 1813 y Fo(Here)22 b(are)f(the)g(C)g(and)h(Bison)f
(declarations)f(for)g(the)i(rev)o(erse)f(p)q(olish)g(notation)f
(calculator.)36 b(As)21 b(in)h(C,)0 1875 y(commen)o(ts)13
b(are)i(placed)g(b)q(et)o(w)o(een)g(`)p Fj(/*)p Ff(:)8
b(:)g(:)n Fj(*/)p Fo('.)120 2003 y Fj(/*)24 b(Reverse)e(polish)i
(notation)e(calculator.)h(*/)120 2107 y(\045{)120 2158
y(#define)g(YYSTYPE)g(double)120 2210 y(#include)g(<math.h>)120
2262 y(\045})120 2366 y(\045token)g(NUM)120 2470 y(\045\045)h(/*)f
(Grammar)g(rules)g(and)h(actions)f(follow)g(*/)62 2608
y Fo(The)e(C)f(declarations)f(section)g(\(see)i Fm(h)p
Fo(unde\014ned)p Fm(i)g Fo([The)f(C)g(Declarations)e(Section],)j(page)f
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\))0 2670 y(con)o(tains)14
b(t)o(w)o(o)g(prepro)q(cessor)h(directiv)o(es.)p eop
%%Page: 22 24
22 23 bop 0 -58 a Fo(22)1697 b(Bison)15 b(1.25)62 183
y(The)f Fj(#define)f Fo(directiv)o(e)h(de\014nes)h(the)f(macro)e
Fj(YYSTYPE)p Fo(,)h(th)o(us)g(sp)q(ecifying)h(the)g(C)g(data)f(t)o(yp)q
(e)h(for)g(seman)o(tic)0 246 y(v)m(alues)j(of)f(b)q(oth)g(tok)o(ens)g
(and)h(groupings)e(\(see)i Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([Data)e(T)o(yp)q(es)i(of)f(Seman)o(tic)e(V)l(alues],)i(page)h
Fm(h)p Fo(un-)0 308 y(de\014ned)p Fm(i)p Fo(\).)29 b(The)18
b(Bison)f(parser)h(will)e(use)j(whatev)o(er)e(t)o(yp)q(e)h
Fj(YYSTYPE)f Fo(is)g(de\014ned)i(as;)g(if)e(y)o(ou)h(don't)f(de\014ne)i
(it,)0 370 y Fj(int)d Fo(is)g(the)h(default.)24 b(Because)17
b(w)o(e)g(sp)q(ecify)g Fj(double)p Fo(,)f(eac)o(h)g(tok)o(en)g(and)h
(eac)o(h)g(expression)g(has)f(an)h(asso)q(ciated)0 432
y(v)m(alue,)e(whic)o(h)g(is)g(a)g(\015oating)f(p)q(oin)o(t)h(n)o(um)o
(b)q(er.)62 573 y(The)h Fj(#include)e Fo(directiv)o(e)g(is)h(used)h(to)
e(declare)h(the)h(exp)q(onen)o(tiation)e(function)h Fj(pow)p
Fo(.)62 713 y(The)k(second)h(section,)f(Bison)g(declarations,)f(pro)o
(vides)g(information)f(to)h(Bison)h(ab)q(out)f(the)h(tok)o(en)g(t)o(yp)
q(es)0 775 y(\(see)13 b Fm(h)p Fo(unde\014ned)p Fm(i)h
Fo([The)f(Bison)f(Declarations)f(Section],)i(page)g Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(\).)20 b(Eac)o(h)12 b(terminal)f(sym)o(b)q
(ol)g(that)h(is)0 838 y(not)j(a)g(single-c)o(haracter)g(literal)f(m)o
(ust)g(b)q(e)i(declared)g(here.)21 b(\(Single-c)o(haracter)14
b(literals)g(normally)f(don't)i(need)0 900 y(to)j(b)q(e)g(declared.\))
29 b(In)19 b(this)e(example,)h(all)f(the)h(arithmetic)e(op)q(erators)h
(are)h(designated)g(b)o(y)g(single-c)o(haracter)0 962
y(literals,)c(so)i(the)h(only)f(terminal)e(sym)o(b)q(ol)h(that)g(needs)
i(to)f(b)q(e)h(declared)g(is)f Fj(NUM)p Fo(,)g(the)g(tok)o(en)g(t)o(yp)
q(e)g(for)g(n)o(umeric)0 1024 y(constan)o(ts.)0 1263
y Fh(2.1.2)30 b(Grammar)13 b(Rules)i(for)f Fg(rpcalc)62
1403 y Fo(Here)i(are)f(the)g(grammar)d(rules)j(for)f(the)h(rev)o(erse)g
(p)q(olish)g(notation)f(calculator.)120 1533 y Fj(input:)95
b(/*)23 b(empty)g(*/)311 1585 y(|)h(input)f(line)120
1637 y(;)120 1741 y(line:)119 b('\\n')311 1793 y(|)24
b(exp)f('\\n')47 b({)24 b(printf)f(\("\\t\045.10g\\n",)f($1\);)h(})120
1845 y(;)120 1948 y(exp:)143 b(NUM)309 b({)24 b($$)g(=)f($1;)215
b(})311 2000 y(|)24 b(exp)f(exp)h('+')118 b({)24 b($$)g(=)f($1)h(+)g
($2;)95 b(})311 2052 y(|)24 b(exp)f(exp)h('-')118 b({)24
b($$)g(=)f($1)h(-)g($2;)95 b(})311 2104 y(|)24 b(exp)f(exp)h('*')118
b({)24 b($$)g(=)f($1)h(*)g($2;)95 b(})311 2156 y(|)24
b(exp)f(exp)h('/')118 b({)24 b($$)g(=)f($1)h(/)g($2;)95
b(})263 2208 y(/*)24 b(Exponentiation)e(*/)311 2260 y(|)i(exp)f(exp)h
('^')118 b({)24 b($$)g(=)f(pow)h(\($1,)f($2\);)h(})263
2312 y(/*)g(Unary)f(minus)95 b(*/)311 2364 y(|)24 b(exp)f('n')214
b({)24 b($$)g(=)f(-$1;)191 b(})120 2415 y(;)120 2467
y(\045\045)62 2608 y Fo(The)17 b(groupings)f(of)g(the)h(rp)q(calc)g
(\\language")e(de\014ned)j(here)f(are)g(the)f(expression)h(\(giv)o(en)f
(the)g(name)g Fj(exp)p Fo(\),)0 2670 y(the)j(line)f(of)g(input)h(\()p
Fj(line)p Fo(\),)f(and)h(the)g(complete)e(input)i(transcript)f(\()p
Fj(input)p Fo(\).)29 b(Eac)o(h)18 b(of)g(these)h(non)o(terminal)p
eop
%%Page: 23 25
23 24 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(23)0 183 y(sym)o(b)q(ols)9 b(has)i(sev)o(eral)f(alternate)g(rules,)h
(joined)g(b)o(y)g(the)g(`)p Fj(|)p Fo(')f(punctuator)g(whic)o(h)h(is)f
(read)h(as)g(\\or".)17 b(The)11 b(follo)o(wing)0 246
y(sections)k(explain)g(what)f(these)i(rules)f(mean.)62
392 y(The)e(seman)o(tics)d(of)i(the)g(language)f(is)h(determined)f(b)o
(y)h(the)h(actions)e(tak)o(en)h(when)g(a)g(grouping)g(is)f(recognized.)
0 454 y(The)i(actions)f(are)h(the)g(C)f(co)q(de)i(that)e(app)q(ears)h
(inside)g(braces.)19 b(See)14 b Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Actions],)d(page)i Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 600 y(Y)l(ou)j(m)o(ust)e(sp)q(ecify)h(these)h(actions)e
(in)i(C,)e(but)i(Bison)f(pro)o(vides)g(the)g(means)g(for)f(passing)h
(seman)o(tic)f(v)m(alues)0 662 y(b)q(et)o(w)o(een)20
b(the)f(rules.)32 b(In)19 b(eac)o(h)h(action,)f(the)g(pseudo-v)m
(ariable)h Fj($$)e Fo(stands)h(for)g(the)g(seman)o(tic)f(v)m(alue)h
(for)g(the)0 725 y(grouping)h(that)g(the)h(rule)f(is)h(going)e(to)h
(construct.)36 b(Assigning)20 b(a)h(v)m(alue)f(to)h Fj($$)f
Fo(is)g(the)h(main)e(job)i(of)f(most)0 787 y(actions.)f(The)c(seman)o
(tic)f(v)m(alues)h(of)g(the)g(comp)q(onen)o(ts)f(of)h(the)g(rule)h(are)
e(referred)i(to)e(as)h Fj($1)p Fo(,)g Fj($2)p Fo(,)f(and)h(so)g(on.)0
1077 y Fh(2.1.2.1)30 b(Explanation)13 b(of)i Fg(input)62
1223 y Fo(Consider)g(the)g(de\014nition)g(of)g Fj(input)p
Fo(:)120 1359 y Fj(input:)95 b(/*)23 b(empty)g(*/)311
1411 y(|)h(input)f(line)120 1463 y(;)62 1609 y Fo(This)c(de\014nition)g
(reads)g(as)g(follo)o(ws:)26 b(\\A)19 b(complete)f(input)i(is)e(either)
h(an)h(empt)o(y)e(string,)h(or)f(a)h(complete)0 1671
y(input)e(follo)o(w)o(ed)e(b)o(y)h(an)h(input)g(line".)23
b(Notice)16 b(that)g(\\complete)g(input")g(is)g(de\014ned)i(in)f(terms)
e(of)h(itself.)23 b(This)0 1733 y(de\014nition)d(is)f(said)h(to)f(b)q
(e)i Fk(left)f(recursiv)o(e)i Fo(since)e Fj(input)g Fo(app)q(ears)g
(alw)o(a)o(ys)e(as)i(the)g(leftmost)e(sym)o(b)q(ol)g(in)i(the)0
1796 y(sequence.)h(See)16 b Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([Recursiv)o(e)f(Rules],)g(page)g Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 1942 y(The)h(\014rst)e(alternativ)o(e)f(is)i(empt)o(y)f
(b)q(ecause)i(there)f(are)f(no)h(sym)o(b)q(ols)e(b)q(et)o(w)o(een)j
(the)f(colon)f(and)i(the)f(\014rst)f(`)p Fj(|)p Fo(';)0
2004 y(this)j(means)g(that)g Fj(input)g Fo(can)h(matc)o(h)f(an)h(empt)o
(y)e(string)h(of)g(input)h(\(no)g(tok)o(ens\).)27 b(W)l(e)18
b(write)f(the)h(rules)g(this)0 2066 y(w)o(a)o(y)e(b)q(ecause)h(it)f(is)
g(legitimate)e(to)i(t)o(yp)q(e)h Fe(Ctrl-d)f Fo(righ)o(t)f(after)h(y)o
(ou)g(start)g(the)g(calculator.)23 b(It's)17 b(con)o(v)o(en)o(tional)0
2129 y(to)e(put)g(an)g(empt)o(y)f(alternativ)o(e)f(\014rst)i(and)h
(write)e(the)h(commen)o(t)e(`)p Fj(/*)h(empty)h(*/)p
Fo(')f(in)h(it.)62 2275 y(The)i(second)g(alternate)f(rule)g(\()p
Fj(input)f(line)p Fo(\))g(handles)i(all)f(non)o(trivial)f(input.)24
b(It)17 b(means,)e(\\After)h(reading)0 2337 y(an)o(y)e(n)o(um)o(b)q(er)
f(of)h(lines,)g(read)g(one)g(more)f(line)g(if)h(p)q(ossible.")19
b(The)14 b(left)g(recursion)g(mak)o(es)e(this)i(rule)g(in)o(to)f(a)h
(lo)q(op.)0 2399 y(Since)i(the)f(\014rst)g(alternativ)o(e)e(matc)o(hes)
h(empt)o(y)g(input,)h(the)g(lo)q(op)g(can)g(b)q(e)h(executed)g(zero)f
(or)g(more)f(times.)62 2545 y(The)g(parser)g(function)g
Fj(yyparse)e Fo(con)o(tin)o(ues)i(to)f(pro)q(cess)h(input)g(un)o(til)f
(a)g(grammati)o(cal)e(error)i(is)g(seen)i(or)e(the)0
2608 y(lexical)k(analyzer)g(sa)o(ys)g(there)g(are)h(no)f(more)g(input)g
(tok)o(ens;)h(w)o(e)g(will)e(arrange)h(for)g(the)g(latter)g(to)g(happ)q
(en)i(at)0 2670 y(end)d(of)f(\014le.)p eop
%%Page: 24 26
24 25 bop 0 -58 a Fo(24)1697 b(Bison)15 b(1.25)0 183
y Fh(2.1.2.2)30 b(Explanation)13 b(of)i Fg(line)62 328
y Fo(No)o(w)g(consider)g(the)g(de\014nition)g(of)g Fj(line)p
Fo(:)120 462 y Fj(line:)119 b('\\n')311 513 y(|)24 b(exp)f('\\n')47
b({)24 b(printf)f(\("\\t\045.10g\\n",)f($1\);)h(})120
565 y(;)62 710 y Fo(The)d(\014rst)g(alternativ)o(e)e(is)h(a)g(tok)o(en)
h(whic)o(h)f(is)h(a)f(newline)h(c)o(haracter;)h(this)e(means)g(that)g
(rp)q(calc)h(accepts)0 772 y(a)g(blank)g(line)g(\(and)g(ignores)g(it,)h
(since)f(there)h(is)e(no)i(action\).)34 b(The)20 b(second)h(alternativ)
o(e)e(is)h(an)g(expression)0 834 y(follo)o(w)o(ed)14
b(b)o(y)h(a)g(newline.)21 b(This)15 b(is)f(the)i(alternativ)o(e)e(that)
g(mak)o(es)g(rp)q(calc)h(useful.)21 b(The)16 b(seman)o(tic)d(v)m(alue)j
(of)f(the)0 896 y Fj(exp)h Fo(grouping)g(is)f(the)i(v)m(alue)g(of)e
Fj($1)i Fo(b)q(ecause)g(the)f Fj(exp)g Fo(in)g(question)g(is)g(the)h
(\014rst)f(sym)o(b)q(ol)e(in)j(the)f(alternativ)o(e.)0
959 y(The)f(action)g(prin)o(ts)f(this)h(v)m(alue,)g(whic)o(h)g(is)g
(the)g(result)g(of)f(the)i(computation)d(the)i(user)g(ask)o(ed)g(for.)
62 1103 y(This)f(action)g(is)f(un)o(usual)i(b)q(ecause)g(it)e(do)q(es)i
(not)f(assign)f(a)h(v)m(alue)h(to)e Fj($$)p Fo(.)20 b(As)14
b(a)g(consequence,)h(the)g(seman)o(tic)0 1165 y(v)m(alue)i(asso)q
(ciated)f(with)h(the)g Fj(line)f Fo(is)h(uninitialized)e(\(its)h(v)m
(alue)h(will)f(b)q(e)i(unpredictable\).)25 b(This)16
b(w)o(ould)h(b)q(e)g(a)0 1228 y(bug)c(if)g(that)f(v)m(alue)i(w)o(ere)f
(ev)o(er)g(used,)h(but)f(w)o(e)g(don't)f(use)i(it:)k(once)13
b(rp)q(calc)h(has)f(prin)o(ted)g(the)g(v)m(alue)g(of)g(the)g(user's)0
1290 y(input)i(line,)g(that)f(v)m(alue)i(is)e(no)h(longer)g(needed.)0
1563 y Fh(2.1.2.3)30 b(Explanation)13 b(of)i Fg(expr)62
1708 y Fo(The)h Fj(exp)g Fo(grouping)f(has)h(sev)o(eral)f(rules,)h(one)
g(for)f(eac)o(h)h(kind)g(of)g(expression.)22 b(The)16
b(\014rst)g(rule)g(handles)g(the)0 1770 y(simplest)i(expressions:)30
b(those)20 b(that)f(are)h(just)g(n)o(um)o(b)q(ers.)34
b(The)21 b(second)g(handles)f(an)g(addition-expression,)0
1832 y(whic)o(h)14 b(lo)q(oks)f(lik)o(e)g(t)o(w)o(o)g(expressions)h
(follo)o(w)o(ed)e(b)o(y)i(a)g(plus-sign.)19 b(The)c(third)e(handles)h
(subtraction,)f(and)i(so)e(on.)120 1966 y Fj(exp:)143
b(NUM)311 2018 y(|)24 b(exp)f(exp)h('+')118 b({)24 b($$)g(=)f($1)h(+)g
($2;)95 b(})311 2070 y(|)24 b(exp)f(exp)h('-')118 b({)24
b($$)g(=)f($1)h(-)g($2;)95 b(})311 2122 y Ff(:)8 b(:)g(:)311
2174 y Fj(;)62 2318 y Fo(W)l(e)20 b(ha)o(v)o(e)g(used)g(`)p
Fj(|)p Fo(')f(to)h(join)f(all)g(the)h(rules)g(for)f Fj(exp)p
Fo(,)h(but)h(w)o(e)e(could)h(equally)g(w)o(ell)e(ha)o(v)o(e)i(written)f
(them)0 2380 y(separately:)120 2514 y Fj(exp:)143 b(NUM)23
b(;)120 2566 y(exp:)143 b(exp)23 b(exp)h('+')118 b({)24
b($$)g(=)f($1)h(+)g($2;)95 b(})24 b(;)120 2618 y(exp:)143
b(exp)23 b(exp)h('-')118 b({)24 b($$)g(=)f($1)h(-)g($2;)95
b(})24 b(;)311 2670 y Ff(:)8 b(:)g(:)p eop
%%Page: 25 27
25 26 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(25)62 183 y(Most)13 b(of)h(the)h(rules)f(ha)o(v)o(e)g(actions)f(that)
g(compute)h(the)g(v)m(alue)h(of)e(the)i(expression)f(in)g(terms)f(of)h
(the)g(v)m(alue)g(of)0 246 y(its)h(parts.)20 b(F)l(or)14
b(example,)g(in)i(the)f(rule)g(for)g(addition,)f Fj($1)h
Fo(refers)h(to)e(the)i(\014rst)f(comp)q(onen)o(t)f Fj(exp)h
Fo(and)h Fj($2)f Fo(refers)0 308 y(to)f(the)h(second)g(one.)20
b(The)15 b(third)g(comp)q(onen)o(t,)e Fj('+')p Fo(,)h(has)h(no)g
(meaningful)e(asso)q(ciated)h(seman)o(tic)f(v)m(alue,)i(but)f(if)0
370 y(it)h(had)g(one)h(y)o(ou)f(could)g(refer)h(to)e(it)h(as)g
Fj($3)p Fo(.)20 b(When)c Fj(yyparse)e Fo(recognizes)i(a)f(sum)f
(expression)h(using)h(this)e(rule,)0 432 y(the)k(sum)f(of)g(the)h(t)o
(w)o(o)f(sub)q(expressions')h(v)m(alues)g(is)g(pro)q(duced)h(as)e(the)h
(v)m(alue)g(of)g(the)g(en)o(tire)f(expression.)28 b(See)0
495 y Fm(h)p Fo(unde\014ned)p Fm(i)16 b Fo([Actions],)e(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 633 y(Y)l(ou)j(don't)f(ha)o(v)o
(e)g(to)f(giv)o(e)h(an)g(action)f(for)h(ev)o(ery)g(rule.)26
b(When)18 b(a)f(rule)g(has)g(no)h(action,)e(Bison)h(b)o(y)g(default)0
695 y(copies)e(the)g(v)m(alue)h(of)f Fj($1)f Fo(in)o(to)h
Fj($$)p Fo(.)k(This)c(is)g(what)f(happ)q(ens)j(in)e(the)g(\014rst)g
(rule)g(\(the)g(one)g(that)g(uses)g Fj(NUM)p Fo(\).)62
834 y(The)g(formatting)d(sho)o(wn)i(here)h(is)f(the)h(recommended)e
(con)o(v)o(en)o(tion,)h(but)h(Bison)f(do)q(es)h(not)f(require)h(it.)k
(Y)l(ou)0 896 y(can)c(add)h(or)e(c)o(hange)i(whitespace)f(as)g(m)o(uc)o
(h)f(as)h(y)o(ou)f(wish.)20 b(F)l(or)14 b(example,)g(this:)120
1025 y Fj(exp)71 b(:)24 b(NUM)f(|)h(exp)g(exp)f('+')g({$$)h(=)g($1)f(+)
h($2;)f(})h(|)g Ff(:)8 b(:)g(:)0 1163 y Fo(means)14 b(the)h(same)f
(thing)h(as)g(this:)120 1291 y Fj(exp:)143 b(NUM)311
1343 y(|)24 b(exp)f(exp)h('+')95 b({)23 b($$)h(=)g($1)f(+)h($2;)f(})311
1395 y(|)h Ff(:)8 b(:)g(:)0 1534 y Fo(The)15 b(latter,)f(ho)o(w)o(ev)o
(er,)g(is)h(m)o(uc)o(h)f(more)g(readable.)0 1756 y Fh(2.1.3)30
b(The)15 b Fg(rpcalc)g Fh(Lexical)f(Analyzer)62 1895
y Fo(The)i(lexical)f(analyzer's)f(job)i(is)f(lo)o(w-lev)o(el)f
(parsing:)20 b(con)o(v)o(erting)14 b(c)o(haracters)h(or)g(sequences)i
(of)e(c)o(haracters)0 1957 y(in)o(to)f(tok)o(ens.)21
b(The)15 b(Bison)h(parser)f(gets)g(its)f(tok)o(ens)h(b)o(y)h(calling)e
(the)i(lexical)e(analyzer.)20 b(See)c Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([The)0 2019 y(Lexical)e(Analyzer)g(F)l(unction)g
Fj(yylex)p Fo(],)f(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)62 2158 y(Only)20 b(a)f(simple)f(lexical)g(analyzer)h(is)g(needed)
h(for)f(the)h(RPN)f(calculator.)31 b(This)19 b(lexical)f(analyzer)h
(skips)0 2220 y(blanks)g(and)g(tabs,)g(then)g(reads)g(in)g(n)o(um)o(b)q
(ers)f(as)h Fj(double)f Fo(and)h(returns)g(them)f(as)h
Fj(NUM)f Fo(tok)o(ens.)31 b(An)o(y)19 b(other)0 2282
y(c)o(haracter)g(that)g(isn't)f(part)h(of)h(a)f(n)o(um)o(b)q(er)g(is)g
(a)g(separate)g(tok)o(en.)33 b(Note)19 b(that)g(the)g(tok)o(en-co)q(de)
h(for)f(suc)o(h)h(a)0 2345 y(single-c)o(haracter)14 b(tok)o(en)h(is)f
(the)i(c)o(haracter)e(itself.)62 2483 y(The)19 b(return)g(v)m(alue)h
(of)e(the)h(lexical)f(analyzer)h(function)f(is)h(a)g(n)o(umeric)e(co)q
(de)j(whic)o(h)f(represen)o(ts)g(a)f(tok)o(en)0 2545
y(t)o(yp)q(e.)i(The)15 b(same)f(text)h(used)g(in)g(Bison)g(rules)g(to)f
(stand)h(for)g(this)f(tok)o(en)h(t)o(yp)q(e)g(is)g(also)f(a)h(C)f
(expression)h(for)g(the)0 2608 y(n)o(umeric)e(co)q(de)h(for)g(the)f(t)o
(yp)q(e.)20 b(This)13 b(w)o(orks)g(in)h(t)o(w)o(o)f(w)o(a)o(ys.)18
b(If)c(the)g(tok)o(en)f(t)o(yp)q(e)h(is)g(a)f(c)o(haracter)h(literal,)e
(then)i(its)0 2670 y(n)o(umeric)i(co)q(de)i(is)f(the)g(ASCI)q(I)i(co)q
(de)f(for)e(that)h(c)o(haracter;)g(y)o(ou)g(can)h(use)f(the)h(same)e(c)
o(haracter)g(literal)g(in)h(the)p eop
%%Page: 26 28
26 27 bop 0 -58 a Fo(26)1697 b(Bison)15 b(1.25)0 183
y(lexical)g(analyzer)h(to)f(express)h(the)g(n)o(um)o(b)q(er.)22
b(If)16 b(the)g(tok)o(en)g(t)o(yp)q(e)g(is)g(an)g(iden)o(ti\014er,)f
(that)g(iden)o(ti\014er)h(is)g(de\014ned)0 246 y(b)o(y)e(Bison)g(as)f
(a)h(C)g(macro)e(whose)i(de\014nition)g(is)g(the)g(appropriate)f(n)o
(um)o(b)q(er.)19 b(In)c(this)e(example,)g(therefore,)g
Fj(NUM)0 308 y Fo(b)q(ecomes)i(a)g(macro)e(for)i Fj(yylex)f
Fo(to)h(use.)62 523 y(The)e(seman)o(tic)e(v)m(alue)j(of)e(the)h(tok)o
(en)f(\(if)g(it)h(has)f(one\))h(is)g(stored)f(in)o(to)g(the)h(global)e
(v)m(ariable)i Fj(yylval)p Fo(,)f(whic)o(h)g(is)0 586
y(where)j(the)f(Bison)g(parser)g(will)f(lo)q(ok)h(for)g(it.)19
b(\(The)14 b(C)g(data)g(t)o(yp)q(e)g(of)g Fj(yylval)g
Fo(is)g Fj(YYSTYPE)p Fo(,)f(whic)o(h)h(w)o(as)g(de\014ned)0
648 y(at)h(the)g(b)q(eginning)g(of)g(the)g(grammar;)d(see)j
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Declarations)d(for)i
Fj(rpcalc)p Fo(],)f(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.\))62 863 y(A)k(tok)o(en)e(t)o(yp)q(e)i(co)q(de)g(of)e(zero)i(is)e
(returned)i(if)f(the)g(end-of-\014le)h(is)f(encoun)o(tered.)30
b(\(Bison)17 b(recognizes)h(an)o(y)0 926 y(nonp)q(ositiv)o(e)c(v)m
(alue)i(as)f(indicating)f(the)h(end)h(of)f(the)g(input.\))62
1141 y(Here)h(is)e(the)i(co)q(de)g(for)e(the)h(lexical)g(analyzer:)120
1346 y Fj(/*)24 b(Lexical)e(analyzer)h(returns)g(a)h(double)f(floating)
g(point)192 1398 y(number)g(on)g(the)h(stack)f(and)g(the)h(token)f
(NUM,)g(or)h(the)f(ASCII)192 1450 y(character)f(read)i(if)f(not)h(a)f
(number.)47 b(Skips)23 b(all)h(blanks)192 1502 y(and)f(tabs,)g(returns)
g(0)h(for)f(EOF.)h(*/)120 1606 y(#include)f(<ctype.h>)120
1677 y(yylex)g(\(\))120 1729 y({)168 1781 y(int)g(c;)168
1884 y(/*)g(skip)h(white)f(space)47 b(*/)168 1936 y(while)23
b(\(\(c)g(=)h(getchar)f(\(\)\))g(==)h(')g(')f(||)h(c)g(==)f('\\t'\))215
1988 y(;)168 2044 y(/*)g(process)g(numbers)71 b(*/)168
2096 y(if)23 b(\(c)h(==)f('.')h(||)g(isdigit)e(\(c\)\))215
2148 y({)263 2200 y(ungetc)h(\(c,)h(stdin\);)263 2252
y(scanf)f(\("\045lf",)g(&yylval\);)263 2304 y(return)g(NUM;)215
2356 y(})168 2412 y(/*)g(return)g(end-of-file)47 b(*/)168
2464 y(if)23 b(\(c)h(==)f(EOF\))215 2516 y(return)g(0;)168
2568 y(/*)g(return)g(single)g(chars)h(*/)168 2620 y(return)f(c;)120
2671 y(})p eop
%%Page: 27 29
27 28 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(27)0 183 y Fh(2.1.4)30 b(The)15 b(Con)n(trolling)d(F)-5
b(unction)62 326 y Fo(In)14 b(k)o(eeping)f(with)g(the)g(spirit)g(of)f
(this)h(example,)f(the)i(con)o(trolling)d(function)i(is)g(k)o(ept)g(to)
g(the)g(bare)g(minim)o(um)o(.)0 388 y(The)i(only)g(requiremen)o(t)f(is)
h(that)f(it)h(call)f Fj(yyparse)g Fo(to)h(start)f(the)h(pro)q(cess)g
(of)g(parsing.)120 520 y Fj(main)23 b(\(\))120 572 y({)168
624 y(yyparse)g(\(\);)120 676 y(})0 929 y Fh(2.1.5)30
b(The)15 b(Error)g(Rep)r(orting)e(Routine)62 1072 y Fo(When)20
b Fj(yyparse)f Fo(detects)h(a)f(syn)o(tax)g(error,)g(it)g(calls)g(the)h
(error)f(rep)q(orting)g(function)g Fj(yyerror)g Fo(to)g(prin)o(t)0
1134 y(an)e(error)f(message)f(\(usually)h(but)h(not)f(alw)o(a)o(ys)g
Fj("parse)e(error")p Fo(\).)23 b(It)17 b(is)g(up)g(to)f(the)h
(programmer)d(to)i(supply)0 1196 y Fj(yyerror)c Fo(\(see)g
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([P)o(arser)d(C-Language)i(In)o
(terface],)f(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\),)g(so)f(here)h
(is)f(the)h(de\014nition)0 1259 y(w)o(e)i(will)f(use:)120
1391 y Fj(#include)23 b(<stdio.h>)120 1494 y(yyerror)g(\(s\))47
b(/*)24 b(Called)f(by)g(yyparse)g(on)h(error)f(*/)239
1546 y(char)h(*s;)120 1598 y({)168 1650 y(printf)f(\("\045s\\n",)g
(s\);)120 1702 y(})62 1834 y Fo(After)d Fj(yyerror)f
Fo(returns,)i(the)f(Bison)f(parser)h(ma)o(y)e(reco)o(v)o(er)i(from)e
(the)i(error)f(and)i(con)o(tin)o(ue)e(parsing)g(if)0
1896 y(the)f(grammar)d(con)o(tains)i(a)h(suitable)f(error)h(rule)g
(\(see)g Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Error)e(Reco)o(v)o(ery],)h
(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0 1959
y(Otherwise,)k Fj(yyparse)e Fo(returns)g(nonzero.)37
b(W)l(e)21 b(ha)o(v)o(e)g(not)f(written)g(an)o(y)h(error)f(rules)h(in)f
(this)h(example,)f(so)0 2021 y(an)o(y)d(in)o(v)m(alid)g(input)g(will)f
(cause)i(the)g(calculator)e(program)f(to)i(exit.)26 b(This)17
b(is)g(not)g(clean)h(b)q(eha)o(vior)f(for)f(a)i(real)0
2083 y(calculator,)13 b(but)j(it)e(is)h(adequate)g(in)g(the)g(\014rst)g
(example.)0 2341 y Fh(2.1.6)30 b(Running)14 b(Bison)g(to)g(Mak)n(e)i
(the)f(P)n(arser)62 2483 y Fo(Before)f(running)h(Bison)e(to)h(pro)q
(duce)h(a)f(parser,)f(w)o(e)h(need)h(to)f(decide)g(ho)o(w)g(to)g
(arrange)f(all)g(the)h(source)g(co)q(de)0 2545 y(in)f(one)h(or)f(more)f
(source)i(\014les.)19 b(F)l(or)13 b(suc)o(h)h(a)g(simple)e(example,)g
(the)i(easiest)f(thing)g(is)g(to)g(put)g(ev)o(erything)g(in)h(one)0
2608 y(\014le.)20 b(The)15 b(de\014nitions)f(of)g Fj(yylex)p
Fo(,)g Fj(yyerror)g Fo(and)h Fj(main)f Fo(go)g(at)g(the)h(end,)g(in)f
(the)h(\\additional)e(C)h(co)q(de")h(section)0 2670 y(of)g(the)g
(\014le)g(\(see)g Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([The)e(Ov)o(erall)f
(La)o(y)o(out)h(of)f(a)h(Bison)g(Grammar])o(,)d(page)j
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)p eop
%%Page: 28 30
28 29 bop 0 -58 a Fo(28)1697 b(Bison)15 b(1.25)62 183
y(F)l(or)j(a)f(large)g(pro)s(ject,)h(y)o(ou)f(w)o(ould)g(probably)h(ha)
o(v)o(e)f(sev)o(eral)g(source)h(\014les,)h(and)f(use)g
Fj(make)f Fo(to)g(arrange)h(to)0 246 y(recompile)c(them.)62
384 y(With)i(all)g(the)h(source)g(in)g(a)g(single)f(\014le,)h(y)o(ou)f
(use)i(the)f(follo)o(wing)d(command)h(to)h(con)o(v)o(ert)h(it)f(in)o
(to)g(a)g(parser)0 446 y(\014le:)120 575 y Fj(bison)23
b Fk(\014le)p 324 575 14 2 v 17 w(name)p Fj(.y)0 713
y Fo(In)15 b(this)f(example)g(the)g(\014le)h(w)o(as)e(called)i(`)p
Fj(rpcalc.y)p Fo(')d(\(for)i(\\Rev)o(erse)h(P)o(olish)e(CALCulator"\).)
18 b(Bison)c(pro)q(duces)0 775 y(a)i(\014le)h(named)f(`)p
Fk(\014le)p 336 775 V 16 w(name)p Fj(.tab.c)p Fo(',)f(remo)o(ving)f
(the)j(`)p Fj(.y)p Fo(')f(from)f(the)i(original)e(\014le)h(name.)24
b(The)17 b(\014le)f(output)h(b)o(y)0 838 y(Bison)j(con)o(tains)e(the)i
(source)g(co)q(de)h(for)e Fj(yyparse)p Fo(.)33 b(The)20
b(additional)e(functions)i(in)g(the)g(input)f(\014le)h(\()p
Fj(yylex)p Fo(,)0 900 y Fj(yyerror)14 b Fo(and)i Fj(main)p
Fo(\))e(are)h(copied)g(v)o(erbatim)e(to)i(the)g(output.)0
1122 y Fh(2.1.7)30 b(Compili)o(ng)12 b(the)j(P)n(arser)h(File)62
1261 y Fo(Here)g(is)e(ho)o(w)h(to)g(compile)e(and)j(run)f(the)g(parser)
g(\014le:)120 1389 y Fj(#)24 b Fo(List)15 b(\014les)g(in)g(curren)o(t)g
(directory)l(.)120 1441 y Fj(\045)24 b(ls)120 1493 y(rpcalc.tab.c)46
b(rpcalc.y)120 1564 y(#)24 b Fo(Compile)13 b(the)i(Bison)g(parser.)120
1616 y Fj(#)24 b Fo(`)p Fj(-lm)p Fo(')14 b(tells)g(compiler)f(to)i
(searc)o(h)g(math)f(library)g(for)g Fj(pow)p Fo(.)120
1668 y Fj(\045)24 b(cc)f(rpcalc.tab.c)g(-lm)g(-o)h(rpcalc)120
1739 y(#)g Fo(List)15 b(\014les)g(again.)120 1791 y Fj(\045)24
b(ls)120 1843 y(rpcalc)47 b(rpcalc.tab.c)f(rpcalc.y)62
1971 y Fo(The)16 b(\014le)f(`)p Fj(rpcalc)p Fo(')f(no)o(w)g(con)o
(tains)g(the)i(executable)f(co)q(de.)21 b(Here)15 b(is)g(an)g(example)f
(session)h(using)g Fj(rpcalc)p Fo(.)120 2099 y Fj(\045)24
b(rpcalc)120 2151 y(4)g(9)f(+)120 2203 y(13)120 2255
y(3)h(7)f(+)h(3)g(4)g(5)f(*+-)120 2307 y(-13)120 2359
y(3)h(7)f(+)h(3)g(4)g(5)f(*)h(+)g(-)g(n)333 b Fo(Note)15
b(the)h(unary)f(min)o(us,)e(`)p Fj(n)p Fo(')120 2411
y Fj(13)120 2462 y(5)24 b(6)f(/)h(4)g(n)g(+)120 2514
y(-3.166666667)120 2566 y(3)g(4)f(^)668 b Fo(Exp)q(onen)o(tiation)120
2618 y Fj(81)120 2670 y(^D)739 b Fo(End-of-\014le)16
b(indicator)p eop
%%Page: 29 31
29 30 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(29)120 183 y Fj(\045)0 426 y Fn(2.2)33 b(In\014x)16
b(Notation)f(Calculator:)23 b Fd(calc)62 565 y Fo(W)l(e)17
b(no)o(w)f(mo)q(dify)g(rp)q(calc)g(to)g(handle)h(in\014x)g(op)q
(erators)f(instead)g(of)g(p)q(ost\014x.)25 b(In\014x)17
b(notation)f(in)o(v)o(olv)o(es)f(the)0 628 y(concept)f(of)f(op)q
(erator)g(precedence)j(and)d(the)h(need)h(for)e(paren)o(theses)h
(nested)g(to)f(arbitrary)f(depth.)20 b(Here)14 b(is)f(the)0
690 y(Bison)i(co)q(de)h(for)e(`)p Fj(calc.y)p Fo(',)f(an)j(in\014x)f
(desk-top)g(calculator.)120 819 y Fj(/*)24 b(Infix)f(notation)g
(calculator--calc)e(*/)120 922 y(\045{)120 974 y(#define)i(YYSTYPE)g
(double)120 1026 y(#include)g(<math.h>)120 1078 y(\045})120
1182 y(/*)h(BISON)f(Declarations)f(*/)120 1234 y(\045token)h(NUM)120
1286 y(\045left)g('-')h('+')120 1337 y(\045left)f('*')h('/')120
1389 y(\045left)f(NEG)119 b(/*)24 b(negation--unary)d(minus)j(*/)120
1441 y(\045right)f('^')95 b(/*)24 b(exponentiation)189
b(*/)120 1545 y(/*)24 b(Grammar)e(follows)h(*/)120 1597
y(\045\045)120 1649 y(input:)95 b(/*)23 b(empty)g(string)g(*/)311
1701 y(|)h(input)f(line)120 1753 y(;)120 1856 y(line:)119
b('\\n')311 1908 y(|)24 b(exp)f('\\n')47 b({)24 b(printf)f
(\("\\t\045.10g\\n",)f($1\);)h(})120 1960 y(;)120 2064
y(exp:)143 b(NUM)381 b({)24 b($$)f(=)h($1;)214 b(})311
2116 y(|)24 b(exp)f('+')h(exp)190 b({)24 b($$)f(=)h($1)g(+)f($3;)95
b(})311 2168 y(|)24 b(exp)f('-')h(exp)190 b({)24 b($$)f(=)h($1)g(-)f
($3;)95 b(})311 2220 y(|)24 b(exp)f('*')h(exp)190 b({)24
b($$)f(=)h($1)g(*)f($3;)95 b(})311 2271 y(|)24 b(exp)f('/')h(exp)190
b({)24 b($$)f(=)h($1)g(/)f($3;)95 b(})311 2323 y(|)24
b('-')f(exp)47 b(\045prec)24 b(NEG)f({)h($$)f(=)h(-$2;)190
b(})311 2375 y(|)24 b(exp)f('^')h(exp)190 b({)24 b($$)f(=)h(pow)g
(\($1,)f($3\);)g(})311 2427 y(|)h('\(')f(exp)h('\)')190
b({)24 b($$)f(=)h($2;)214 b(})120 2479 y(;)120 2531 y(\045\045)0
2670 y Fo(The)15 b(functions)g Fj(yylex)p Fo(,)f Fj(yyerror)h
Fo(and)g Fj(main)g Fo(can)g(b)q(e)h(the)f(same)f(as)h(b)q(efore.)p
eop
%%Page: 30 32
30 31 bop 0 -58 a Fo(30)1697 b(Bison)15 b(1.25)62 183
y(There)h(are)f(t)o(w)o(o)e(imp)q(ortan)o(t)g(new)j(features)e(sho)o
(wn)h(in)g(this)g(co)q(de.)62 329 y(In)j(the)g(second)g(section)f
(\(Bison)g(declarations\),)g Fj(\045left)g Fo(declares)g(tok)o(en)g(t)o
(yp)q(es)h(and)g(sa)o(ys)e(they)i(are)f(left-)0 391 y(asso)q(ciativ)o
(e)f(op)q(erators.)28 b(The)19 b(declarations)e Fj(\045left)g
Fo(and)h Fj(\045right)g Fo(\(righ)o(t)e(asso)q(ciativit)o(y\))g(tak)o
(e)h(the)h(place)g(of)0 453 y Fj(\045token)13 b Fo(whic)o(h)h(is)f
(used)h(to)g(declare)f(a)h(tok)o(en)f(t)o(yp)q(e)h(name)f(without)g
(asso)q(ciativit)o(y)l(.)k(\(These)d(tok)o(ens)f(are)g(single-)0
516 y(c)o(haracter)h(literals,)f(whic)o(h)i(ordinarily)e(don't)h(need)i
(to)e(b)q(e)i(declared.)k(W)l(e)15 b(declare)f(them)g(here)h(to)g(sp)q
(ecify)g(the)0 578 y(asso)q(ciativit)o(y)l(.\))62 723
y(Op)q(erator)22 b(precedence)i(is)e(determined)g(b)o(y)g(the)g(line)g
(ordering)g(of)g(the)g(declarations;)i(the)f(higher)f(the)0
786 y(line)c(n)o(um)o(b)q(er)f(of)h(the)g(declaration)f(\(lo)o(w)o(er)g
(on)h(the)g(page)g(or)g(screen\),)g(the)h(higher)f(the)g(precedence.)30
b(Hence,)0 848 y(exp)q(onen)o(tiation)14 b(has)h(the)g(highest)f
(precedence,)i(unary)f(min)o(us)f(\()p Fj(NEG)p Fo(\))f(is)i(next,)f
(follo)o(w)o(ed)f(b)o(y)i(`)p Fj(*)p Fo(')f(and)h(`)p
Fj(/)p Fo(',)f(and)0 910 y(so)h(on.)20 b(See)15 b Fm(h)p
Fo(unde\014ned)p Fm(i)i Fo([Op)q(erator)d(Precedence],)i(page)f
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 1056 y(The)21
b(other)g(imp)q(ortan)o(t)d(new)j(feature)f(is)g(the)h
Fj(\045prec)f Fo(in)h(the)f(grammar)e(section)i(for)g(the)h(unary)f
(min)o(us)0 1118 y(op)q(erator.)h(The)c Fj(\045prec)e
Fo(simply)f(instructs)i(Bison)f(that)g(the)i(rule)e(`)p
Fj(|)g('-')g(exp)p Fo(')g(has)h(the)g(same)f(precedence)i(as)0
1180 y Fj(NEG)p Fo(|in)e(this)f(case)g(the)h(next-to-highest.)k(See)c
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Con)o(text-Dep)q(enden)o(t)f
(Precedence],)g(page)g Fm(h)p Fo(un-)0 1243 y(de\014ned)p
Fm(i)p Fo(.)62 1388 y(Here)h(is)e(a)h(sample)f(run)i(of)e(`)p
Fj(calc.y)p Fo(':)120 1517 y Fj(\045)24 b(calc)120 1569
y(4)g(+)f(4.5)h(-)g(\(34/\(8*3+-3\)\))120 1621 y(6.880952381)120
1673 y(-56)f(+)h(2)120 1725 y(-54)120 1777 y(3)g(^)f(2)120
1829 y(9)0 2130 y Fn(2.3)33 b(Simple)17 b(Error)f(Reco)n(v)n(ery)62
2275 y Fo(Up)j(to)e(this)g(p)q(oin)o(t,)h(this)f(man)o(ual)f(has)i(not)
g(addressed)g(the)g(issue)g(of)g Fk(error)f(reco)o(v)o(ery)p
Fo(|ho)o(w)g(to)g(con)o(tin)o(ue)0 2338 y(parsing)11
b(after)g(the)g(parser)h(detects)f(a)g(syn)o(tax)g(error.)18
b(All)11 b(w)o(e)g(ha)o(v)o(e)h(handled)g(is)f(error)g(rep)q(orting)f
(with)h Fj(yyerror)p Fo(.)0 2400 y(Recall)j(that)g(b)o(y)h(default)f
Fj(yyparse)g Fo(returns)g(after)g(calling)g Fj(yyerror)p
Fo(.)k(This)c(means)g(that)g(an)g(erroneous)h(input)0
2462 y(line)g(causes)g(the)h(calculator)d(program)g(to)i(exit.)k(No)o
(w)c(w)o(e)g(sho)o(w)f(ho)o(w)h(to)g(rectify)f(this)h(de\014ciency)l(.)
62 2608 y(The)22 b(Bison)f(language)g(itself)g(includes)g(the)h(reserv)
o(ed)g(w)o(ord)f Fj(error)p Fo(,)h(whic)o(h)f(ma)o(y)f(b)q(e)i
(included)g(in)g(the)0 2670 y(grammar)12 b(rules.)19
b(In)d(the)f(example)f(b)q(elo)o(w)h(it)g(has)g(b)q(een)h(added)g(to)e
(one)i(of)f(the)g(alternativ)o(es)e(for)i Fj(line)p Fo(:)p
eop
%%Page: 31 33
31 32 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(31)120 183 y Fj(line:)119 b('\\n')311 235 y(|)24 b(exp)f('\\n')71
b({)24 b(printf)f(\("\\t\045.10g\\n",)f($1\);)h(})311
287 y(|)h(error)f('\\n')g({)h(yyerrok;)428 b(})120 339
y(;)62 468 y Fo(This)16 b(addition)f(to)h(the)g(grammar)d(allo)o(ws)h
(for)i(simple)e(error)i(reco)o(v)o(ery)g(in)g(the)g(ev)o(en)o(t)g(of)g
(a)f(parse)i(error.)22 b(If)0 530 y(an)17 b(expression)g(that)g(cannot)
g(b)q(e)h(ev)m(aluated)f(is)g(read,)g(the)g(error)g(will)f(b)q(e)i
(recognized)f(b)o(y)g(the)h(third)f(rule)g(for)0 592
y Fj(line)p Fo(,)h(and)h(parsing)e(will)g(con)o(tin)o(ue.)29
b(\(The)18 b Fj(yyerror)f Fo(function)h(is)g(still)f(called)h(up)q(on)h
(to)e(prin)o(t)h(its)f(message)0 655 y(as)e(w)o(ell.\))k(The)d(action)f
(executes)h(the)f(statemen)o(t)f Fj(yyerrok)p Fo(,)g(a)h(macro)f
(de\014ned)j(automatical)o(ly)12 b(b)o(y)k(Bison;)f(its)0
717 y(meaning)i(is)i(that)e(error)h(reco)o(v)o(ery)h(is)f(complete)f
(\(see)i Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Error)d(Reco)o(v)o(ery],)i
(page)f Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0 779 y(Note)d(the)g
(di\013erence)h(b)q(et)o(w)o(een)f Fj(yyerrok)f Fo(and)i
Fj(yyerror)p Fo(;)d(neither)j(one)f(is)g(a)g(misprin)o(t.)62
919 y(This)c(form)e(of)i(error)f(reco)o(v)o(ery)h(deals)g(with)f(syn)o
(tax)g(errors.)18 b(There)11 b(are)g(other)g(kinds)g(of)g(errors;)g
(for)f(example,)0 981 y(division)j(b)o(y)i(zero,)f(whic)o(h)g(raises)f
(an)i(exception)f(signal)f(that)h(is)g(normally)e(fatal.)18
b(A)d(real)e(calculator)g(program)0 1043 y(m)o(ust)e(handle)i(this)g
(signal)e(and)i(use)g Fj(longjmp)f Fo(to)g(return)h(to)f
Fj(main)h Fo(and)g(resume)f(parsing)g(input)h(lines;)f(it)h(w)o(ould)0
1105 y(also)e(ha)o(v)o(e)h(to)g(discard)g(the)g(rest)g(of)g(the)h
(curren)o(t)f(line)g(of)g(input.)19 b(W)l(e)12 b(w)o(on't)f(discuss)i
(this)f(issue)g(further)g(b)q(ecause)0 1168 y(it)i(is)h(not)g(sp)q
(eci\014c)h(to)f(Bison)f(programs.)0 1413 y Fn(2.4)33
b(Multi-F)-6 b(uncti)q(on)18 b(Calculator:)23 b Fd(mfcalc)62
1552 y Fo(No)o(w)18 b(that)f(the)i(basics)e(of)h(Bison)g(ha)o(v)o(e)g
(b)q(een)h(discussed,)g(it)f(is)f(time)g(to)g(mo)o(v)o(e)g(on)h(to)f(a)
h(more)f(adv)m(anced)0 1615 y(problem.)23 b(The)17 b(ab)q(o)o(v)o(e)g
(calculators)e(pro)o(vided)h(only)h(\014v)o(e)g(functions,)f(`)p
Fj(+)p Fo(',)g(`)p Fj(-)p Fo(',)g(`)p Fj(*)p Fo(',)g(`)p
Fj(/)p Fo(')g(and)h(`)p Fj(^)p Fo('.)23 b(It)17 b(w)o(ould)f(b)q(e)0
1677 y(nice)f(to)g(ha)o(v)o(e)g(a)g(calculator)e(that)i(pro)o(vides)g
(other)f(mathematical)e(functions)j(suc)o(h)g(as)g Fj(sin)p
Fo(,)f Fj(cos)p Fo(,)h(etc.)62 1816 y(It)h(is)f(easy)h(to)f(add)h(new)g
(op)q(erators)f(to)g(the)h(in\014x)g(calculator)e(as)i(long)f(as)g
(they)h(are)g(only)f(single-c)o(haracter)0 1878 y(literals.)40
b(The)23 b(lexical)f(analyzer)g Fj(yylex)g Fo(passes)g(bac)o(k)h(all)e
(non-n)o(um)o(b)q(er)i(c)o(haracters)f(as)g(tok)o(ens,)h(so)g(new)0
1941 y(grammar)14 b(rules)j(su\016ce)h(for)f(adding)h(a)f(new)h(op)q
(erator.)26 b(But)17 b(w)o(e)h(w)o(an)o(t)e(something)g(more)g
(\015exible:)25 b(built-in)0 2003 y(functions)15 b(whose)g(syn)o(tax)g
(has)g(this)f(form:)120 2132 y Fk(function)p 286 2132
14 2 v 16 w(name)26 b Fj(\()p Fk(argumen)o(t)q Fj(\))0
2271 y Fo(A)o(t)12 b(the)g(same)g(time,)e(w)o(e)j(will)e(add)h(memory)e
(to)i(the)g(calculator,)g(b)o(y)g(allo)o(wing)e(y)o(ou)i(to)g(create)g
(named)g(v)m(ariables,)0 2333 y(store)e(v)m(alues)h(in)g(them,)f(and)h
(use)h(them)d(later.)18 b(Here)11 b(is)f(a)h(sample)e(session)i(with)f
(the)h(m)o(ulti-function)e(calculator:)120 2462 y Fj(\045)24
b(mfcalc)120 2514 y(pi)g(=)f(3.141592653589)120 2566
y(3.1415926536)120 2618 y(sin\(pi\))120 2670 y(0.0000000000)p
eop
%%Page: 32 34
32 33 bop 0 -58 a Fo(32)1697 b(Bison)15 b(1.25)120 183
y Fj(alpha)23 b(=)h(beta1)f(=)h(2.3)120 235 y(2.3000000000)120
287 y(alpha)120 339 y(2.3000000000)120 391 y(ln\(alpha\))120
443 y(0.8329091229)120 495 y(exp\(ln\(beta1\)\))120 546
y(2.3000000000)120 598 y(\045)62 744 y Fo(Note)15 b(that)g(m)o(ultiple)
e(assignmen)o(t)g(and)i(nested)h(function)f(calls)f(are)h(p)q
(ermitted.)0 1029 y Fh(2.4.1)30 b(Declarations)13 b(for)i
Fg(mfcalc)62 1175 y Fo(Here)h(are)f(the)g(C)g(and)g(Bison)g
(declarations)f(for)h(the)g(m)o(ulti-function)e(calculator.)120
1310 y Fj(\045{)120 1362 y(#include)23 b(<math.h>)46
b(/*)24 b(For)f(math)h(functions,)e(cos\(\),)h(sin\(\),)g(etc.)h(*/)120
1414 y(#include)f("calc.h")46 b(/*)24 b(Contains)f(definition)f(of)i
(`symrec')190 b(*/)120 1466 y(\045})120 1518 y(\045union)23
b({)120 1570 y(double)118 b(val;)48 b(/*)23 b(For)h(returning)e
(numbers.)453 b(*/)120 1622 y(symrec)47 b(*tptr;)71 b(/*)23
b(For)h(returning)e(symbol-table)h(pointers)142 b(*/)120
1673 y(})120 1777 y(\045token)23 b(<val>)47 b(NUM)191
b(/*)23 b(Simple)g(double)g(precision)g(number)71 b(*/)120
1829 y(\045token)23 b(<tptr>)g(VAR)h(FNCT)71 b(/*)23
b(Variable)g(and)g(Function)286 b(*/)120 1881 y(\045type)47
b(<val>)g(exp)120 1985 y(\045right)23 b('=')120 2037
y(\045left)g('-')h('+')120 2089 y(\045left)f('*')h('/')120
2140 y(\045left)f(NEG)119 b(/*)24 b(Negation--unary)d(minus)j(*/)120
2192 y(\045right)f('^')95 b(/*)24 b(Exponentiation)189
b(*/)120 2296 y(/*)24 b(Grammar)e(follows)h(*/)120 2400
y(\045\045)62 2545 y Fo(The)c(ab)q(o)o(v)o(e)f(grammar)d(in)o(tro)q
(duces)k(only)f(t)o(w)o(o)f(new)i(features)f(of)g(the)h(Bison)f
(language.)29 b(These)19 b(features)0 2608 y(allo)o(w)d(seman)o(tic)g
(v)m(alues)i(to)f(ha)o(v)o(e)g(v)m(arious)g(data)g(t)o(yp)q(es)h(\(see)
f Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([More)e(Than)g(One)i(V)l(alue)e(T)o
(yp)q(e],)0 2670 y(page)e Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(\).)p eop
%%Page: 33 35
33 34 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(33)62 183 y(The)22 b Fj(\045union)e Fo(declaration)g(sp)q(eci\014es)i
(the)g(en)o(tire)e(list)g(of)h(p)q(ossible)g(t)o(yp)q(es;)j(this)d(is)g
(instead)g(of)f(de\014ning)0 246 y Fj(YYSTYPE)p Fo(.)25
b(The)17 b(allo)o(w)o(able)e(t)o(yp)q(es)i(are)g(no)o(w)f
(double-\015oats)h(\(for)f Fj(exp)h Fo(and)g Fj(NUM)p
Fo(\))f(and)i(p)q(oin)o(ters)e(to)h(en)o(tries)f(in)0
308 y(the)f(sym)o(b)q(ol)f(table.)19 b(See)d Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([The)f(Collection)f(of)h(V)l(alue)g(T)o(yp)q(es],)g(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 449 y(Since)h(v)m(alues)f(can)g
(no)o(w)g(ha)o(v)o(e)f(v)m(arious)h(t)o(yp)q(es,)g(it)f(is)g(necessary)
i(to)e(asso)q(ciate)g(a)h(t)o(yp)q(e)g(with)f(eac)o(h)h(grammar)0
511 y(sym)o(b)q(ol)f(whose)i(seman)o(tic)e(v)m(alue)i(is)f(used.)22
b(These)16 b(sym)o(b)q(ols)e(are)i Fj(NUM)p Fo(,)f Fj(VAR)p
Fo(,)g Fj(FNCT)p Fo(,)g(and)h Fj(exp)p Fo(.)21 b(Their)15
b(declara-)0 573 y(tions)f(are)h(augmen)o(ted)f(with)h(information)d
(ab)q(out)j(their)g(data)f(t)o(yp)q(e)i(\(placed)f(b)q(et)o(w)o(een)g
(angle)g(brac)o(k)o(ets\).)62 714 y(The)f(Bison)f(construct)g
Fj(\045type)f Fo(is)h(used)h(for)f(declaring)g(non)o(terminal)e(sym)o
(b)q(ols,)g(just)i(as)g Fj(\045token)g Fo(is)g(used)h(for)0
776 y(declaring)h(tok)o(en)g(t)o(yp)q(es.)22 b(W)l(e)16
b(ha)o(v)o(e)f(not)g(used)i Fj(\045type)e Fo(b)q(efore)h(b)q(ecause)g
(non)o(terminal)e(sym)o(b)q(ols)g(are)h(normally)0 839
y(declared)i(implicitly)e(b)o(y)i(the)g(rules)g(that)f(de\014ne)i
(them.)25 b(But)17 b Fj(exp)g Fo(m)o(ust)e(b)q(e)j(declared)f
(explicitly)f(so)h(w)o(e)g(can)0 901 y(sp)q(ecify)f(its)e(v)m(alue)h(t)
o(yp)q(e.)20 b(See)c Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Non)o(terminal)
d(Sym)o(b)q(ols],)g(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)0 1143 y Fh(2.4.2)30 b(Grammar)13 b(Rules)i(for)f
Fg(mfcalc)62 1284 y Fo(Here)i(are)e(the)i(gramma)o(r)c(rules)j(for)f
(the)i(m)o(ulti-function)c(calculator.)19 b(Most)14 b(of)h(them)f(are)g
(copied)i(directly)0 1346 y(from)d Fj(calc)p Fo(;)i(three)g(rules,)g
(those)f(whic)o(h)i(men)o(tion)d Fj(VAR)i Fo(or)f Fj(FNCT)p
Fo(,)h(are)g(new.)120 1477 y Fj(input:)71 b(/*)23 b(empty)h(*/)311
1528 y(|)g(input)f(line)120 1580 y(;)120 1684 y(line:)359
1736 y('\\n')311 1788 y(|)h(exp)f('\\n')71 b({)24 b(printf)f
(\("\\t\045.10g\\n",)f($1\);)h(})311 1840 y(|)h(error)f('\\n')g({)h
(yyerrok;)428 b(})120 1892 y(;)120 1995 y(exp:)143 b(NUM)381
b({)24 b($$)f(=)h($1;)596 b(})311 2047 y(|)24 b(VAR)381
b({)24 b($$)f(=)h($1->value.var;)332 b(})311 2099 y(|)24
b(VAR)f('=')h(exp)190 b({)24 b($$)f(=)h($3;)g($1->value.var)e(=)h($3;)
119 b(})311 2151 y(|)24 b(FNCT)f('\(')g(exp)h('\)')71
b({)24 b($$)f(=)h(\(*\($1->value.fnctptr\)\)\($3\);)c(})311
2203 y(|)k(exp)f('+')h(exp)190 b({)24 b($$)f(=)h($1)g(+)f($3;)477
b(})311 2255 y(|)24 b(exp)f('-')h(exp)190 b({)24 b($$)f(=)h($1)g(-)f
($3;)477 b(})311 2307 y(|)24 b(exp)f('*')h(exp)190 b({)24
b($$)f(=)h($1)g(*)f($3;)477 b(})311 2359 y(|)24 b(exp)f('/')h(exp)190
b({)24 b($$)f(=)h($1)g(/)f($3;)477 b(})311 2411 y(|)24
b('-')f(exp)47 b(\045prec)24 b(NEG)f({)h($$)f(=)h(-$2;)572
b(})311 2462 y(|)24 b(exp)f('^')h(exp)190 b({)24 b($$)f(=)h(pow)g
(\($1,)f($3\);)357 b(})311 2514 y(|)24 b('\(')f(exp)h('\)')190
b({)24 b($$)f(=)h($2;)596 b(})120 2566 y(;)120 2618 y(/*)24
b(End)f(of)h(grammar)f(*/)120 2670 y(\045\045)p eop
%%Page: 34 36
34 35 bop 0 -58 a Fo(34)1697 b(Bison)15 b(1.25)0 183
y Fh(2.4.3)30 b(The)15 b Fg(mfcalc)g Fh(Sym)n(b)r(ol)f(T)-5
b(able)62 391 y Fo(The)15 b(m)o(ulti-function)d(calculator)h(requires)i
(a)f(sym)o(b)q(ol)f(table)h(to)g(k)o(eep)h(trac)o(k)e(of)i(the)f(names)
g(and)g(meanings)0 453 y(of)j(v)m(ariables)g(and)h(functions.)27
b(This)18 b(do)q(esn't)f(a\013ect)g(the)h(grammar)c(rules)k(\(except)f
(for)g(the)h(actions\))f(or)g(the)0 515 y(Bison)e(declarations,)e(but)j
(it)e(requires)h(some)f(additional)g(C)h(functions)g(for)f(supp)q(ort.)
62 722 y(The)k(sym)o(b)q(ol)e(table)h(itself)g(consists)g(of)g(a)g
(link)o(ed)g(list)g(of)g(records.)27 b(Its)18 b(de\014nition,)f(whic)o
(h)h(is)f(k)o(ept)g(in)h(the)0 785 y(header)c(`)p Fj(calc.h)p
Fo(',)d(is)i(as)g(follo)o(ws.)18 b(It)13 b(pro)o(vides)g(for)f(either)h
(functions)h(or)e(v)m(ariables)h(to)g(b)q(e)h(placed)f(in)g(the)h
(table.)120 982 y Fj(/*)24 b(Data)f(type)g(for)h(links)f(in)g(the)h
(chain)f(of)h(symbols.)142 b(*/)120 1033 y(struct)23
b(symrec)120 1085 y({)168 1137 y(char)g(*name;)47 b(/*)24
b(name)f(of)g(symbol)501 b(*/)168 1189 y(int)23 b(type;)95
b(/*)24 b(type)f(of)g(symbol:)g(either)g(VAR)h(or)f(FNCT)h(*/)168
1241 y(union)f({)215 1293 y(double)g(var;)262 b(/*)24
b(value)f(of)h(a)g(VAR)238 b(*/)215 1345 y(double)23
b(\(*fnctptr\)\(\);)46 b(/*)24 b(value)f(of)h(a)g(FNCT)214
b(*/)168 1397 y(})23 b(value;)168 1449 y(struct)g(symrec)g(*next;)94
b(/*)24 b(link)f(field)334 b(*/)120 1500 y(};)120 1572
y(typedef)23 b(struct)g(symrec)g(symrec;)120 1676 y(/*)h(The)f(symbol)g
(table:)g(a)h(chain)f(of)h(`struct)f(symrec'.)118 b(*/)120
1727 y(extern)23 b(symrec)g(*sym_table;)120 1831 y(symrec)g(*putsym)g
(\(\);)120 1883 y(symrec)g(*getsym)g(\(\);)62 2080 y
Fo(The)18 b(new)f(v)o(ersion)g(of)f Fj(main)h Fo(includes)h(a)f(call)f
(to)h Fj(init_table)p Fo(,)e(a)i(function)g(that)g(initializes)e(the)j
(sym)o(b)q(ol)0 2142 y(table.)h(Here)d(it)e(is,)h(and)g
Fj(init_table)f Fo(as)h(w)o(ell:)120 2339 y Fj(#include)23
b(<stdio.h>)120 2443 y(main)g(\(\))120 2495 y({)168 2547
y(init_table)f(\(\);)168 2599 y(yyparse)h(\(\);)120 2651
y(})p eop
%%Page: 35 37
35 36 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(35)120 183 y Fj(yyerror)23 b(\(s\))47 b(/*)24 b(Called)f(by)g
(yyparse)g(on)h(error)f(*/)239 235 y(char)h(*s;)120 287
y({)168 339 y(printf)f(\("\045s\\n",)g(s\);)120 391 y(})120
495 y(struct)g(init)120 546 y({)168 598 y(char)g(*fname;)168
650 y(double)g(\(*fnct\)\(\);)120 702 y(};)120 773 y(struct)g(init)g
(arith_fncts[])168 825 y(=)g({)263 877 y("sin",)g(sin,)263
929 y("cos",)g(cos,)263 981 y("atan",)g(atan,)263 1033
y("ln",)g(log,)263 1085 y("exp",)g(exp,)263 1137 y("sqrt",)g(sqrt,)263
1189 y(0,)h(0)215 1240 y(};)120 1344 y(/*)g(The)f(symbol)g(table:)g(a)h
(chain)f(of)h(`struct)f(symrec'.)46 b(*/)120 1396 y(symrec)23
b(*sym_table)g(=)g(\(symrec)g(*\)0;)120 1467 y(init_table)f(\(\))48
b(/*)24 b(puts)f(arithmetic)f(functions)h(in)h(table.)f(*/)120
1519 y({)168 1571 y(int)g(i;)168 1623 y(symrec)g(*ptr;)168
1675 y(for)g(\(i)h(=)f(0;)h(arith_fncts[i].fname)d(!=)j(0;)f(i++\))215
1727 y({)263 1779 y(ptr)h(=)f(putsym)g(\(arith_fncts[i].fname,)e
(FNCT\);)263 1831 y(ptr->value.fnctptr)h(=)h(arith_fncts[i].fnct;)215
1883 y(})120 1934 y(})62 2072 y Fo(By)e(simply)e(editing)h(the)h
(initialization)d(list)i(and)h(adding)f(the)h(necessary)g(include)h
(\014les,)f(y)o(ou)g(can)g(add)0 2135 y(additional)14
b(functions)h(to)f(the)h(calculator.)62 2283 y(Tw)o(o)j(imp)q(ortan)o
(t)d(functions)j(allo)o(w)f(lo)q(ok-up)h(and)g(installation)e(of)i(sym)
o(b)q(ols)e(in)i(the)h(sym)o(b)q(ol)d(table.)29 b(The)0
2345 y(function)17 b Fj(putsym)g Fo(is)g(passed)g(a)g(name)g(and)g(the)
h(t)o(yp)q(e)f(\()p Fj(VAR)g Fo(or)g Fj(FNCT)p Fo(\))f(of)h(the)h(ob)s
(ject)f(to)f(b)q(e)i(installed.)26 b(The)0 2408 y(ob)s(ject)20
b(is)g(link)o(ed)h(to)f(the)g(fron)o(t)g(of)g(the)h(list,)f(and)h(a)g
(p)q(oin)o(ter)f(to)g(the)g(ob)s(ject)g(is)h(returned.)36
b(The)21 b(function)0 2470 y Fj(getsym)12 b Fo(is)h(passed)g(the)g
(name)f(of)h(the)g(sym)o(b)q(ol)f(to)g(lo)q(ok)g(up.)20
b(If)13 b(found,)h(a)f(p)q(oin)o(ter)f(to)h(that)f(sym)o(b)q(ol)f(is)i
(returned;)0 2532 y(otherwise)h(zero)h(is)g(returned.)120
2670 y Fj(symrec)23 b(*)p eop
%%Page: 36 38
36 37 bop 0 -58 a Fo(36)1697 b(Bison)15 b(1.25)120 183
y Fj(putsym)23 b(\(sym_name,sym_type\))239 235 y(char)h(*sym_name;)239
287 y(int)g(sym_type;)120 339 y({)168 391 y(symrec)f(*ptr;)168
443 y(ptr)g(=)h(\(symrec)f(*\))g(malloc)g(\(sizeof)g(\(symrec\)\);)168
495 y(ptr->name)f(=)i(\(char)f(*\))h(malloc)f(\(strlen)g(\(sym_name\))f
(+)i(1\);)168 546 y(strcpy)f(\(ptr->name,sym_name\);)168
598 y(ptr->type)f(=)i(sym_type;)168 650 y(ptr->value.var)e(=)h(0;)h(/*)
g(set)f(value)g(to)h(0)g(even)f(if)g(fctn.)47 b(*/)168
702 y(ptr->next)22 b(=)i(\(struct)f(symrec)g(*\)sym_table;)168
754 y(sym_table)f(=)i(ptr;)168 806 y(return)f(ptr;)120
858 y(})120 962 y(symrec)g(*)120 1013 y(getsym)g(\(sym_name\))239
1065 y(char)h(*sym_name;)120 1117 y({)168 1169 y(symrec)f(*ptr;)168
1221 y(for)g(\(ptr)g(=)h(sym_table;)f(ptr)g(!=)h(\(symrec)f(*\))g(0;)
287 1273 y(ptr)g(=)h(\(symrec)f(*\)ptr->next\))215 1325
y(if)h(\(strcmp)f(\(ptr->name,sym_name\))e(==)j(0\))263
1377 y(return)f(ptr;)168 1429 y(return)g(0;)120 1480
y(})62 1773 y Fo(The)g(function)e Fj(yylex)h Fo(m)o(ust)e(no)o(w)i
(recognize)g(v)m(ariables,)g(n)o(umeric)f(v)m(alues,)j(and)e(the)g
(single-c)o(haracter)0 1835 y(arithmetic)12 b(op)q(erators.)19
b(Strings)13 b(of)h(alphan)o(umeric)f(c)o(haracters)h(with)f(a)i
(leading)e(nondigit)h(are)g(recognized)g(as)0 1898 y(either)h(v)m
(ariables)f(or)h(functions)g(dep)q(ending)i(on)e(what)f(the)i(sym)o(b)q
(ol)d(table)i(sa)o(ys)f(ab)q(out)h(them.)62 2190 y(The)e(string)f(is)g
(passed)h(to)f Fj(getsym)g Fo(for)g(lo)q(ok)g(up)h(in)f(the)h(sym)o(b)q
(ol)e(table.)19 b(If)12 b(the)h(name)f(app)q(ears)h(in)f(the)h(table,)0
2253 y(a)j(p)q(oin)o(ter)f(to)h(its)f(lo)q(cation)g(and)h(its)f(t)o(yp)
q(e)i(\()p Fj(VAR)e Fo(or)h Fj(FNCT)p Fo(\))f(is)g(returned)i(to)e
Fj(yyparse)p Fo(.)22 b(If)16 b(it)f(is)h(not)g(already)f(in)0
2315 y(the)g(table,)f(then)h(it)f(is)g(installed)g(as)g(a)h
Fj(VAR)f Fo(using)h Fj(putsym)p Fo(.)j(Again,)c(a)h(p)q(oin)o(ter)f
(and)h(its)f(t)o(yp)q(e)h(\(whic)o(h)f(m)o(ust)f(b)q(e)0
2377 y Fj(VAR)p Fo(\))h(is)h(returned)h(to)e Fj(yyparse)p
Fo(.)62 2670 y(No)h(c)o(hange)g(is)g(needed)i(in)e(the)g(handling)g(of)
g(n)o(umeric)f(v)m(alues)h(and)h(arithmetic)c(op)q(erators)j(in)g
Fj(yylex)p Fo(.)p eop
%%Page: 37 39
37 38 bop 0 -58 a Fo(Chapter)15 b(2:)k(Examples)1480
b(37)120 183 y Fj(#include)23 b(<ctype.h>)120 235 y(yylex)g(\(\))120
287 y({)168 339 y(int)g(c;)168 443 y(/*)g(Ignore)g(whitespace,)g(get)g
(first)g(nonwhite)g(character.)46 b(*/)168 495 y(while)23
b(\(\(c)g(=)h(getchar)f(\(\)\))g(==)h(')g(')f(||)h(c)g(==)f('\\t'\);)
168 598 y(if)g(\(c)h(==)f(EOF\))215 650 y(return)g(0;)168
722 y(/*)g(Char)h(starts)f(a)g(number)g(=>)h(parse)f(the)h(number.)213
b(*/)168 773 y(if)23 b(\(c)h(==)f('.')h(||)g(isdigit)e(\(c\)\))215
825 y({)263 877 y(ungetc)h(\(c,)h(stdin\);)263 929 y(scanf)f
(\("\045lf",)g(&yylval.val\);)263 981 y(return)g(NUM;)215
1033 y(})168 1104 y(/*)g(Char)h(starts)f(an)g(identifier)g(=>)g(read)h
(the)f(name.)166 b(*/)168 1156 y(if)23 b(\(isalpha)g(\(c\)\))215
1208 y({)263 1260 y(symrec)g(*s;)263 1312 y(static)g(char)h(*symbuf)e
(=)i(0;)263 1364 y(static)f(int)h(length)f(=)g(0;)263
1416 y(int)h(i;)263 1487 y(/*)g(Initially)e(make)i(the)f(buffer)g(long)
h(enough)335 1539 y(for)f(a)h(40-character)e(symbol)h(name.)47
b(*/)263 1591 y(if)24 b(\(length)f(==)g(0\))311 1643
y(length)g(=)h(40,)f(symbuf)g(=)h(\(char)f(*\)malloc)g(\(length)g(+)g
(1\);)263 1746 y(i)h(=)g(0;)263 1798 y(do)311 1854 y({)359
1906 y(/*)f(If)h(buffer)f(is)g(full,)h(make)f(it)h(bigger.)189
b(*/)359 1958 y(if)23 b(\(i)h(==)f(length\))406 2010
y({)454 2062 y(length)g(*=)h(2;)454 2114 y(symbuf)f(=)h(\(char)f
(*\)realloc)g(\(symbuf,)f(length)h(+)h(1\);)406 2166
y(})359 2218 y(/*)f(Add)h(this)f(character)g(to)g(the)h(buffer.)213
b(*/)359 2270 y(symbuf[i++])22 b(=)i(c;)359 2321 y(/*)f(Get)h(another)f
(character.)475 b(*/)359 2373 y(c)23 b(=)h(getchar)f(\(\);)311
2425 y(})263 2481 y(while)g(\(c)h(!=)g(EOF)f(&&)h(isalnum)e(\(c\)\);)
263 2585 y(ungetc)h(\(c,)h(stdin\);)263 2637 y(symbuf[i])f(=)h('\\0';)p
eop
%%Page: 38 40
38 39 bop 0 -58 a Fo(38)1697 b(Bison)15 b(1.25)263 183
y Fj(s)24 b(=)g(getsym)f(\(symbuf\);)263 235 y(if)h(\(s)f(==)h(0\))311
287 y(s)g(=)f(putsym)g(\(symbuf,)g(VAR\);)263 339 y(yylval.tptr)g(=)g
(s;)263 391 y(return)g(s->type;)215 443 y(})168 546 y(/*)g(Any)h(other)
f(character)g(is)g(a)h(token)f(by)h(itself.)190 b(*/)168
598 y(return)23 b(c;)120 650 y(})62 777 y Fo(This)12
b(program)e(is)i(b)q(oth)g(p)q(o)o(w)o(erful)g(and)g(\015exible.)19
b(Y)l(ou)12 b(ma)o(y)f(easily)g(add)h(new)h(functions,)f(and)g(it)g(is)
g(a)f(simple)0 839 y(job)k(to)g(mo)q(dify)e(this)i(co)q(de)h(to)e
(install)g(prede\014ned)j(v)m(ariables)d(suc)o(h)i(as)f
Fj(pi)g Fo(or)f Fj(e)h Fo(as)g(w)o(ell.)0 1063 y Fn(2.5)33
b(Exercises)25 1200 y Fo(1.)c(Add)16 b(some)e(new)h(functions)g(from)e
(`)p Fj(math.h)p Fo(')h(to)h(the)g(initialization)d(list.)25
1275 y(2.)29 b(Add)15 b(another)f(arra)o(y)g(that)f(con)o(tains)h
(constan)o(ts)g(and)h(their)f(v)m(alues.)19 b(Then)d(mo)q(dify)d
Fj(init_table)g Fo(to)h(add)90 1337 y(these)h(constan)o(ts)g(to)f(the)i
(sym)o(b)q(ol)d(table.)19 b(It)d(will)d(b)q(e)j(easiest)f(to)f(giv)o(e)
h(the)g(constan)o(ts)f(t)o(yp)q(e)i Fj(VAR)p Fo(.)25
1412 y(3.)29 b(Mak)o(e)18 b(the)h(program)e(rep)q(ort)i(an)g(error)f
(if)g(the)h(user)g(refers)g(to)f(an)h(uninitialized)f(v)m(ariable)h(in)
f(an)o(y)h(w)o(a)o(y)90 1474 y(except)d(to)e(store)h(a)g(v)m(alue)g(in)
g(it.)p eop
%%Page: 39 41
39 40 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(39)0 183 y Fl(3)41 b(Bison)16 b(Grammar)e(Files)62
435 y Fo(Bison)i(tak)o(es)f(as)h(input)g(a)g(con)o(text-free)f(grammar)
e(sp)q(eci\014cation)j(and)g(pro)q(duces)h(a)f(C-language)f(function)0
497 y(that)f(recognizes)i(correct)e(instances)h(of)g(the)g(grammar.)62
647 y(The)h(Bison)f(gramma)o(r)d(input)j(\014le)h(con)o(v)o(en)o
(tionally)d(has)i(a)g(name)f(ending)i(in)f(`)p Fj(.y)p
Fo('.)0 988 y Fn(3.1)33 b(Outline)16 b(of)e(a)h(Bison)g(Grammar)62
1138 y Fo(A)h(Bison)e(grammar)e(\014le)j(has)g(four)g(main)f(sections,)
g(sho)o(wn)h(here)h(with)e(the)h(appropriate)g(delimiters:)120
1278 y Fj(\045{)120 1330 y Fk(C)g(declarations)120 1382
y Fj(\045})120 1485 y Fk(Bison)g(declarations)120 1589
y Fj(\045\045)120 1641 y Fk(Grammar)d(rules)120 1693
y Fj(\045\045)120 1797 y Fk(Additional)i(C)h(co)q(de)62
1947 y Fo(Commen)o(ts)e(enclosed)i(in)g(`)p Fj(/*)g Ff(:)8
b(:)g(:)13 b Fj(*/)p Fo(')h(ma)o(y)g(app)q(ear)h(in)g(an)o(y)g(of)g
(the)g(sections.)0 2271 y Fh(3.1.1)30 b(The)15 b(C)g(Declarations)e
(Section)62 2421 y Fo(The)f Fk(C)f(declarations)h Fo(section)f(con)o
(tains)f(macro)g(de\014nitions)h(and)h(declarations)e(of)h(functions)g
(and)h(v)m(ariables)0 2483 y(that)i(are)g(used)i(in)e(the)h(actions)f
(in)g(the)h(grammar)c(rules.)19 b(These)c(are)g(copied)g(to)f(the)g(b)q
(eginning)h(of)g(the)f(parser)0 2545 y(\014le)h(so)f(that)g(they)g
(precede)i(the)e(de\014nition)h(of)f Fj(yyparse)p Fo(.)19
b(Y)l(ou)14 b(can)h(use)g(`)p Fj(#include)p Fo(')e(to)h(get)g(the)g
(declarations)0 2608 y(from)e(a)i(header)h(\014le.)20
b(If)14 b(y)o(ou)g(don't)g(need)h(an)o(y)f(C)g(declarations,)f(y)o(ou)g
(ma)o(y)g(omit)f(the)i(`)p Fj(\045{)p Fo(')g(and)g(`)p
Fj(\045})p Fo(')f(delimiters)0 2670 y(that)h(brac)o(k)o(et)h(this)g
(section.)p eop
%%Page: 40 42
40 41 bop 0 -58 a Fo(40)1697 b(Bison)15 b(1.25)0 183
y Fh(3.1.2)30 b(The)15 b(Bison)f(Declarations)f(Section)62
320 y Fo(The)h Fk(Bison)f(declarations)h Fo(section)f(con)o(tains)g
(declarations)f(that)h(de\014ne)i(terminal)c(and)j(non)o(terminal)d
(sym-)0 383 y(b)q(ols,)j(sp)q(ecify)h(precedence,)h(and)f(so)f(on.)20
b(In)15 b(some)e(simple)g(grammars)e(y)o(ou)k(ma)o(y)e(not)h(need)h(an)
o(y)g(declarations.)0 445 y(See)h Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Bison)f(Declarations],)d(page)j Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 654 y Fh(3.1.3)30 b(The)15 b(Grammar)e(Rules)h(Section)62
791 y Fo(The)k Fk(grammar)c(rules)19 b Fo(section)f(con)o(tains)e(one)i
(or)f(more)f(Bison)i(gramma)o(r)d(rules,)i(and)h(nothing)f(else.)27
b(See)0 853 y Fm(h)p Fo(unde\014ned)p Fm(i)16 b Fo([Syn)o(tax)f(of)g
(Gramma)o(r)d(Rules],)j(page)g Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 990 y(There)e(m)o(ust)e(alw)o(a)o(ys)g(b)q(e)i(at)e
(least)h(one)h(gramma)o(r)c(rule,)k(and)g(the)f(\014rst)g(`)p
Fj(\045\045)p Fo(')g(\(whic)o(h)f(precedes)j(the)e(grammar)0
1052 y(rules\))j(ma)o(y)e(nev)o(er)i(b)q(e)h(omitted)e(ev)o(en)h(if)g
(it)f(is)h(the)g(\014rst)g(thing)g(in)g(the)g(\014le.)0
1261 y Fh(3.1.4)30 b(The)15 b(Additional)d(C)j(Co)r(de)g(Section)62
1398 y Fo(The)k Fk(additional)e(C)i(co)q(de)j Fo(section)c(is)g(copied)
h(v)o(erbatim)e(to)h(the)h(end)g(of)f(the)h(parser)f(\014le,)i(just)e
(as)g(the)h Fk(C)0 1460 y(declarations)d Fo(section)f(is)g(copied)g(to)
g(the)h(b)q(eginning.)k(This)15 b(is)g(the)h(most)d(con)o(v)o(enien)o
(t)i(place)g(to)g(put)h(an)o(ything)0 1523 y(that)e(y)o(ou)g(w)o(an)o
(t)f(to)h(ha)o(v)o(e)h(in)f(the)h(parser)f(\014le)g(but)h(whic)o(h)f
(need)i(not)e(come)f(b)q(efore)i(the)g(de\014nition)f(of)g
Fj(yyparse)p Fo(.)0 1585 y(F)l(or)21 b(example,)h(the)g(de\014nitions)f
(of)g Fj(yylex)g Fo(and)h Fj(yyerror)f Fo(often)g(go)h(here.)39
b(See)23 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([P)o(arser)d(C-)0
1647 y(Language)15 b(In)o(terface],)g(page)g Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 1784 y(If)h(the)f(last)f(section)h(is)g(empt)o(y)l(,)e
(y)o(ou)i(ma)o(y)f(omit)f(the)i(`)p Fj(\045\045)p Fo(')f(that)h
(separates)f(it)h(from)e(the)i(grammar)d(rules.)62 1921
y(The)18 b(Bison)g(parser)f(itself)g(con)o(tains)g(man)o(y)f(static)h
(v)m(ariables)g(whose)g(names)g(start)g(with)g(`)p Fj(yy)p
Fo(')f(and)i(man)o(y)0 1984 y(macros)12 b(whose)i(names)f(start)g(with)
g(`)p Fj(YY)p Fo('.)18 b(It)c(is)g(a)f(go)q(o)q(d)h(idea)g(to)f(a)o(v)o
(oid)g(using)g(an)o(y)h(suc)o(h)g(names)f(\(except)h(those)0
2046 y(do)q(cumen)o(ted)h(in)g(this)g(man)o(ual\))e(in)i(the)g
(additional)f(C)h(co)q(de)g(section)g(of)g(the)g(grammar)d(\014le.)0
2271 y Fn(3.2)33 b(Sym)n(b)r(ols,)15 b(T)-6 b(erminal)17
b(and)f(Non)n(terminal)62 2408 y Fk(Sym)o(b)q(ols)g Fo(in)f(Bison)g
(grammar)o(s)d(represen)o(t)k(the)f(grammat)o(ical)d(classi\014cations)
h(of)i(the)g(language.)62 2545 y(A)j Fk(terminal)d(sym)o(b)q(ol)i
Fo(\(also)g(kno)o(wn)g(as)g(a)g Fk(tok)o(en)g(t)o(yp)q(e)s
Fo(\))g(represen)o(ts)g(a)g(class)g(of)g(syn)o(tactically)e(equiv)m
(alen)o(t)0 2608 y(tok)o(ens.)23 b(Y)l(ou)17 b(use)g(the)g(sym)o(b)q
(ol)e(in)h(grammar)d(rules)j(to)g(mean)g(that)g(a)g(tok)o(en)g(in)h
(that)e(class)h(is)g(allo)o(w)o(ed.)23 b(The)0 2670 y(sym)o(b)q(ol)17
b(is)i(represen)o(ted)g(in)g(the)g(Bison)g(parser)g(b)o(y)g(a)g(n)o
(umeric)f(co)q(de,)i(and)f(the)g Fj(yylex)f Fo(function)h(returns)g(a)p
eop
%%Page: 41 43
41 42 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(41)0 183 y(tok)o(en)16 b(t)o(yp)q(e)g(co)q(de)h(to)f(indicate)g(what)
g(kind)g(of)g(tok)o(en)g(has)h(b)q(een)g(read.)24 b(Y)l(ou)16
b(don't)g(need)h(to)f(kno)o(w)g(what)g(the)0 246 y(co)q(de)g(v)m(alue)f
(is;)g(y)o(ou)f(can)i(use)f(the)h(sym)o(b)q(ol)d(to)i(stand)g(for)f
(it.)62 387 y(A)e Fk(non)o(terminal)e(sym)o(b)q(ol)i
Fo(stands)f(for)h(a)f(class)h(of)f(syn)o(tactically)f(equiv)m(alen)o(t)
i(groupings.)18 b(The)12 b(sym)o(b)q(ol)e(name)0 449
y(is)15 b(used)g(in)h(writing)d(grammar)f(rules.)20 b(By)15
b(con)o(v)o(en)o(tion,)f(it)g(should)h(b)q(e)h(all)e(lo)o(w)o(er)g
(case.)62 590 y(Sym)o(b)q(ol)h(names)h(can)g(con)o(tain)g(letters,)f
(digits)g(\(not)h(at)g(the)g(b)q(eginning\),)h(underscores)g(and)f(p)q
(erio)q(ds.)24 b(P)o(e-)0 652 y(rio)q(ds)15 b(mak)o(e)e(sense)j(only)f
(in)g(non)o(terminals.)62 794 y(There)h(are)f(three)g(w)o(a)o(ys)f(of)h
(writing)e(terminal)g(sym)o(b)q(ols)h(in)h(the)g(grammar:)37
935 y Fm(\017)30 b Fo(A)19 b Fk(named)g(tok)o(en)g(t)o(yp)q(e)j
Fo(is)d(written)f(with)h(an)g(iden)o(ti\014er,)h(lik)o(e)e(an)h(iden)o
(ti\014er)g(in)g(C.)g(By)h(con)o(v)o(en)o(tion,)f(it)90
997 y(should)e(b)q(e)h(all)e(upp)q(er)i(case.)25 b(Eac)o(h)17
b(suc)o(h)h(name)e(m)o(ust)f(b)q(e)j(de\014ned)g(with)f(a)f(Bison)h
(declaration)f(suc)o(h)h(as)90 1059 y Fj(\045token)p
Fo(.)i(See)d Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([T)l(ok)o(en)f(T)o(yp)q
(e)g(Names],)f(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)37 1138 y Fm(\017)30 b Fo(A)16 b Fk(c)o(haracter)f(tok)o(en)h(t)o
(yp)q(e)j Fo(\(or)c Fk(literal)f(c)o(haracter)h(tok)o(en)p
Fo(\))g(is)h(written)f(in)h(the)g(grammar)c(using)k(the)g(same)90
1200 y(syn)o(tax)21 b(used)i(in)f(C)g(for)f(c)o(haracter)g(constan)o
(ts;)j(for)e(example,)g Fj('+')f Fo(is)h(a)g(c)o(haracter)f(tok)o(en)h
(t)o(yp)q(e.)40 b(A)90 1263 y(c)o(haracter)14 b(tok)o(en)g(t)o(yp)q(e)g
(do)q(esn't)g(need)i(to)d(b)q(e)j(declared)e(unless)h(y)o(ou)f(need)h
(to)f(sp)q(ecify)h(its)e(seman)o(tic)g(v)m(alue)90 1325
y(data)i(t)o(yp)q(e)h(\(see)g Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([Data)c(T)o(yp)q(es)i(of)g(Seman)o(tic)f(V)l(alues],)g(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\),)h(asso)q(ciativit)o(y)l(,)90
1387 y(or)e(precedence)i(\(see)e Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Op)q(erator)f(Precedence],)h(page)f Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(\).)90 1466 y(By)i(con)o(v)o(en)o(tion,)e(a)
i(c)o(haracter)f(tok)o(en)g(t)o(yp)q(e)g(is)g(used)i(only)e(to)g
(represen)o(t)g(a)h(tok)o(en)f(that)g(consists)f(of)i(that)90
1528 y(particular)11 b(c)o(haracter.)18 b(Th)o(us,)13
b(the)f(tok)o(en)g(t)o(yp)q(e)h Fj('+')f Fo(is)g(used)h(to)f(represen)o
(t)g(the)g(c)o(haracter)g(`)p Fj(+)p Fo(')g(as)g(a)g(tok)o(en.)90
1591 y(Nothing)k(enforces)h(this)g(con)o(v)o(en)o(tion,)f(but)h(if)g(y)
o(ou)f(depart)h(from)f(it,)g(y)o(our)g(program)f(will)h(confuse)h
(other)90 1653 y(readers.)90 1732 y(All)h(the)h(usual)f(escap)q(e)i
(sequences)g(used)f(in)f(c)o(haracter)g(literals)f(in)i(C)f(can)h(b)q
(e)h(used)f(in)g(Bison)f(as)g(w)o(ell,)90 1794 y(but)g(y)o(ou)g(m)o
(ust)e(not)i(use)g(the)g(n)o(ull)f(c)o(haracter)h(as)f(a)h(c)o
(haracter)f(literal)f(b)q(ecause)j(its)e(ASCI)q(I)j(co)q(de,)e(zero,)90
1856 y(is)h(the)h(co)q(de)g Fj(yylex)f Fo(returns)h(for)f(end-of-input)
h(\(see)g Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Calling)d(Con)o(v)o(en)o
(tion)g(for)h Fj(yylex)p Fo(],)90 1919 y(page)c Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(\).)37 1997 y Fm(\017)30 b
Fo(A)17 b Fk(literal)e(string)g(tok)o(en)i Fo(is)f(written)g(lik)o(e)g
(a)g(C)h(string)e(constan)o(t;)i(for)f(example,)f Fj("<=")h
Fo(is)h(a)f(literal)f(string)90 2060 y(tok)o(en.)j(A)13
b(literal)d(string)h(tok)o(en)h(do)q(esn't)g(need)i(to)d(b)q(e)i
(declared)g(unless)f(y)o(ou)g(need)h(to)f(sp)q(ecify)g(its)g(seman)o
(tic)90 2122 y(v)m(alue)g(data)g(t)o(yp)q(e)g(\(see)g
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([V)l(alue)f(T)o(yp)q(e],)g(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\),)h(asso)q(ciativit)o(y)l(,)d
(precedence)k(\(see)90 2184 y Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([Precedence],)g(page)f Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(\).)90 2263 y(Y)l(ou)h(can)f(asso)q(ciate)f(the)i(literal)d
(string)i(tok)o(en)g(with)f(a)h(sym)o(b)q(olic)f(name)g(as)h(an)h
(alias,)d(using)i(the)h Fj(\045token)90 2325 y Fo(declaration)d(\(see)g
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([T)l(ok)o(en)f(Declarations],)d(page)
j Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)20 b(If)14 b(y)o(ou)g(don't)f
(do)h(that,)f(the)90 2388 y(lexical)g(analyzer)h(has)g(to)g(retriev)o
(e)f(the)h(tok)o(en)g(n)o(um)o(b)q(er)g(for)f(the)i(literal)d(string)h
(tok)o(en)h(from)f(the)h Fj(yytname)90 2450 y Fo(table)h(\(see)g
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Calling)d(Con)o(v)o(en)o(tion],)h
(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)90 2529
y Fi(W)-5 b(ARNING)p Fo(:)14 b(literal)f(string)h(tok)o(ens)h(do)g(not)
g(w)o(ork)f(in)h(Y)l(acc.)90 2608 y(By)k(con)o(v)o(en)o(tion,)g(a)g
(literal)e(string)h(tok)o(en)h(is)f(used)i(only)f(to)f(represen)o(t)h
(a)g(tok)o(en)f(that)h(consists)f(of)h(that)90 2670 y(particular)c
(string.)23 b(Th)o(us,)17 b(y)o(ou)f(should)h(use)g(the)g(tok)o(en)f(t)
o(yp)q(e)g Fj("<=")h Fo(to)f(represen)o(t)g(the)h(string)e(`)p
Fj(<=)p Fo(')h(as)g(a)p eop
%%Page: 42 44
42 43 bop 0 -58 a Fo(42)1697 b(Bison)15 b(1.25)90 183
y(tok)o(en.)30 b(Bison)19 b(do)q(es)g(not)f(enforces)h(this)f(con)o(v)o
(en)o(tion,)h(but)f(if)h(y)o(ou)f(depart)h(from)e(it,)h(p)q(eople)h
(who)g(read)90 246 y(y)o(our)c(program)e(will)h(b)q(e)h(confused.)90
319 y(All)j(the)g(escap)q(e)h(sequences)h(used)e(in)h(string)e
(literals)f(in)j(C)f(can)g(b)q(e)h(used)g(in)f(Bison)g(as)g(w)o(ell.)28
b(A)19 b(literal)90 381 y(string)d(tok)o(en)h(m)o(ust)e(con)o(tain)i(t)
o(w)o(o)f(or)g(more)g(c)o(haracters;)h(for)f(a)h(tok)o(en)g(con)o
(taining)f(just)h(one)g(c)o(haracter,)90 443 y(use)f(a)e(c)o(haracter)h
(tok)o(en)g(\(see)g(ab)q(o)o(v)o(e\).)62 591 y(Ho)o(w)j(y)o(ou)g(c)o
(ho)q(ose)h(to)e(write)h(a)g(terminal)e(sym)o(b)q(ol)h(has)i(no)f
(e\013ect)g(on)h(its)e(grammati)o(cal)e(meaning.)29 b(That)0
653 y(dep)q(ends)17 b(only)e(on)g(where)g(it)g(app)q(ears)g(in)g(rules)
g(and)g(on)g(when)h(the)f(parser)g(function)g(returns)g(that)g(sym)o(b)
q(ol.)62 790 y(The)21 b(v)m(alue)g(returned)g(b)o(y)f
Fj(yylex)g Fo(is)g(alw)o(a)o(ys)f(one)h(of)h(the)f(terminal)e(sym)o(b)q
(ols)h(\(or)h(0)g(for)g(end-of-input\).)0 852 y(Whic)o(hev)o(er)d(w)o
(a)o(y)e(y)o(ou)i(write)f(the)h(tok)o(en)f(t)o(yp)q(e)h(in)g(the)g
(grammar)c(rules,)k(y)o(ou)g(write)f(it)g(the)h(same)e(w)o(a)o(y)h(in)h
(the)0 915 y(de\014nition)e(of)f Fj(yylex)p Fo(.)19 b(The)c(n)o(umeric)
e(co)q(de)j(for)e(a)g(c)o(haracter)g(tok)o(en)h(t)o(yp)q(e)f(is)h
(simply)e(the)h(ASCI)q(I)i(co)q(de)g(for)e(the)0 977
y(c)o(haracter,)i(so)g Fj(yylex)g Fo(can)h(use)g(the)g(iden)o(tical)e
(c)o(haracter)h(constan)o(t)g(to)g(generate)h(the)f(requisite)g(co)q
(de.)25 b(Eac)o(h)0 1039 y(named)16 b(tok)o(en)h(t)o(yp)q(e)g(b)q
(ecomes)f(a)h(C)g(macro)e(in)i(the)g(parser)g(\014le,)g(so)g
Fj(yylex)f Fo(can)h(use)g(the)g(name)f(to)h(stand)g(for)0
1101 y(the)h(co)q(de.)29 b(\(This)18 b(is)f(wh)o(y)h(p)q(erio)q(ds)g
(don't)g(mak)o(e)e(sense)j(in)f(terminal)e(sym)o(b)q(ols.\))26
b(See)19 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Calling)0
1164 y(Con)o(v)o(en)o(tion)14 b(for)g Fj(yylex)p Fo(],)g(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 1301 y(If)i Fj(yylex)f
Fo(is)g(de\014ned)i(in)e(a)h(separate)f(\014le,)g(y)o(ou)g(need)i(to)e
(arrange)f(for)h(the)h(tok)o(en-t)o(yp)q(e)f(macro)f(de\014nitions)0
1363 y(to)i(b)q(e)h(a)o(v)m(ailable)f(there.)27 b(Use)18
b(the)g(`)p Fj(-d)p Fo(')e(option)h(when)i(y)o(ou)e(run)h(Bison,)f(so)h
(that)f(it)g(will)f(write)h(these)h(macro)0 1425 y(de\014nitions)c(in)o
(to)g(a)g(separate)g(header)h(\014le)f(`)p Fk(name)p
Fj(.tab.h)p Fo(')e(whic)o(h)j(y)o(ou)f(can)g(include)h(in)g(the)f
(other)g(source)h(\014les)0 1487 y(that)f(need)j(it.)i(See)c
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([In)o(v)o(oking)d(Bison],)g(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 1624 y(The)23
b(sym)o(b)q(ol)d Fj(error)i Fo(is)g(a)g(terminal)e(sym)o(b)q(ol)g
(reserv)o(ed)j(for)e(error)h(reco)o(v)o(ery)g(\(see)g
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Error)0 1687 y(Reco)o(v)o(ery],)e
(page)f Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\);)j(y)o(ou)d(shouldn't)g
(use)g(it)f(for)h(an)o(y)g(other)g(purp)q(ose.)35 b(In)21
b(particular,)f Fj(yylex)0 1749 y Fo(should)15 b(nev)o(er)h(return)f
(this)f(v)m(alue.)0 1966 y Fn(3.3)33 b(Syn)n(tax)16 b(of)f(Grammar)g
(Rules)62 2103 y Fo(A)h(Bison)e(grammar)e(rule)j(has)g(the)g(follo)o
(wing)e(general)i(form:)120 2230 y Fk(result)q Fj(:)23
b Fk(comp)q(onen)o(ts)r Ff(:)8 b(:)g(:)311 2282 y Fj(;)0
2408 y Fo(where)k Fk(result)f Fo(is)g(the)h(non)o(terminal)d(sym)o(b)q
(ol)h(that)g(this)h(rule)g(describ)q(es)h(and)g Fk(comp)q(onen)o(ts)g
Fo(are)f(v)m(arious)g(terminal)0 2471 y(and)16 b(non)o(terminal)e(sym)o
(b)q(ols)g(that)i(are)g(put)g(together)f(b)o(y)h(this)g(rule)g(\(see)g
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Sym)o(b)q(ols],)d(page)i
Fm(h)p Fo(un-)0 2533 y(de\014ned)p Fm(i)p Fo(\).)62 2670
y(F)l(or)f(example,)p eop
%%Page: 43 45
43 44 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(43)120 183 y Fj(exp:)143 b(exp)23 b('+')h(exp)311 235
y(;)0 378 y Fo(sa)o(ys)17 b(that)g(t)o(w)o(o)f(groupings)h(of)g(t)o(yp)
q(e)h Fj(exp)p Fo(,)f(with)g(a)h(`)p Fj(+)p Fo(')e(tok)o(en)i(in)f(b)q
(et)o(w)o(een,)h(can)g(b)q(e)g(com)o(bined)f(in)o(to)g(a)g(larger)0
441 y(grouping)e(of)f(t)o(yp)q(e)i Fj(exp)p Fo(.)62 594
y(Whitespace)i(in)f(rules)h(is)f(signi\014can)o(t)g(only)g(to)g
(separate)g(sym)o(b)q(ols.)26 b(Y)l(ou)18 b(can)g(add)g(extra)f
(whitespace)g(as)0 656 y(y)o(ou)e(wish.)62 810 y(Scattered)h(among)f
(the)h(comp)q(onen)o(ts)f(can)i(b)q(e)g Fk(actions)g
Fo(that)e(determine)g(the)i(seman)o(tics)d(of)i(the)g(rule.)23
b(An)0 872 y(action)14 b(lo)q(oks)h(lik)o(e)f(this:)120
1015 y Fj({)p Fk(C)h(statemen)o(ts)r Fj(})0 1169 y Fo(Usually)c(there)i
(is)f(only)f(one)i(action)e(and)i(it)e(follo)o(ws)g(the)h(comp)q(onen)o
(ts.)18 b(See)13 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Actions],)f(page)
g Fm(h)p Fo(un-)0 1231 y(de\014ned)p Fm(i)p Fo(.)62 1385
y(Multiple)f(rules)g(for)g(the)g(same)f Fk(result)i Fo(can)g(b)q(e)g
(written)f(separately)f(or)h(can)h(b)q(e)g(joined)f(with)g(the)g(v)o
(ertical-bar)0 1447 y(c)o(haracter)j(`)p Fj(|)p Fo(')h(as)g(follo)o
(ws:)120 1590 y Fk(result)q Fj(:)95 b Fk(rule1-comp)q(onen)o(ts)r
Ff(:)8 b(:)g(:)311 1642 y Fj(|)24 b Fk(rule2-comp)q(onen)o(ts)r
Ff(:)8 b(:)g(:)311 1694 y(:)g(:)g(:)311 1746 y Fj(;)0
1889 y Fo(They)15 b(are)g(still)f(considered)i(distinct)e(rules)h(ev)o
(en)g(when)h(joined)f(in)g(this)g(w)o(a)o(y)l(.)62 2043
y(If)e Fk(comp)q(onen)o(ts)h Fo(in)f(a)f(rule)h(is)f(empt)o(y)l(,)g(it)
g(means)g(that)g Fk(result)i Fo(can)e(matc)o(h)g(the)h(empt)o(y)e
(string.)18 b(F)l(or)12 b(example,)0 2105 y(here)k(is)e(ho)o(w)h(to)g
(de\014ne)h(a)f(comma-separated)d(sequence)17 b(of)d(zero)h(or)g(more)f
Fj(exp)h Fo(groupings:)120 2248 y Fj(expseq:)71 b(/*)23
b(empty)g(*/)311 2300 y(|)h(expseq1)311 2352 y(;)120
2423 y(expseq1:)47 b(exp)311 2475 y(|)24 b(expseq1)f(',')g(exp)311
2527 y(;)0 2670 y Fo(It)15 b(is)g(customary)e(to)i(write)f(a)h(commen)o
(t)e(`)p Fj(/*)h(empty)h(*/)p Fo(')f(in)h(eac)o(h)g(rule)h(with)e(no)h
(comp)q(onen)o(ts.)p eop
%%Page: 44 46
44 45 bop 0 -58 a Fo(44)1697 b(Bison)15 b(1.25)0 183
y Fn(3.4)33 b(Recursiv)n(e)16 b(Rules)62 336 y Fo(A)d(rule)g(is)g
(called)f Fk(recursiv)o(e)k Fo(when)d(its)g Fk(result)g
Fo(non)o(terminal)e(app)q(ears)i(also)f(on)h(its)f(righ)o(t)g(hand)h
(side.)20 b(Nearly)0 399 y(all)13 b(Bison)h(grammars)d(need)k(to)e(use)
i(recursion,)f(b)q(ecause)h(that)e(is)h(the)g(only)g(w)o(a)o(y)f(to)h
(de\014ne)h(a)f(sequence)i(of)d(an)o(y)0 461 y(n)o(um)o(b)q(er)h(of)g
(somethings.)k(Consider)d(this)f(recursiv)o(e)g(de\014nition)h(of)f(a)g
(comma-separated)e(sequence)k(of)f(one)f(or)0 523 y(more)g
(expressions:)120 666 y Fj(expseq1:)47 b(exp)311 718
y(|)24 b(expseq1)f(',')g(exp)311 770 y(;)0 912 y Fo(Since)18
b(the)f(recursiv)o(e)f(use)i(of)e Fj(expseq1)g Fo(is)h(the)g(leftmost)e
(sym)o(b)q(ol)g(in)i(the)g(righ)o(t)f(hand)h(side,)g(w)o(e)g(call)f
(this)h Fk(left)0 975 y(recursion)p Fo(.)j(By)15 b(con)o(trast,)e(here)
j(the)f(same)f(construct)h(is)g(de\014ned)h(using)f Fk(righ)o(t)f
(recursion)p Fo(:)120 1117 y Fj(expseq1:)47 b(exp)311
1169 y(|)24 b(exp)f(',')h(expseq1)311 1221 y(;)0 1364
y Fo(An)o(y)16 b(kind)g(of)g(sequence)h(can)g(b)q(e)f(de\014ned)i
(using)e(either)f(left)h(recursion)g(or)f(righ)o(t)g(recursion,)h(but)g
(y)o(ou)g(should)0 1426 y(alw)o(a)o(ys)c(use)j(left)e(recursion,)h(b)q
(ecause)h(it)e(can)h(parse)g(a)g(sequence)h(of)f(an)o(y)f(n)o(um)o(b)q
(er)h(of)f(elemen)o(ts)g(with)h(b)q(ounded)0 1488 y(stac)o(k)19
b(space.)36 b(Righ)o(t)20 b(recursion)g(uses)g(up)h(space)f(on)h(the)f
(Bison)g(stac)o(k)f(in)h(prop)q(ortion)g(to)f(the)i(n)o(um)o(b)q(er)e
(of)0 1551 y(elemen)o(ts)c(in)i(the)g(sequence,)h(b)q(ecause)g(all)e
(the)g(elemen)o(ts)g(m)o(ust)f(b)q(e)j(shifted)e(on)o(to)g(the)h(stac)o
(k)f(b)q(efore)h(the)g(rule)0 1613 y(can)h(b)q(e)h(applied)f(ev)o(en)h
(once.)29 b(See)19 b Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([The)e(Bison)g
(P)o(arser)f(Algorithm)e(],)k(page)f Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(,)i(for)0 1675 y(further)15 b(explanation)f(of)h(this.)62
1828 y Fk(Indirect)j Fo(or)d Fk(m)o(utual)h Fo(recursion)g(o)q(ccurs)g
(when)h(the)f(result)f(of)h(the)g(rule)f(do)q(es)i(not)e(app)q(ear)i
(directly)e(on)h(its)0 1890 y(righ)o(t)d(hand)i(side,)f(but)g(do)q(es)h
(app)q(ear)g(in)f(rules)g(for)g(other)g(non)o(terminals)e(whic)o(h)i
(do)g(app)q(ear)h(on)f(its)f(righ)o(t)h(hand)0 1953 y(side.)62
2106 y(F)l(or)h(example:)120 2248 y Fj(expr:)119 b(primary)311
2300 y(|)24 b(primary)f('+')g(primary)311 2352 y(;)120
2424 y(primary:)47 b(constant)311 2475 y(|)24 b('\(')f(expr)g('\)')311
2527 y(;)0 2670 y Fo(de\014nes)16 b(t)o(w)o(o)e(m)o(utually-recursiv)o
(e)f(non)o(terminals,)f(since)k(eac)o(h)f(refers)g(to)g(the)g(other.)p
eop
%%Page: 45 47
45 46 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(45)0 183 y Fn(3.5)33 b(De\014ning)15 b(Language)g(Seman)n(tics)62
324 y Fo(The)f(grammar)c(rules)k(for)f(a)g(language)g(determine)g(only)
g(the)g(syn)o(tax.)19 b(The)14 b(seman)o(tics)e(are)h(determined)g(b)o
(y)0 386 y(the)j(seman)o(tic)e(v)m(alues)i(asso)q(ciated)f(with)h(v)m
(arious)f(tok)o(ens)h(and)g(groupings,)f(and)h(b)o(y)g(the)g(actions)f
(tak)o(en)g(when)0 449 y(v)m(arious)g(groupings)f(are)h(recognized.)62
589 y(F)l(or)10 b(example,)h(the)f(calculator)g(calculates)g(prop)q
(erly)g(b)q(ecause)i(the)f(v)m(alue)g(asso)q(ciated)f(with)g(eac)o(h)h
(expression)0 652 y(is)17 b(the)h(prop)q(er)g(n)o(um)o(b)q(er;)g(it)g
(adds)f(prop)q(erly)h(b)q(ecause)h(the)f(action)f(for)g(the)h(grouping)
f(`)p Fk(x)h Fj(+)d Fk(y)t Fo(')i(is)h(to)f(add)h(the)0
714 y(n)o(um)o(b)q(ers)c(asso)q(ciated)h(with)f Fk(x)19
b Fo(and)c Fk(y)p Fo(.)0 955 y Fh(3.5.1)30 b(Data)15
b(T)n(yp)r(es)g(of)g(Seman)n(tic)e(V)-5 b(alues)62 1096
y Fo(In)18 b(a)f(simple)e(program)g(it)h(ma)o(y)f(b)q(e)j(su\016cien)o
(t)f(to)f(use)h(the)h(same)d(data)i(t)o(yp)q(e)g(for)f(the)h(seman)o
(tic)e(v)m(alues)i(of)0 1158 y(all)e(language)g(constructs.)23
b(This)15 b(w)o(as)h(true)g(in)g(the)g(RPN)h(and)f(in\014x)g
(calculator)f(examples)g(\(see)h Fm(h)p Fo(unde\014ned)p
Fm(i)0 1221 y Fo([Rev)o(erse)f(P)o(olish)f(Notation)g(Calculator],)f
(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)62 1361
y(Bison's)j(default)f(is)h(to)g(use)g(t)o(yp)q(e)g Fj(int)g
Fo(for)g(all)f(seman)o(tic)f(v)m(alues.)29 b(T)l(o)18
b(sp)q(ecify)h(some)d(other)i(t)o(yp)q(e,)h(de\014ne)0
1424 y Fj(YYSTYPE)14 b Fo(as)h(a)g(macro,)e(lik)o(e)h(this:)120
1554 y Fj(#define)23 b(YYSTYPE)g(double)0 1695 y Fo(This)17
b(macro)f(de\014nition)h(m)o(ust)f(go)h(in)g(the)h(C)f(declarations)f
(section)h(of)g(the)h(grammar)c(\014le)j(\(see)h Fm(h)p
Fo(unde\014ned)p Fm(i)0 1757 y Fo([Outline)d(of)g(a)f(Bison)h(Grammar])
o(,)d(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0
1999 y Fh(3.5.2)30 b(More)15 b(Than)g(One)g(V)-5 b(alue)14
b(T)n(yp)r(e)62 2139 y Fo(In)g(most)d(programs,)g(y)o(ou)i(will)f(need)
i(di\013eren)o(t)f(data)f(t)o(yp)q(es)h(for)g(di\013eren)o(t)f(kinds)h
(of)g(tok)o(ens)g(and)g(groupings.)0 2202 y(F)l(or)j(example,)g(a)h(n)o
(umeric)f(constan)o(t)g(ma)o(y)g(need)i(t)o(yp)q(e)f
Fj(int)f Fo(or)h Fj(long)p Fo(,)f(while)h(a)g(string)f(constan)o(t)g
(needs)i(t)o(yp)q(e)0 2264 y Fj(char)d(*)p Fo(,)f(and)i(an)f(iden)o
(ti\014er)g(migh)o(t)e(need)j(a)f(p)q(oin)o(ter)f(to)h(an)g(en)o(try)g
(in)g(the)g(sym)o(b)q(ol)f(table.)62 2405 y(T)l(o)g(use)h(more)d(than)j
(one)f(data)f(t)o(yp)q(e)i(for)e(seman)o(tic)g(v)m(alues)h(in)g(one)g
(parser,)g(Bison)g(requires)g(y)o(ou)g(to)f(do)h(t)o(w)o(o)0
2467 y(things:)37 2608 y Fm(\017)30 b Fo(Sp)q(ecify)20
b(the)g(en)o(tire)f(collection)f(of)h(p)q(ossible)h(data)f(t)o(yp)q
(es,)h(with)f(the)h Fj(\045union)e Fo(Bison)i(declaration)e(\(see)90
2670 y Fm(h)p Fo(unde\014ned)p Fm(i)e Fo([The)f(Collection)f(of)h(V)l
(alue)g(T)o(yp)q(es],)g(page)g Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(\).)p eop
%%Page: 46 48
46 47 bop 0 -58 a Fo(46)1697 b(Bison)15 b(1.25)37 183
y Fm(\017)30 b Fo(Cho)q(ose)13 b(one)f(of)h(those)f(t)o(yp)q(es)h(for)f
(eac)o(h)h(sym)o(b)q(ol)e(\(terminal)f(or)i(non)o(terminal\))e(for)i
(whic)o(h)h(seman)o(tic)e(v)m(alues)90 246 y(are)17 b(used.)25
b(This)16 b(is)h(done)g(for)f(tok)o(ens)g(with)h(the)f
Fj(\045token)g Fo(Bison)h(declaration)f(\(see)g Fm(h)p
Fo(unde\014ned)p Fm(i)i Fo([T)l(ok)o(en)90 308 y(T)o(yp)q(e)k(Names],)g
(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\))h(and)f(for)g(groupings)f
(with)h(the)g Fj(\045type)f Fo(Bison)h(declaration)f(\(see)90
370 y Fm(h)p Fo(unde\014ned)p Fm(i)16 b Fo([Non)o(terminal)d(Sym)o(b)q
(ols],)g(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0
643 y Fh(3.5.3)30 b(Actions)62 787 y Fo(An)12 b(action)e(accompanies)g
(a)h(syn)o(tactic)f(rule)i(and)f(con)o(tains)f(C)h(co)q(de)h(to)f(b)q
(e)h(executed)g(eac)o(h)f(time)f(an)h(instance)0 850
y(of)i(that)f(rule)h(is)f(recognized.)20 b(The)13 b(task)f(of)h(most)e
(actions)i(is)f(to)h(compute)f(a)g(seman)o(tic)g(v)m(alue)h(for)f(the)i
(grouping)0 912 y(built)h(b)o(y)g(the)g(rule)g(from)e(the)j(seman)o
(tic)d(v)m(alues)j(asso)q(ciated)e(with)g(tok)o(ens)h(or)g(smaller)e
(groupings.)62 1056 y(An)k(action)e(consists)h(of)g(C)g(statemen)o(ts)e
(surrounded)j(b)o(y)f(braces,)g(m)o(uc)o(h)g(lik)o(e)f(a)h(comp)q(ound)
g(statemen)o(t)e(in)0 1118 y(C.)f(It)h(can)g(b)q(e)h(placed)f(at)f(an)o
(y)h(p)q(osition)f(in)h(the)g(rule;)g(it)f(is)g(executed)i(at)e(that)h
(p)q(osition.)k(Most)13 b(rules)h(ha)o(v)o(e)f(just)0
1181 y(one)i(action)e(at)h(the)h(end)g(of)f(the)h(rule,)f(follo)o(wing)
e(all)i(the)g(comp)q(onen)o(ts.)19 b(Actions)14 b(in)h(the)f(middle)g
(of)g(a)g(rule)g(are)0 1243 y(tric)o(ky)e(and)g(used)h(only)g(for)f(sp)
q(ecial)g(purp)q(oses)h(\(see)g Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Actions)f(in)g(Mid-Rule],)h(page)f Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(\).)62 1387 y(The)i(C)e(co)q(de)i(in)f(an)g
(action)f(can)i(refer)f(to)f(the)h(seman)o(tic)f(v)m(alues)h(of)g(the)g
(comp)q(onen)o(ts)f(matc)o(hed)g(b)o(y)h(the)g(rule)0
1450 y(with)k(the)g(construct)g Fj($)p Fk(n)p Fo(,)g(whic)o(h)g(stands)
g(for)g(the)g(v)m(alue)h(of)e(the)i Fk(n)p Fo(th)f(comp)q(onen)o(t.)25
b(The)18 b(seman)o(tic)d(v)m(alue)j(for)0 1512 y(the)c(grouping)f(b)q
(eing)h(constructed)g(is)f Fj($$)p Fo(.)19 b(\(Bison)13
b(translates)f(b)q(oth)i(of)f(these)h(constructs)f(in)o(to)g(arra)o(y)f
(elemen)o(t)0 1574 y(references)k(when)g(it)e(copies)h(the)g(actions)g
(in)o(to)f(the)h(parser)g(\014le.\))62 1718 y(Here)h(is)e(a)h(t)o
(ypical)f(example:)120 1852 y Fj(exp:)95 b Ff(:)8 b(:)g(:)311
1904 y Fj(|)24 b(exp)f('+')h(exp)406 1956 y({)g($$)g(=)f($1)h(+)g($3;)f
(})0 2090 y Fo(This)18 b(rule)h(constructs)f(an)g Fj(exp)g
Fo(from)f(t)o(w)o(o)g(smaller)g Fj(exp)h Fo(groupings)f(connected)j(b)o
(y)e(a)h(plus-sign)f(tok)o(en.)29 b(In)0 2152 y(the)15
b(action,)f Fj($1)h Fo(and)h Fj($3)e Fo(refer)i(to)e(the)h(seman)o(tic)
f(v)m(alues)h(of)g(the)g(t)o(w)o(o)f(comp)q(onen)o(t)g
Fj(exp)h Fo(groupings,)f(whic)o(h)h(are)0 2214 y(the)g(\014rst)g(and)g
(third)f(sym)o(b)q(ols)g(on)h(the)g(righ)o(t)e(hand)j(side)f(of)f(the)h
(rule.)20 b(The)15 b(sum)f(is)h(stored)f(in)o(to)g Fj($$)h
Fo(so)f(that)h(it)0 2277 y(b)q(ecomes)g(the)h(seman)o(tic)d(v)m(alue)j
(of)f(the)h(addition-expression)e(just)i(recognized)f(b)o(y)h(the)f
(rule.)21 b(If)15 b(there)h(w)o(ere)f(a)0 2339 y(useful)g(seman)o(tic)f
(v)m(alue)h(asso)q(ciated)g(with)f(the)h(`)p Fj(+)p Fo(')g(tok)o(en,)f
(it)g(could)i(b)q(e)g(referred)f(to)f(as)h Fj($2)p Fo(.)62
2483 y(If)i(y)o(ou)g(don't)g(sp)q(ecify)g(an)g(action)f(for)g(a)h
(rule,)g(Bison)f(supplies)h(a)g(default:)23 b Fj($$)15
b(=)g($1)p Fo(.)h(Th)o(us,)h(the)g(v)m(alue)g(of)0 2545
y(the)d(\014rst)g(sym)o(b)q(ol)e(in)i(the)g(rule)f(b)q(ecomes)h(the)g
(v)m(alue)g(of)g(the)g(whole)f(rule.)20 b(Of)14 b(course,)g(the)g
(default)f(rule)h(is)f(v)m(alid)0 2608 y(only)j(if)g(the)g(t)o(w)o(o)f
(data)h(t)o(yp)q(es)g(matc)o(h.)22 b(There)16 b(is)g(no)h(meaningful)d
(default)i(action)g(for)f(an)i(empt)o(y)e(rule;)h(ev)o(ery)0
2670 y(empt)o(y)e(rule)h(m)o(ust)f(ha)o(v)o(e)g(an)h(explicit)g(action)
f(unless)i(the)f(rule's)f(v)m(alue)i(do)q(es)f(not)g(matter.)p
eop
%%Page: 47 49
47 48 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(47)62 183 y Fj($)p Fk(n)16 b Fo(with)f Fk(n)h Fo(zero)g(or)f(negativ)
o(e)g(is)g(allo)o(w)o(ed)f(for)h(reference)h(to)f(tok)o(ens)h(and)f
(groupings)g(on)h(the)g(stac)o(k)f Fk(b)q(efore)0 246
y Fo(those)f(that)g(matc)o(h)f(the)i(curren)o(t)g(rule.)k(This)c(is)f
(a)g(v)o(ery)g(risky)g(practice,)h(and)f(to)g(use)h(it)f(reliably)g(y)o
(ou)g(m)o(ust)f(b)q(e)0 308 y(certain)g(of)g(the)g(con)o(text)g(in)g
(whic)o(h)g(the)h(rule)f(is)g(applied.)19 b(Here)14 b(is)f(a)g(case)g
(in)g(whic)o(h)g(y)o(ou)h(can)f(use)h(this)f(reliably:)120
435 y Fj(foo:)143 b(expr)23 b(bar)g('+')h(expr)47 b({)24
b Ff(:)8 b(:)g(:)22 b Fj(})311 487 y(|)i(expr)f(bar)g('-')h(expr)47
b({)24 b Ff(:)8 b(:)g(:)22 b Fj(})311 539 y(;)120 610
y(bar:)143 b(/*)23 b(empty)g(*/)311 662 y({)h(previous_expr)e(=)h($0;)h
(})311 714 y(;)62 841 y Fo(As)d(long)f(as)h Fj(bar)f
Fo(is)h(used)g(only)f(in)h(the)g(fashion)f(sho)o(wn)h(here,)h
Fj($0)f Fo(alw)o(a)o(ys)e(refers)i(to)f(the)h Fj(expr)f
Fo(whic)o(h)0 904 y(precedes)c Fj(bar)f Fo(in)g(the)g(de\014nition)g
(of)g Fj(foo)p Fo(.)0 1118 y Fh(3.5.4)30 b(Data)15 b(T)n(yp)r(es)g(of)g
(V)-5 b(alues)14 b(in)g(Actions)62 1256 y Fo(If)h(y)o(ou)f(ha)o(v)o(e)f
(c)o(hosen)i(a)f(single)f(data)h(t)o(yp)q(e)g(for)g(seman)o(tic)e(v)m
(alues,)i(the)h Fj($$)e Fo(and)i Fj($)p Fk(n)f Fo(constructs)g(alw)o(a)
o(ys)e(ha)o(v)o(e)0 1318 y(that)i(data)h(t)o(yp)q(e.)62
1456 y(If)e(y)o(ou)f(ha)o(v)o(e)f(used)i Fj(\045union)e
Fo(to)h(sp)q(ecify)h(a)e(v)m(ariet)o(y)h(of)g(data)f(t)o(yp)q(es,)i
(then)f(y)o(ou)g(m)o(ust)f(declare)h(a)g(c)o(hoice)g(among)0
1518 y(these)18 b(t)o(yp)q(es)f(for)g(eac)o(h)h(terminal)d(or)i(non)o
(terminal)f(sym)o(b)q(ol)g(that)h(can)g(ha)o(v)o(e)g(a)h(seman)o(tic)e
(v)m(alue.)27 b(Then)18 b(eac)o(h)0 1581 y(time)13 b(y)o(ou)i(use)g
Fj($$)f Fo(or)g Fj($)p Fk(n)p Fo(,)h(its)f(data)g(t)o(yp)q(e)h(is)f
(determined)g(b)o(y)h(whic)o(h)f(sym)o(b)q(ol)f(it)h(refers)h(to)f(in)h
(the)g(rule.)k(In)d(this)0 1643 y(example,)120 1770 y
Fj(exp:)95 b Ff(:)8 b(:)g(:)311 1822 y Fj(|)24 b(exp)f('+')h(exp)406
1874 y({)g($$)g(=)f($1)h(+)g($3;)f(})0 2002 y($1)18 b
Fo(and)g Fj($3)g Fo(refer)g(to)f(instances)h(of)g Fj(exp)p
Fo(,)g(so)g(they)g(all)f(ha)o(v)o(e)g(the)i(data)e(t)o(yp)q(e)h
(declared)h(for)e(the)h(non)o(terminal)0 2064 y(sym)o(b)q(ol)e
Fj(exp)p Fo(.)26 b(If)18 b Fj($2)f Fo(w)o(ere)g(used,)i(it)d(w)o(ould)h
(ha)o(v)o(e)g(the)h(data)f(t)o(yp)q(e)g(declared)h(for)f(the)h
(terminal)d(sym)o(b)q(ol)h Fj('+')p Fo(,)0 2126 y(whatev)o(er)f(that)f
(migh)o(t)f(b)q(e.)62 2264 y(Alternativ)o(ely)l(,)i(y)o(ou)g(can)h(sp)q
(ecify)h(the)f(data)f(t)o(yp)q(e)h(when)h(y)o(ou)f(refer)g(to)f(the)h
(v)m(alue,)g(b)o(y)g(inserting)f(`)p Fj(<)p Fk(t)o(yp)q(e)s
Fj(>)p Fo(')0 2326 y(after)j(the)g(`)p Fj($)p Fo(')f(at)h(the)g(b)q
(eginning)h(of)f(the)g(reference.)30 b(F)l(or)17 b(example,)h(if)g(y)o
(ou)g(ha)o(v)o(e)f(de\014ned)j(t)o(yp)q(es)e(as)g(sho)o(wn)0
2388 y(here:)120 2516 y Fj(\045union)23 b({)168 2568
y(int)g(itype;)168 2620 y(double)g(dtype;)120 2671 y(})p
eop
%%Page: 48 50
48 49 bop 0 -58 a Fo(48)1697 b(Bison)15 b(1.25)0 183
y(then)h(y)o(ou)f(can)h(write)e Fj($<itype>1)g Fo(to)h(refer)g(to)g
(the)h(\014rst)f(subunit)h(of)f(the)g(rule)g(as)h(an)f(in)o(teger,)f
(or)h Fj($<dtype>1)0 246 y Fo(to)g(refer)g(to)f(it)h(as)f(a)h(double.)0
453 y Fh(3.5.5)30 b(Actions)14 b(in)h(Mid-Rule)62 590
y Fo(Occasionally)f(it)g(is)g(useful)g(to)g(put)h(an)g(action)e(in)i
(the)f(middle)g(of)g(a)g(rule.)20 b(These)15 b(actions)e(are)i(written)
e(just)0 652 y(lik)o(e)g(usual)g(end-of-rule)h(actions,)f(but)g(they)h
(are)f(executed)i(b)q(efore)e(the)h(parser)f(ev)o(en)h(recognizes)g
(the)f(follo)o(wing)0 715 y(comp)q(onen)o(ts.)62 852
y(A)k(mid-rule)f(action)h(ma)o(y)e(refer)i(to)f(the)i(comp)q(onen)o(ts)
e(preceding)h(it)g(using)g Fj($)p Fk(n)p Fo(,)g(but)g(it)g(ma)o(y)e
(not)i(refer)g(to)0 914 y(subsequen)o(t)f(comp)q(onen)o(ts)e(b)q
(ecause)i(it)f(is)f(run)i(b)q(efore)f(they)h(are)f(parsed.)62
1051 y(The)h(mid-rule)d(action)i(itself)f(coun)o(ts)g(as)h(one)g(of)g
(the)g(comp)q(onen)o(ts)f(of)h(the)g(rule.)20 b(This)14
b(mak)o(es)g(a)h(di\013erence)0 1113 y(when)h(there)g(is)f(another)g
(action)g(later)f(in)i(the)g(same)e(rule)h(\(and)h(usually)f(there)g
(is)g(another)h(at)f(the)g(end\):)21 b(y)o(ou)0 1176
y(ha)o(v)o(e)15 b(to)f(coun)o(t)h(the)g(actions)g(along)f(with)g(the)i
(sym)o(b)q(ols)d(when)j(w)o(orking)e(out)g(whic)o(h)h(n)o(um)o(b)q(er)g
Fk(n)g Fo(to)g(use)g(in)g Fj($)p Fk(n)p Fo(.)62 1313
y(The)22 b(mid-rule)f(action)g(can)h(also)f(ha)o(v)o(e)g(a)g(seman)o
(tic)f(v)m(alue.)40 b(The)22 b(action)f(can)h(set)g(its)f(v)m(alue)h
(with)f(an)0 1375 y(assignmen)o(t)15 b(to)i Fj($$)p Fo(,)g(and)g
(actions)g(later)f(in)h(the)h(rule)f(can)g(refer)g(to)g(the)g(v)m(alue)
h(using)f Fj($)p Fk(n)p Fo(.)26 b(Since)18 b(there)f(is)g(no)0
1437 y(sym)o(b)q(ol)c(to)h(name)g(the)g(action,)g(there)h(is)f(no)g(w)o
(a)o(y)g(to)g(declare)h(a)f(data)g(t)o(yp)q(e)h(for)f(the)h(v)m(alue)f
(in)h(adv)m(ance,)g(so)f(y)o(ou)0 1499 y(m)o(ust)g(use)h(the)g(`)p
Fj($<)p Ff(:)8 b(:)g(:)n Fj(>)p Fo(')14 b(construct)h(to)g(sp)q(ecify)g
(a)g(data)g(t)o(yp)q(e)g(eac)o(h)g(time)f(y)o(ou)h(refer)g(to)f(this)h
(v)m(alue.)62 1636 y(There)h(is)f(no)h(w)o(a)o(y)e(to)h(set)h(the)f(v)m
(alue)h(of)f(the)h(en)o(tire)f(rule)g(with)g(a)h(mid-rule)e(action,)h
(b)q(ecause)h(assignmen)o(ts)0 1699 y(to)e Fj($$)h Fo(do)f(not)h(ha)o
(v)o(e)f(that)g(e\013ect.)20 b(The)15 b(only)f(w)o(a)o(y)g(to)g(set)h
(the)g(v)m(alue)g(for)f(the)h(en)o(tire)f(rule)h(is)f(with)g(an)h
(ordinary)0 1761 y(action)f(at)h(the)g(end)h(of)f(the)g(rule.)62
1898 y(Here)g(is)e(an)h(example)f(from)g(a)h(h)o(yp)q(othetical)f
(compiler,)f(handling)i(a)g Fj(let)g Fo(statemen)o(t)e(that)h(lo)q(oks)
g(lik)o(e)h(`)p Fj(let)0 1960 y(\()p Fk(v)m(ariable)s
Fj(\))g Fk(statemen)o(t)q Fo(')f(and)i(serv)o(es)g(to)g(create)g(a)g(v)
m(ariable)g(named)f Fk(v)m(ariable)k Fo(temp)q(orarily)13
b(for)h(the)i(duration)0 2022 y(of)e Fk(statemen)o(t)p
Fo(.)k(T)l(o)c(parse)h(this)f(construct,)g(w)o(e)g(m)o(ust)f(put)i
Fk(v)m(ariable)i Fo(in)o(to)c(the)i(sym)o(b)q(ol)e(table)h(while)g
Fk(statemen)o(t)0 2085 y Fo(is)h(parsed,)g(then)g(remo)o(v)o(e)f(it)g
(afterw)o(ard.)19 b(Here)c(is)g(ho)o(w)f(it)h(is)g(done:)120
2211 y Fj(stmt:)71 b(LET)23 b('\(')h(var)f('\)')502 2263
y({)h($<context>$)e(=)i(push_context)e(\(\);)550 2315
y(declare_variable)f(\($3\);)i(})311 2367 y(stmt)95 b({)24
b($$)f(=)h($6;)550 2419 y(pop_context)e(\($<context>5\);)g(})0
2545 y Fo(As)e(so)q(on)f(as)h(`)p Fj(let)14 b(\()p Fk(v)m(ariable)s
Fj(\))p Fo(')k(has)i(b)q(een)g(recognized,)h(the)f(\014rst)f(action)g
(is)g(run.)34 b(It)20 b(sa)o(v)o(es)f(a)g(cop)o(y)h(of)f(the)0
2608 y(curren)o(t)f(seman)o(tic)e(con)o(text)i(\(the)g(list)e(of)i
(accessible)g(v)m(ariables\))f(as)h(its)f(seman)o(tic)f(v)m(alue,)j
(using)f(alternativ)o(e)0 2670 y Fj(context)c Fo(in)h(the)g(data-t)o
(yp)q(e)g(union.)20 b(Then)c(it)e(calls)g Fj(declare_variable)f
Fo(to)i(add)g(the)g(new)h(v)m(ariable)e(to)h(that)p eop
%%Page: 49 51
49 50 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(49)0 183 y(list.)21 b(Once)16 b(the)g(\014rst)g(action)f(is)g
(\014nished,)i(the)e(em)o(b)q(edded)i(statemen)o(t)d
Fj(stmt)h Fo(can)h(b)q(e)g(parsed.)22 b(Note)16 b(that)f(the)0
246 y(mid-rule)f(action)g(is)h(comp)q(onen)o(t)f(n)o(um)o(b)q(er)h(5,)f
(so)h(the)g(`)p Fj(stmt)p Fo(')f(is)h(comp)q(onen)o(t)f(n)o(um)o(b)q
(er)h(6.)62 386 y(After)20 b(the)h(em)o(b)q(edded)g(statemen)o(t)d(is)i
(parsed,)h(its)f(seman)o(tic)e(v)m(alue)j(b)q(ecomes)f(the)g(v)m(alue)h
(of)f(the)h(en)o(tire)0 448 y Fj(let)p Fo(-statemen)o(t.)f(Then)c(the)g
(seman)o(tic)e(v)m(alue)j(from)d(the)i(earlier)f(action)g(is)g(used)i
(to)e(restore)g(the)h(prior)g(list)e(of)0 511 y(v)m(ariables.)23
b(This)17 b(remo)o(v)o(es)d(the)j(temp)q(orary)e Fj(let)p
Fo(-v)m(ariable)h(from)e(the)j(list)f(so)g(that)g(it)f(w)o(on't)h(app)q
(ear)h(to)f(exist)0 573 y(while)f(the)g(rest)g(of)g(the)g(program)e(is)
i(parsed.)62 714 y(T)l(aking)d(action)f(b)q(efore)h(a)g(rule)g(is)f
(completely)g(recognized)h(often)g(leads)f(to)h(con\015icts)g(since)g
(the)g(parser)g(m)o(ust)0 776 y(commit)j(to)i(a)g(parse)h(in)f(order)h
(to)f(execute)h(the)g(action.)27 b(F)l(or)17 b(example,)g(the)g(follo)o
(wing)f(t)o(w)o(o)g(rules,)i(without)0 838 y(mid-rule)13
b(actions,)f(can)i(co)q(exist)g(in)f(a)h(w)o(orking)e(parser)i(b)q
(ecause)g(the)g(parser)g(can)g(shift)f(the)h(op)q(en-brace)g(tok)o(en)0
900 y(and)h(lo)q(ok)g(at)f(what)h(follo)o(ws)e(b)q(efore)j(deciding)f
(whether)g(there)h(is)e(a)h(declaration)f(or)h(not:)120
1031 y Fj(compound:)23 b('{')g(declarations)f(statements)h('}')311
1083 y(|)h('{')f(statements)g('}')311 1134 y(;)0 1265
y Fo(But)15 b(when)h(w)o(e)f(add)g(a)g(mid-rule)f(action)g(as)h(follo)o
(ws,)e(the)i(rules)g(b)q(ecome)g(nonfunctional:)120 1395
y Fj(compound:)23 b({)g(prepare_for_local_variables)e(\(\);)i(})359
1447 y('{')g(declarations)f(statements)h('}')311 1503
y(|)h('{')f(statements)g('}')311 1555 y(;)0 1685 y Fo(No)o(w)15
b(the)g(parser)g(is)g(forced)g(to)g(decide)h(whether)f(to)g(run)g(the)g
(mid-rule)f(action)h(when)h(it)e(has)h(read)g(no)h(farther)0
1747 y(than)21 b(the)g(op)q(en-brace.)38 b(In)22 b(other)f(w)o(ords,)g
(it)f(m)o(ust)g(commit)e(to)i(using)h(one)g(rule)g(or)f(the)h(other,)h
(without)0 1810 y(su\016cien)o(t)c(information)e(to)i(do)g(it)g
(correctly)l(.)29 b(\(The)19 b(op)q(en-brace)g(tok)o(en)g(is)f(what)g
(is)g(called)g(the)g Fk(lo)q(ok-ahead)0 1872 y Fo(tok)o(en)f(at)h(this)
f(time,)f(since)i(the)g(parser)f(is)h(still)e(deciding)i(what)f(to)g
(do)h(ab)q(out)g(it.)27 b(See)18 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Lo)q(ok-)0 1934 y(Ahead)d(T)l(ok)o(ens],)e(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.\))62 2075 y(Y)l(ou)j(migh)o(t)d
(think)h(that)h(y)o(ou)g(could)g(correct)f(the)i(problem)d(b)o(y)i
(putting)g(iden)o(tical)f(actions)g(in)o(to)g(the)h(t)o(w)o(o)0
2137 y(rules,)e(lik)o(e)f(this:)120 2267 y Fj(compound:)23
b({)g(prepare_for_local_variables)e(\(\);)i(})359 2319
y('{')g(declarations)f(statements)h('}')311 2371 y(|)h({)f
(prepare_for_local_variables)e(\(\);)i(})359 2423 y('{')g(statements)g
('}')311 2475 y(;)0 2608 y Fo(But)17 b(this)g(do)q(es)g(not)g(help,)h
(b)q(ecause)g(Bison)f(do)q(es)g(not)g(realize)f(that)h(the)g(t)o(w)o(o)
f(actions)g(are)h(iden)o(tical.)25 b(\(Bison)0 2670 y(nev)o(er)15
b(tries)g(to)f(understand)i(the)f(C)g(co)q(de)h(in)f(an)g(action.\))p
eop
%%Page: 50 52
50 51 bop 0 -58 a Fo(50)1697 b(Bison)15 b(1.25)62 183
y(If)d(the)f(gramma)o(r)d(is)j(suc)o(h)g(that)f(a)h(declaration)f(can)h
(b)q(e)g(distinguished)g(from)e(a)i(statemen)o(t)e(b)o(y)i(the)g
(\014rst)f(tok)o(en)0 246 y(\(whic)o(h)15 b(is)h(true)g(in)f(C\),)g
(then)i(one)f(solution)e(whic)o(h)i(do)q(es)g(w)o(ork)f(is)h(to)f(put)h
(the)g(action)f(after)g(the)h(op)q(en-brace,)0 308 y(lik)o(e)e(this:)
120 447 y Fj(compound:)23 b('{')g({)h(prepare_for_local_variabl)o(es)d
(\(\);)i(})359 498 y(declarations)f(statements)g('}')311
550 y(|)i('{')f(statements)g('}')311 602 y(;)0 741 y
Fo(No)o(w)16 b(the)h(\014rst)g(tok)o(en)f(of)h(the)g(follo)o(wing)d
(declaration)i(or)g(statemen)o(t,)f(whic)o(h)i(w)o(ould)f(in)h(an)o(y)f
(case)h(tell)f(Bison)0 803 y(whic)o(h)f(rule)g(to)g(use,)g(can)g(still)
f(do)h(so.)62 952 y(Another)e(solution)e(is)h(to)g(bury)h(the)f(action)
g(inside)g(a)g(non)o(terminal)f(sym)o(b)q(ol)f(whic)o(h)j(serv)o(es)f
(as)g(a)g(subroutine:)120 1091 y Fj(subroutine:)22 b(/*)i(empty)f(*/)
359 1143 y({)g(prepare_for_local_variables)e(\(\);)i(})311
1195 y(;)120 1318 y(compound:)g(subroutine)359 1370 y('{')g
(declarations)f(statements)h('}')311 1422 y(|)h(subroutine)359
1474 y('{')f(statements)g('}')311 1526 y(;)0 1664 y Fo(No)o(w)e(Bison)f
(can)i(execute)g(the)f(action)f(in)h(the)h(rule)f(for)f
Fj(subroutine)g Fo(without)g(deciding)h(whic)o(h)h(rule)f(for)0
1727 y Fj(compound)15 b Fo(it)h(will)f(ev)o(en)o(tually)h(use.)24
b(Note)16 b(that)g(the)g(action)g(is)g(no)o(w)g(at)g(the)g(end)h(of)f
(its)g(rule.)24 b(An)o(y)16 b(mid-rule)0 1789 y(action)f(can)h(b)q(e)h
(con)o(v)o(erted)f(to)f(an)h(end-of-rule)g(action)f(in)h(this)g(w)o(a)o
(y)l(,)f(and)h(this)f(is)h(what)f(Bison)h(actually)f(do)q(es)0
1851 y(to)g(implemen)o(t)d(mid-rule)i(actions.)0 2185
y Fn(3.6)33 b(Bison)15 b(Declarations)62 2334 y Fo(The)g
Fk(Bison)f(declarations)g Fo(section)g(of)g(a)g(Bison)f(grammar)e
(de\014nes)k(the)g(sym)o(b)q(ols)d(used)j(in)f(form)o(ulating)d(the)0
2396 y(grammar)h(and)j(the)g(data)g(t)o(yp)q(es)g(of)g(seman)o(tic)e(v)
m(alues.)20 b(See)c Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Sym)o(b)q(ols],)
12 b(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 2545
y(All)k(tok)o(en)h(t)o(yp)q(e)g(names)f(\(but)h(not)f(single-c)o
(haracter)g(literal)f(tok)o(ens)h(suc)o(h)i(as)e Fj('+')h
Fo(and)g Fj('*')p Fo(\))f(m)o(ust)f(b)q(e)0 2608 y(declared.)i(Non)o
(terminal)13 b(sym)o(b)q(ols)g(m)o(ust)h(b)q(e)h(declared)h(if)e(y)o
(ou)h(need)h(to)f(sp)q(ecify)g(whic)o(h)g(data)f(t)o(yp)q(e)i(to)e(use)
i(for)0 2670 y(the)f(seman)o(tic)f(v)m(alue)h(\(see)g
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([More)d(Than)h(One)h(V)l(alue)f(T)o
(yp)q(e],)g(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)p
eop
%%Page: 51 53
51 52 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(51)62 183 y(The)12 b(\014rst)f(rule)g(in)g(the)g(\014le)h(also)e(sp)q
(eci\014es)i(the)f(start)g(sym)o(b)q(ol,)f(b)o(y)h(default.)18
b(If)12 b(y)o(ou)e(w)o(an)o(t)h(some)f(other)h(sym)o(b)q(ol)0
246 y(to)h(b)q(e)i(the)e(start)g(sym)o(b)q(ol,)f(y)o(ou)h(m)o(ust)g
(declare)g(it)g(explicitly)g(\(see)h Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Languages)g(and)g(Con)o(text-F)l(ree)0 308
y(Grammar)o(s],)f(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(\).)0 536 y Fh(3.6.1)30 b(T)-5 b(ok)n(en)15 b(T)n(yp)r(e)g(Names)62
675 y Fo(The)h(basic)f(w)o(a)o(y)f(to)g(declare)h(a)g(tok)o(en)g(t)o
(yp)q(e)g(name)g(\(terminal)d(sym)o(b)q(ol\))h(is)i(as)g(follo)o(ws:)
120 804 y Fj(\045token)23 b Fk(name)62 943 y Fo(Bison)16
b(will)f(con)o(v)o(ert)g(this)h(in)o(to)f(a)g Fj(#define)g
Fo(directiv)o(e)h(in)g(the)g(parser,)f(so)h(that)f(the)h(function)g
Fj(yylex)g Fo(\(if)f(it)0 1006 y(is)g(in)g(this)f(\014le\))h(can)h(use)
f(the)g(name)g Fk(name)h Fo(to)f(stand)g(for)g(this)f(tok)o(en)h(t)o
(yp)q(e's)g(co)q(de.)62 1145 y(Alternativ)o(ely)l(,)c(y)o(ou)g(can)h
(use)g Fj(\045left)p Fo(,)f Fj(\045right)p Fo(,)g(or)h
Fj(\045nonassoc)e Fo(instead)h(of)h Fj(\045token)p Fo(,)f(if)g(y)o(ou)g
(wish)h(to)f(sp)q(ecify)0 1207 y(precedence.)22 b(See)15
b Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Op)q(erator)d(Precedence],)i(page)
f Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 1347 y(Y)l(ou)i(can)g
(explicitly)e(sp)q(ecify)i(the)f(n)o(umeric)g(co)q(de)h(for)f(a)g(tok)o
(en)g(t)o(yp)q(e)h(b)o(y)f(app)q(ending)h(an)g(in)o(teger)e(v)m(alue)i
(in)0 1409 y(the)e(\014eld)h(immediatel)o(y)d(follo)o(wing)g(the)i(tok)
o(en)g(name:)120 1538 y Fj(\045token)23 b(NUM)g(300)0
1677 y Fo(It)16 b(is)f(generally)g(b)q(est,)g(ho)o(w)o(ev)o(er,)g(to)g
(let)g(Bison)g(c)o(ho)q(ose)h(the)f(n)o(umeric)g(co)q(des)h(for)f(all)g
(tok)o(en)g(t)o(yp)q(es.)21 b(Bison)15 b(will)0 1739
y(automaticall)o(y)e(select)i(co)q(des)g(that)g(don't)g(con\015ict)g
(with)f(eac)o(h)h(other)g(or)g(with)f(ASCI)q(I)j(c)o(haracters.)62
1879 y(In)23 b(the)e(ev)o(en)o(t)h(that)f(the)g(stac)o(k)g(t)o(yp)q(e)h
(is)f(a)g(union,)i(y)o(ou)e(m)o(ust)g(augmen)o(t)f(the)h
Fj(\045token)g Fo(or)g(other)g(tok)o(en)0 1941 y(declaration)13
b(to)g(include)h(the)g(data)f(t)o(yp)q(e)h(alternativ)o(e)e(delimited)g
(b)o(y)i(angle-brac)o(k)o(ets)e(\(see)i Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([More)0 2003 y(Than)g(One)h(V)l(alue)f(T)o(yp)q(e],)g(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)62 2142 y(F)l(or)g(example:)120
2271 y Fj(\045union)23 b({)334 b(/*)24 b(define)f(stack)g(type)g(*/)168
2323 y(double)g(val;)168 2375 y(symrec)g(*tptr;)120 2427
y(})120 2479 y(\045token)g(<val>)g(NUM)143 b(/*)24 b(define)f(token)g
(NUM)g(and)h(its)f(type)g(*/)62 2608 y Fo(Y)l(ou)16 b(can)g(asso)q
(ciate)f(a)g(literal)f(string)h(tok)o(en)g(with)h(a)f(tok)o(en)g(t)o
(yp)q(e)h(name)f(b)o(y)h(writing)e(the)i(literal)e(string)h(at)0
2670 y(the)g(end)h(of)f(a)g Fj(\045token)f Fo(declaration)g(whic)o(h)h
(declares)g(the)h(name.)i(F)l(or)d(example:)p eop
%%Page: 52 54
52 53 bop 0 -58 a Fo(52)1697 b(Bison)15 b(1.25)120 183
y Fj(\045token)23 b(arrow)g("=>")0 324 y Fo(F)l(or)12
b(example,)f(a)h(grammar)d(for)j(the)h(C)f(language)f(migh)o(t)g(sp)q
(ecify)h(these)h(names)e(with)h(equiv)m(alen)o(t)g(literal)f(string)0
386 y(tok)o(ens:)120 517 y Fj(\045token)47 b(<operator>)f(OR)143
b("||")120 569 y(\045token)47 b(<operator>)f(LE)24 b(134)47
b("<=")120 621 y(\045left)g(OR)g("<=")0 761 y Fo(Once)13
b(y)o(ou)g(equate)f(the)h(literal)e(string)g(and)i(the)f(tok)o(en)g
(name,)g(y)o(ou)g(can)h(use)g(them)e(in)o(terc)o(hangeably)h(in)g
(further)0 824 y(declarations)g(or)h(the)g(grammar)d(rules.)19
b(The)14 b Fj(yylex)e Fo(function)h(can)h(use)g(the)f(tok)o(en)g(name)f
(or)h(the)g(literal)f(string)0 886 y(to)j(obtain)f(the)h(tok)o(en)g(t)o
(yp)q(e)g(co)q(de)h(n)o(um)o(b)q(er)f(\(see)g Fm(h)p
Fo(unde\014ned)p Fm(i)h Fo([Calling)d(Con)o(v)o(en)o(tion],)h(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0 1128 y Fh(3.6.2)30
b(Op)r(erator)14 b(Precedence)62 1269 y Fo(Use)i(the)g
Fj(\045left)p Fo(,)f Fj(\045right)g Fo(or)g Fj(\045nonassoc)f
Fo(declaration)h(to)g(declare)h(a)f(tok)o(en)g(and)h(sp)q(ecify)g(its)f
(precedence)0 1331 y(and)g(asso)q(ciativit)o(y)l(,)e(all)h(at)g(once.)
20 b(These)c(are)f(called)f Fk(precedence)j(declarations)p
Fo(.)i(See)c Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Op)q(erator)0
1394 y(Precedence],)f(page)f Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(,)h(for)f(general)f(information)f(on)i(op)q(erator)f
(precedence.)62 1534 y(The)i(syn)o(tax)e(of)h(a)g(precedence)i
(declaration)d(is)g(the)i(same)e(as)g(that)h(of)g Fj(\045token)p
Fo(:)k(either)120 1665 y Fj(\045left)k Fk(sym)o(b)q(ols)r
Ff(:)8 b(:)g(:)0 1806 y Fo(or)120 1936 y Fj(\045left)23
b(<)p Fk(t)o(yp)q(e)s Fj(>)g Fk(sym)o(b)q(ols)r Ff(:)8
b(:)g(:)62 2077 y Fo(And)21 b(indeed)h(an)o(y)e(of)g(these)h
(declarations)e(serv)o(es)i(the)f(purp)q(oses)i(of)e
Fj(\045token)p Fo(.)35 b(But)21 b(in)f(addition,)h(they)0
2139 y(sp)q(ecify)16 b(the)f(asso)q(ciativit)o(y)d(and)k(relativ)o(e)e
(precedence)i(for)f(all)f(the)h Fk(sym)o(b)q(ols)r Fo(:)37
2280 y Fm(\017)30 b Fo(The)12 b(asso)q(ciativit)o(y)d(of)i(an)g(op)q
(erator)g Fk(op)h Fo(determines)f(ho)o(w)g(rep)q(eated)h(uses)g(of)f
(the)g(op)q(erator)g(nest:)18 b(whether)90 2342 y(`)p
Fk(x)g(op)e(y)j(op)e(z)s Fo(')12 b(is)g(parsed)h(b)o(y)f(grouping)g
Fk(x)k Fo(with)c Fk(y)k Fo(\014rst)c(or)h(b)o(y)f(grouping)g
Fk(y)k Fo(with)c Fk(z)k Fo(\014rst.)i Fj(\045left)12
b Fo(sp)q(eci\014es)90 2405 y(left-asso)q(ciativit)o(y)f(\(grouping)i
Fk(x)k Fo(with)d Fk(y)k Fo(\014rst\))13 b(and)h Fj(\045right)g
Fo(sp)q(eci\014es)g(righ)o(t-asso)q(ciativit)o(y)d(\(grouping)i
Fk(y)90 2467 y Fo(with)d Fk(z)k Fo(\014rst\).)k Fj(\045nonassoc)9
b Fo(sp)q(eci\014es)j(no)f(asso)q(ciativit)o(y)l(,)e(whic)o(h)i(means)f
(that)g(`)p Fk(x)18 b(op)e(y)j(op)e(z)s Fo(')10 b(is)h(considered)90
2529 y(a)k(syn)o(tax)f(error.)37 2608 y Fm(\017)30 b
Fo(The)18 b(precedence)h(of)d(an)i(op)q(erator)e(determines)g(ho)o(w)h
(it)g(nests)g(with)f(other)h(op)q(erators.)26 b(All)16
b(the)h(tok)o(ens)90 2670 y(declared)e(in)f(a)g(single)g(precedence)i
(declaration)d(ha)o(v)o(e)h(equal)g(precedence)i(and)f(nest)f(together)
f(according)p eop
%%Page: 53 55
53 54 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(53)90 183 y(to)12 b(their)h(asso)q(ciativit)o(y)l(.)k(When)c(t)o(w)o
(o)f(tok)o(ens)g(declared)i(in)f(di\013eren)o(t)f(precedence)j
(declarations)c(asso)q(ciate,)90 246 y(the)k(one)h(declared)f(later)f
(has)h(the)h(higher)f(precedence)i(and)e(is)g(group)q(ed)g(\014rst.)0
463 y Fh(3.6.3)30 b(The)15 b(Collection)d(of)j(V)-5 b(alue)14
b(T)n(yp)r(es)62 601 y Fo(The)g Fj(\045union)f Fo(declaration)f(sp)q
(eci\014es)j(the)f(en)o(tire)f(collection)f(of)h(p)q(ossible)h(data)f
(t)o(yp)q(es)g(for)g(seman)o(tic)f(v)m(alues.)0 663 y(The)17
b(k)o(eyw)o(ord)f Fj(\045union)g Fo(is)h(follo)o(w)o(ed)e(b)o(y)i(a)g
(pair)f(of)h(braces)g(con)o(taining)e(the)i(same)f(thing)g(that)h(go)q
(es)f(inside)h(a)0 725 y Fj(union)d Fo(in)h(C.)62 864
y(F)l(or)g(example:)120 991 y Fj(\045union)23 b({)168
1043 y(double)g(val;)168 1095 y(symrec)g(*tptr;)120 1147
y(})0 1275 y Fo(This)14 b(sa)o(ys)g(that)g(the)h(t)o(w)o(o)e
(alternativ)o(e)g(t)o(yp)q(es)h(are)h Fj(double)e Fo(and)i
Fj(symrec)f(*)p Fo(.)20 b(They)15 b(are)f(giv)o(en)g(names)g
Fj(val)g Fo(and)0 1337 y Fj(tptr)p Fo(;)k(these)g(names)f(are)h(used)g
(in)g(the)g Fj(\045token)e Fo(and)j Fj(\045type)e Fo(declarations)f(to)
h(pic)o(k)h(one)g(of)f(the)h(t)o(yp)q(es)g(for)f(a)0
1399 y(terminal)c(or)i(non)o(terminal)e(sym)o(b)q(ol)g(\(see)i
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Non)o(terminal)12
b(Sym)o(b)q(ols],)h(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(\).)62 1537 y(Note)d(that,)f(unlik)o(e)g(making)f(a)h
Fj(union)g Fo(declaration)g(in)g(C,)g(y)o(ou)h(do)f(not)g(write)g(a)g
(semicolon)f(after)h(the)h(closing)0 1599 y(brace.)0
1817 y Fh(3.6.4)30 b(Non)n(terminal)12 b(Sym)n(b)r(ols)0
1955 y Fo(When)20 b(y)o(ou)f(use)h Fj(\045union)f Fo(to)g(sp)q(ecify)h
(m)o(ultiple)d(v)m(alue)j(t)o(yp)q(es,)g(y)o(ou)f(m)o(ust)f(declare)i
(the)f(v)m(alue)h(t)o(yp)q(e)g(of)f(eac)o(h)0 2017 y(non)o(terminal)13
b(sym)o(b)q(ol)g(for)i(whic)o(h)g(v)m(alues)g(are)g(used.)21
b(This)15 b(is)f(done)i(with)e(a)h Fj(\045type)g Fo(declaration,)e(lik)
o(e)i(this:)120 2145 y Fj(\045type)23 b(<)p Fk(t)o(yp)q(e)s
Fj(>)g Fk(non)o(terminal)r Ff(:)8 b(:)f(:)0 2283 y Fo(Here)12
b Fk(non)o(terminal)g Fo(is)f(the)h(name)f(of)h(a)f(non)o(terminal)f
(sym)o(b)q(ol,)h(and)h Fk(t)o(yp)q(e)j Fo(is)c(the)h(name)f(giv)o(en)h
(in)f(the)h Fj(\045union)g Fo(to)0 2345 y(the)j(alternativ)o(e)d(that)i
(y)o(ou)h(w)o(an)o(t)e(\(see)i Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([The)e(Collection)f(of)h(V)l(alue)h(T)o(yp)q(es],)f(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0 2407 y(Y)l(ou)i(can)g(giv)o(e)f
(an)o(y)h(n)o(um)o(b)q(er)f(of)g(non)o(terminal)f(sym)o(b)q(ols)g(in)h
(the)h(same)f Fj(\045type)g Fo(declaration,)f(if)i(they)f(ha)o(v)o(e)h
(the)0 2470 y(same)e(v)m(alue)h(t)o(yp)q(e.)20 b(Use)c(spaces)f(to)g
(separate)f(the)i(sym)o(b)q(ol)d(names.)62 2608 y(Y)l(ou)20
b(can)g(also)e(declare)i(the)f(v)m(alue)h(t)o(yp)q(e)g(of)f(a)g
(terminal)e(sym)o(b)q(ol.)32 b(T)l(o)19 b(do)g(this,)h(use)g(the)f
(same)g Fj(<)p Fk(t)o(yp)q(e)s Fj(>)0 2670 y Fo(construction)12
b(in)h(a)g(declaration)e(for)i(the)g(terminal)d(sym)o(b)q(ol.)18
b(All)12 b(kinds)h(of)g(tok)o(en)f(declarations)g(allo)o(w)f
Fj(<)p Fk(t)o(yp)q(e)s Fj(>)p Fo(.)p eop
%%Page: 54 56
54 55 bop 0 -58 a Fo(54)1697 b(Bison)15 b(1.25)0 183
y Fh(3.6.5)30 b(Suppressing)15 b(Con\015ict)f(W)-5 b(arnings)62
331 y Fo(Bison)16 b(normally)d(w)o(arns)j(if)f(there)h(are)g(an)o(y)f
(con\015icts)h(in)g(the)g(grammar)c(\(see)k Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Shift/Reduce)0 393 y(Con\015icts],)f(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\),)h(but)g(most)d(real)h(grammars)e
(ha)o(v)o(e)j(harmless)e(shift/reduce)i(con\015icts)g(whic)o(h)0
455 y(are)h(resolv)o(ed)f(in)i(a)e(predictable)h(w)o(a)o(y)g(and)g(w)o
(ould)f(b)q(e)i(di\016cult)f(to)g(eliminate.)26 b(It)18
b(is)g(desirable)g(to)f(suppress)0 518 y(the)d(w)o(arning)g(ab)q(out)g
(these)g(con\015icts)h(unless)f(the)h(n)o(um)o(b)q(er)e(of)h
(con\015icts)g(c)o(hanges.)20 b(Y)l(ou)15 b(can)f(do)g(this)g(with)g
(the)0 580 y Fj(\045expect)g Fo(declaration.)62 727 y(The)i
(declaration)e(lo)q(oks)g(lik)o(e)g(this:)120 864 y Fj(\045expect)23
b Fk(n)62 1012 y Fo(Here)d Fk(n)f Fo(is)g(a)g(decimal)f(in)o(teger.)32
b(The)19 b(declaration)f(sa)o(ys)h(there)g(should)h(b)q(e)g(no)f(w)o
(arning)f(if)h(there)h(are)f Fk(n)0 1074 y Fo(shift/reduce)14
b(con\015icts)f(and)h(no)g(reduce/reduce)h(con\015icts.)k(The)14
b(usual)f(w)o(arning)g(is)g(giv)o(en)g(if)g(there)h(are)f(either)0
1136 y(more)h(or)g(few)o(er)h(con\015icts,)g(or)g(if)f(there)i(are)e
(an)o(y)h(reduce/reduce)i(con\015icts.)62 1284 y(In)f(general,)e(using)
h Fj(\045expect)g Fo(in)o(v)o(olv)o(es)e(these)j(steps:)37
1431 y Fm(\017)30 b Fo(Compile)16 b(y)o(our)h(grammar)d(without)j
Fj(\045expect)p Fo(.)26 b(Use)18 b(the)f(`)p Fj(-v)p
Fo(')g(option)g(to)g(get)g(a)g(v)o(erb)q(ose)h(list)e(of)i(where)90
1494 y(the)d(con\015icts)g(o)q(ccur.)21 b(Bison)14 b(will)g(also)g
(prin)o(t)h(the)g(n)o(um)o(b)q(er)g(of)g(con\015icts.)37
1579 y Fm(\017)30 b Fo(Chec)o(k)20 b(eac)o(h)g(of)g(the)g(con\015icts)f
(to)h(mak)o(e)e(sure)i(that)f(Bison's)g(default)h(resolution)f(is)g
(what)g(y)o(ou)h(really)90 1641 y(w)o(an)o(t.)f(If)c(not,)g(rewrite)f
(the)h(grammar)d(and)j(go)g(bac)o(k)g(to)g(the)g(b)q(eginning.)37
1726 y Fm(\017)30 b Fo(Add)16 b(an)f Fj(\045expect)f
Fo(declaration,)g(cop)o(ying)g(the)i(n)o(um)o(b)q(er)e
Fk(n)i Fo(from)d(the)i(n)o(um)o(b)q(er)g(whic)o(h)g(Bison)g(prin)o
(ted.)62 1897 y(No)o(w)i(Bison)h(will)e(stop)h(anno)o(ying)g(y)o(ou)g
(ab)q(out)h(the)g(con\015icts)f(y)o(ou)h(ha)o(v)o(e)f(c)o(hec)o(k)o
(ed,)h(but)g(it)f(will)f(w)o(arn)h(y)o(ou)0 1959 y(again)d(if)h(c)o
(hanges)g(in)g(the)g(grammar)d(result)j(in)g(additional)e(con\015icts.)
0 2261 y Fh(3.6.6)30 b(The)15 b(Start-Sym)n(b)r(ol)62
2408 y Fo(Bison)d(assumes)e(b)o(y)i(default)f(that)g(the)h(start)e(sym)
o(b)q(ol)g(for)h(the)h(grammar)c(is)j(the)h(\014rst)f(non)o(terminal)f
(sp)q(eci\014ed)0 2471 y(in)g(the)h(gramma)o(r)d(sp)q(eci\014cation)i
(section.)18 b(The)10 b(programmer)e(ma)o(y)g(o)o(v)o(erride)i(this)g
(restriction)f(with)g(the)i Fj(\045start)0 2533 y Fo(declaration)j(as)h
(follo)o(ws:)120 2670 y Fj(\045start)23 b Fk(sym)o(b)q(ol)p
eop
%%Page: 55 57
55 56 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(55)0 183 y Fh(3.6.7)30 b(A)15 b(Pure)h(\(Reen)n(tran)n(t\))f(P)n
(arser)62 328 y Fo(A)20 b Fk(reen)o(tran)o(t)f Fo(program)f(is)h(one)h
(whic)o(h)f(do)q(es)h(not)f(alter)f(in)i(the)f(course)h(of)f
(execution;)j(in)d(other)g(w)o(ords,)0 391 y(it)i(consists)h(en)o
(tirely)f(of)g Fk(pure)26 b Fo(\(read-only\))21 b(co)q(de.)41
b(Reen)o(trancy)22 b(is)g(imp)q(ortan)o(t)e(whenev)o(er)i(async)o
(hronous)0 453 y(execution)c(is)e(p)q(ossible;)i(for)f(example,)g(a)g
(nonreen)o(tran)o(t)g(program)e(ma)o(y)h(not)h(b)q(e)h(safe)f(to)g
(call)f(from)g(a)h(signal)0 515 y(handler.)k(In)16 b(systems)d(with)i
(m)o(ultiple)e(threads)j(of)f(con)o(trol,)e(a)j(nonreen)o(tran)o(t)e
(program)f(m)o(ust)h(b)q(e)i(called)f(only)0 577 y(within)f(in)o(terlo)
q(c)o(ks.)62 722 y(The)23 b(Bison)g(parser)f(is)g(not)h(normally)d(a)j
(reen)o(tran)o(t)e(program,)i(b)q(ecause)g(it)f(uses)h(statically)e
(allo)q(cated)0 785 y(v)m(ariables)15 b(for)f(comm)o(unication)e(with)j
Fj(yylex)p Fo(.)k(These)c(v)m(ariables)g(include)g Fj(yylval)g
Fo(and)g Fj(yylloc)p Fo(.)62 930 y(The)j(Bison)g(declaration)e
Fj(\045pure_parser)h Fo(sa)o(ys)g(that)g(y)o(ou)g(w)o(an)o(t)g(the)h
(parser)f(to)h(b)q(e)g(reen)o(tran)o(t.)27 b(It)18 b(lo)q(oks)0
992 y(lik)o(e)c(this:)120 1127 y Fj(\045pure_parser)62
1272 y Fo(The)19 b(e\013ect)f(is)f(that)h(the)g(t)o(w)o(o)f(comm)o
(unication)e(v)m(ariables)j(b)q(ecome)f(lo)q(cal)h(v)m(ariables)f(in)h
Fj(yyparse)p Fo(,)g(and)g(a)0 1334 y(di\013eren)o(t)12
b(calling)g(con)o(v)o(en)o(tion)g(is)h(used)g(for)g(the)g(lexical)f
(analyzer)h(function)g Fj(yylex)p Fo(.)18 b(See)c Fm(h)p
Fo(unde\014ned)p Fm(i)g Fo([Calling)0 1396 y(Con)o(v)o(en)o(tions)f
(for)i(Pure)g(P)o(arsers],)e(page)i Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(,)g(for)g(the)f(details)g(of)h(this.)k(The)c(v)m(ariable)f
Fj(yynerrs)g Fo(also)0 1458 y(b)q(ecomes)i(lo)q(cal)g(in)h
Fj(yyparse)e Fo(\(see)i Fm(h)p Fo(unde\014ned)p Fm(i)h
Fo([The)e(Error)g(Rep)q(orting)h(F)l(unction)f Fj(yyerror)p
Fo(],)g(page)g Fm(h)p Fo(unde-)0 1521 y(\014ned)p Fm(i)p
Fo(\).)k(The)c(con)o(v)o(en)o(tion)e(for)g(calling)g
Fj(yyparse)h Fo(itself)f(is)g(unc)o(hanged.)0 1801 y
Fh(3.6.8)30 b(Bison)14 b(Declaration)f(Summary)62 1946
y Fo(Here)j(is)e(a)h(summary)e(of)i(all)f(Bison)h(declarations:)0
2111 y Fj(\045union)96 b Fo(Declare)19 b(the)g(collection)f(of)g(data)h
(t)o(yp)q(es)g(that)f(seman)o(tic)f(v)m(alues)j(ma)o(y)d(ha)o(v)o(e)i
(\(see)g Fm(h)p Fo(unde\014ned)p Fm(i)240 2173 y Fo([The)c(Collection)f
(of)g(V)l(alue)i(T)o(yp)q(es],)e(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(\).)0 2277 y Fj(\045token)96 b Fo(Declare)13
b(a)f(terminal)f(sym)o(b)q(ol)h(\(tok)o(en)g(t)o(yp)q(e)h(name\))f
(with)h(no)g(precedence)i(or)d(asso)q(ciativit)o(y)f(sp)q(ec-)240
2339 y(i\014ed)k(\(see)h Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([T)l(ok)o(en)f(T)o(yp)q(e)g(Names],)e(page)j Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(\).)0 2442 y Fj(\045right)96
b Fo(Declare)14 b(a)g(terminal)e(sym)o(b)q(ol)g(\(tok)o(en)i(t)o(yp)q
(e)g(name\))f(that)g(is)h(righ)o(t-asso)q(ciativ)o(e)e(\(see)i
Fm(h)p Fo(unde\014ned)p Fm(i)240 2504 y Fo([Op)q(erator)h(Precedence],)
g(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0 2608
y Fj(\045left)120 b Fo(Declare)16 b(a)h(terminal)e(sym)o(b)q(ol)g
(\(tok)o(en)h(t)o(yp)q(e)h(name\))f(that)g(is)h(left-asso)q(ciativ)o(e)
e(\(see)i Fm(h)p Fo(unde\014ned)p Fm(i)240 2670 y Fo([Op)q(erator)e
(Precedence],)g(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(\).)p eop
%%Page: 56 58
56 57 bop 0 -58 a Fo(56)1697 b(Bison)15 b(1.25)0 183
y Fj(\045nonassoc)240 246 y Fo(Declare)f(a)h(terminal)d(sym)o(b)q(ol)h
(\(tok)o(en)h(t)o(yp)q(e)h(name\))f(that)g(is)g(nonasso)q(ciativ)o(e)g
(\(using)g(it)g(in)g(a)h(w)o(a)o(y)240 308 y(that)k(w)o(ould)f(b)q(e)i
(asso)q(ciativ)o(e)e(is)g(a)h(syn)o(tax)g(error\))f(\(see)h
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Op)q(erator)d(Precedence],)240
370 y(page)d Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0
453 y Fj(\045type)120 b Fo(Declare)17 b(the)h(t)o(yp)q(e)g(of)f(seman)o
(tic)f(v)m(alues)i(for)f(a)g(non)o(terminal)f(sym)o(b)q(ol)g(\(see)h
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Non-)240 515 y(terminal)13
b(Sym)o(b)q(ols],)g(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(\).)0 597 y Fj(\045start)96 b Fo(Sp)q(ecify)16 b(the)g(grammar')o(s)
d(start)h(sym)o(b)q(ol)g(\(see)i Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([The)f(Start-Sym)o(b)q(ol],)d(page)i Fm(h)p
Fo(unde-)240 660 y(\014ned)p Fm(i)p Fo(\).)0 742 y Fj(\045expect)72
b Fo(Declare)21 b(the)g(exp)q(ected)i(n)o(um)o(b)q(er)e(of)g
(shift-reduce)h(con\015icts)f(\(see)g Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([Suppressing)240 805 y(Con\015ict)15 b(W)l(arnings],)e(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0 887 y Fj(\045pure_parser)240
949 y Fo(Request)26 b(a)g(pure)g(\(reen)o(tran)o(t\))e(parser)h
(program)f(\(see)i Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([A)e(Pure)h
(\(Reen)o(tran)o(t\))240 1012 y(P)o(arser],)14 b(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0 1094 y Fj(\045no_lines)240
1157 y Fo(Don't)f(generate)h(an)o(y)g Fj(#line)g Fo(prepro)q(cessor)g
(commands)e(in)i(the)h(parser)f(\014le.)20 b(Ordinarily)14
b(Bison)240 1219 y(writes)k(these)i(commands)d(in)i(the)g(parser)g
(\014le)g(so)g(that)g(the)g(C)g(compiler)e(and)j(debuggers)f(will)240
1281 y(asso)q(ciate)11 b(errors)h(and)h(ob)s(ject)f(co)q(de)h(with)f(y)
o(our)g(source)g(\014le)h(\(the)f(grammar)d(\014le\).)19
b(This)12 b(directiv)o(e)240 1343 y(causes)k(them)f(to)h(asso)q(ciate)f
(errors)g(with)g(the)i(parser)e(\014le,)h(treating)f(it)g(an)h(indep)q
(enden)o(t)i(source)240 1406 y(\014le)d(in)g(its)g(o)o(wn)f(righ)o(t.)0
1488 y Fj(\045raw)144 b Fo(The)13 b(output)f(\014le)g(`)p
Fk(name)p Fj(.h)p Fo(')f(normally)f(de\014nes)j(the)g(tok)o(ens)f(with)
g(Y)l(acc-compatible)f(tok)o(en)h(n)o(um-)240 1551 y(b)q(ers.)27
b(If)18 b(this)f(option)g(is)g(sp)q(eci\014ed,)i(the)f(in)o(ternal)e
(Bison)i(n)o(um)o(b)q(ers)f(are)g(used)h(instead.)27
b(\(Y)l(acc-)240 1613 y(compatible)11 b(n)o(um)o(b)q(ers)g(start)h(at)f
(257)h(except)h(for)f(single)g(c)o(haracter)f(tok)o(ens;)i(Bison)f
(assigns)f(tok)o(en)240 1675 y(n)o(um)o(b)q(ers)j(sequen)o(tially)g
(for)h(all)f(tok)o(ens)h(starting)e(at)i(3.\))0 1758
y Fj(\045token_table)240 1820 y Fo(Generate)e(an)g(arra)o(y)f(of)h(tok)
o(en)g(names)f(in)h(the)g(parser)g(\014le.)20 b(The)13
b(name)f(of)h(the)h(arra)o(y)e(is)g Fj(yytname)p Fo(;)240
1882 y Fj(yytname[)p Fk(i)r Fj(])g Fo(is)h(the)h(name)e(of)h(the)h(tok)
o(en)e(whose)i(in)o(ternal)e(Bison)h(tok)o(en)g(co)q(de)h(n)o(um)o(b)q
(er)f(is)g Fk(i)p Fo(.)19 b(The)240 1944 y(\014rst)c(three)g(elemen)o
(ts)f(of)h Fj(yytname)f Fo(are)h(alw)o(a)o(ys)f Fj("$")p
Fo(,)g Fj("error")p Fo(,)g(and)i Fj("$illegal")p Fo(;)d(after)i(these)
240 2007 y(come)f(the)h(sym)o(b)q(ols)f(de\014ned)i(in)g(the)f(grammar)
d(\014le.)240 2079 y(F)l(or)17 b(single-c)o(haracter)f(literal)g(tok)o
(ens)h(and)g(literal)f(string)g(tok)o(ens,)h(the)h(name)e(in)i(the)f
(table)g(in-)240 2141 y(cludes)22 b(the)g(single-quote)e(or)h
(double-quote)h(c)o(haracters:)32 b(for)21 b(example,)g
Fj("'+'")g Fo(is)g(a)g(single-)240 2204 y(c)o(haracter)13
b(literal)g(and)h Fj("\\"<=\\"")f Fo(is)g(a)h(literal)e(string)h(tok)o
(en.)19 b(All)14 b(the)g(c)o(haracters)f(of)h(the)g(literal)240
2266 y(string)g(tok)o(en)g(app)q(ear)h(v)o(erbatim)e(in)h(the)h(string)
f(found)h(in)f(the)h(table;)f(ev)o(en)h(double-quote)g(c)o(har-)240
2328 y(acters)f(are)h(not)f(escap)q(ed.)21 b(F)l(or)14
b(example,)g(if)g(the)h(tok)o(en)f(consists)g(of)h(three)f(c)o
(haracters)g(`)p Fj(*"*)p Fo(',)g(its)240 2390 y(string)g(in)h
Fj(yytname)f Fo(con)o(tains)h(`)p Fj("*"*")p Fo('.)j(\(In)e(C,)e(that)h
(w)o(ould)f(b)q(e)i(written)e(as)h Fj("\\"*\\"*\\"")p
Fo(\).)240 2463 y(When)20 b(y)o(ou)f(sp)q(ecify)h Fj(\045token_table)p
Fo(,)f(Bison)g(also)f(generates)i(macro)d(de\014nitions)j(for)f(macros)
240 2525 y Fj(YYNTOKENS)p Fo(,)14 b Fj(YYNNTS)p Fo(,)g(and)h
Fj(YYNRULES)p Fo(,)f(and)h Fj(YYNSTATES)p Fo(:)240 2608
y Fj(YYNTOKENS)480 2670 y Fo(The)g(highest)g(tok)o(en)g(n)o(um)o(b)q
(er,)f(plus)h(one.)p eop
%%Page: 57 59
57 58 bop 0 -58 a Fo(Chapter)15 b(3:)k(Bison)c(Grammar)d(Files)1245
b(57)240 183 y Fj(YYNNTS)96 b Fo(The)15 b(n)o(um)o(b)q(er)g(of)g
(non-terminal)e(sym)o(b)q(ols.)240 270 y Fj(YYNRULES)48
b Fo(The)15 b(n)o(um)o(b)q(er)g(of)g(gramma)o(r)d(rules,)240
358 y Fj(YYNSTATES)480 420 y Fo(The)k(n)o(um)o(b)q(er)g(of)f(parser)h
(states)f(\(see)h Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([P)o(arser)c
(States],)h(page)h Fm(h)p Fo(unde-)480 482 y(\014ned)p
Fm(i)p Fo(\).)0 706 y Fn(3.7)33 b(Multiple)17 b(P)n(arsers)e(in)h(the)f
(Same)g(Program)62 843 y Fo(Most)j(programs)e(that)h(use)i(Bison)f
(parse)h(only)e(one)i(language)f(and)g(therefore)g(con)o(tain)g(only)g
(one)g(Bison)0 906 y(parser.)h(But)c(what)f(if)g(y)o(ou)h(w)o(an)o(t)e
(to)h(parse)h(more)e(than)i(one)g(language)f(with)g(the)g(same)g
(program?)k(Then)d(y)o(ou)0 968 y(need)h(to)f(a)o(v)o(oid)f(a)g(name)h
(con\015ict)g(b)q(et)o(w)o(een)g(di\013eren)o(t)g(de\014nitions)g(of)f
Fj(yyparse)p Fo(,)g Fj(yylval)p Fo(,)g(and)i(so)e(on.)62
1105 y(The)23 b(easy)f(w)o(a)o(y)g(to)f(do)i(this)f(is)g(to)f(use)i
(the)g(option)e(`)p Fj(-p)15 b Fk(pre\014x)s Fo(')22
b(\(see)h Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([In)o(v)o(oking)d(Bison],)0
1167 y(page)16 b Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)22
b(This)15 b(renames)g(the)g(in)o(terface)g(functions)h(and)g(v)m
(ariables)f(of)g(the)g(Bison)h(parser)f(to)g(start)0
1229 y(with)e Fk(pre\014x)j Fo(instead)d(of)g(`)p Fj(yy)p
Fo('.)18 b(Y)l(ou)c(can)f(use)h(this)f(to)f(giv)o(e)h(eac)o(h)g(parser)
g(distinct)g(names)f(that)g(do)i(not)e(con\015ict.)62
1366 y(The)i(precise)g(list)e(of)h(sym)o(b)q(ols)f(renamed)h(is)f
Fj(yyparse)p Fo(,)h Fj(yylex)p Fo(,)g Fj(yyerror)p Fo(,)f
Fj(yynerrs)p Fo(,)h Fj(yylval)p Fo(,)f Fj(yychar)h Fo(and)0
1429 y Fj(yydebug)p Fo(.)19 b(F)l(or)14 b(example,)g(if)h(y)o(ou)g(use)
g(`)p Fj(-p)g(c)p Fo(',)f(the)h(names)f(b)q(ecome)h Fj(cparse)p
Fo(,)f Fj(clex)p Fo(,)g(and)i(so)f(on.)62 1566 y Fi(All)d(the)h(other)f
(v)m(ariables)h(and)g(macros)f(asso)q(ciated)g(with)g(Bison)g(are)h
(not)f(renamed.)20 b Fo(These)12 b(others)g(are)g(not)0
1628 y(global;)f(there)h(is)g(no)f(con\015ict)h(if)f(the)h(same)f(name)
g(is)g(used)i(in)e(di\013eren)o(t)h(parsers.)18 b(F)l(or)11
b(example,)g Fj(YYSTYPE)g Fo(is)g(not)0 1690 y(renamed,)j(but)i
(de\014ning)g(this)e(in)h(di\013eren)o(t)g(w)o(a)o(ys)f(in)h
(di\013eren)o(t)g(parsers)g(causes)g(no)h(trouble)e(\(see)i
Fm(h)p Fo(unde\014ned)p Fm(i)0 1752 y Fo([Data)e(T)o(yp)q(es)h(of)g
(Seman)o(tic)e(V)l(alues],)i(page)g Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(\).)62 1889 y(The)k(`)p Fj(-p)p Fo(')e(option)h(w)o(orks)f(b)
o(y)i(adding)f(macro)e(de\014nitions)j(to)e(the)i(b)q(eginning)f(of)g
(the)h(parser)f(source)g(\014le,)0 1952 y(de\014ning)e
Fj(yyparse)d Fo(as)i Fk(pre\014x)s Fj(parse)p Fo(,)g(and)g(so)f(on.)20
b(This)15 b(e\013ectiv)o(ely)f(substitutes)g(one)h(name)f(for)g(the)i
(other)e(in)0 2014 y(the)h(en)o(tire)g(parser)g(\014le.)p
eop
%%Page: 58 60
58 59 bop 0 -58 a Fo(58)1697 b(Bison)15 b(1.25)p eop
%%Page: 59 61
59 60 bop 0 -58 a Fo(Chapter)15 b(4:)k(P)o(arser)c(C-Language)g(In)o
(terface)1105 b(59)0 183 y Fl(4)41 b(P)n(arser)15 b(C-Language)h(In)n
(terface)62 362 y Fo(The)22 b(Bison)g(parser)f(is)g(actually)g(a)g(C)h
(function)f(named)g Fj(yyparse)p Fo(.)39 b(Here)22 b(w)o(e)f(describ)q
(e)i(the)f(in)o(terface)0 425 y(con)o(v)o(en)o(tions)14
b(of)h Fj(yyparse)f Fo(and)i(the)f(other)g(functions)g(that)f(it)h
(needs)h(to)e(use.)62 562 y(Keep)20 b(in)e(mind)f(that)h(the)h(parser)f
(uses)g(man)o(y)f(C)h(iden)o(ti\014ers)g(starting)f(with)h(`)p
Fj(yy)p Fo(')f(and)i(`)p Fj(YY)p Fo(')e(for)h(in)o(ternal)0
624 y(purp)q(oses.)h(If)12 b(y)o(ou)g(use)g(suc)o(h)g(an)f(iden)o
(ti\014er)g(\(aside)g(from)f(those)i(in)f(this)g(man)o(ual\))f(in)h(an)
h(action)f(or)g(in)h(additional)0 686 y(C)j(co)q(de)h(in)f(the)g
(grammar)d(\014le,)j(y)o(ou)g(are)f(lik)o(ely)g(to)h(run)g(in)o(to)g
(trouble.)0 903 y Fn(4.1)33 b(The)15 b(P)n(arser)g(F)-6
b(unction)17 b Fd(yyparse)62 1040 y Fo(Y)l(ou)g(call)e(the)i(function)f
Fj(yyparse)f Fo(to)h(cause)h(parsing)f(to)f(o)q(ccur.)24
b(This)16 b(function)g(reads)h(tok)o(ens,)e(executes)0
1102 y(actions,)g(and)h(ultimately)d(returns)j(when)h(it)e(encoun)o
(ters)h(end-of-input)h(or)e(an)h(unreco)o(v)o(erable)g(syn)o(tax)f
(error.)0 1164 y(Y)l(ou)e(can)h(also)e(write)g(an)h(action)g(whic)o(h)g
(directs)g Fj(yyparse)f Fo(to)h(return)g(immediatel)o(y)e(without)h
(reading)g(further.)62 1301 y(The)k(v)m(alue)f(returned)h(b)o(y)f
Fj(yyparse)f Fo(is)h(0)g(if)f(parsing)h(w)o(as)f(successful)i(\(return)
f(is)f(due)i(to)f(end-of-input\).)62 1438 y(The)h(v)m(alue)f(is)g(1)g
(if)f(parsing)h(failed)f(\(return)h(is)g(due)h(to)e(a)h(syn)o(tax)g
(error\).)62 1575 y(In)h(an)f(action,)f(y)o(ou)h(can)g(cause)h
(immediate)c(return)j(from)f Fj(yyparse)g Fo(b)o(y)h(using)g(these)g
(macros:)0 1723 y Fj(YYACCEPT)48 b Fo(Return)16 b(immediatel)o(y)d
(with)h(v)m(alue)i(0)e(\(to)h(rep)q(ort)g(success\).)0
1806 y Fj(YYABORT)72 b Fo(Return)16 b(immediatel)o(y)d(with)h(v)m(alue)
i(1)e(\(to)h(rep)q(ort)g(failure\).)0 2022 y Fn(4.2)33
b(The)15 b(Lexical)h(Analyzer)g(F)-6 b(unction)18 b Fd(yylex)62
2159 y Fo(The)c Fk(lexical)e(analyzer)j Fo(function,)e
Fj(yylex)p Fo(,)g(recognizes)g(tok)o(ens)f(from)f(the)j(input)f(stream)
e(and)i(returns)g(them)0 2222 y(to)g(the)g(parser.)19
b(Bison)13 b(do)q(es)g(not)g(create)g(this)g(function)g(automatically;)
d(y)o(ou)j(m)o(ust)f(write)g(it)h(so)f(that)h Fj(yyparse)0
2284 y Fo(can)i(call)g(it.)k(The)c(function)g(is)g(sometimes)d
(referred)j(to)g(as)g(a)g(lexical)f(scanner.)62 2421
y(In)19 b(simple)d(programs,)g Fj(yylex)i Fo(is)f(often)h(de\014ned)h
(at)e(the)h(end)h(of)f(the)g(Bison)f(grammar)e(\014le.)28
b(If)18 b Fj(yylex)f Fo(is)0 2483 y(de\014ned)j(in)e(a)g(separate)g
(source)h(\014le,)g(y)o(ou)f(need)h(to)f(arrange)g(for)g(the)g(tok)o
(en-t)o(yp)q(e)g(macro)f(de\014nitions)h(to)g(b)q(e)0
2545 y(a)o(v)m(ailable)11 b(there.)19 b(T)l(o)12 b(do)g(this,)g(use)g
(the)g(`)p Fj(-d)p Fo(')f(option)h(when)g(y)o(ou)g(run)h(Bison,)f(so)f
(that)h(it)f(will)g(write)g(these)i(macro)0 2608 y(de\014nitions)h(in)o
(to)g(a)g(separate)g(header)h(\014le)f(`)p Fk(name)p
Fj(.tab.h)p Fo(')e(whic)o(h)j(y)o(ou)f(can)g(include)h(in)g(the)f
(other)g(source)h(\014les)0 2670 y(that)f(need)j(it.)i(See)c
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([In)o(v)o(oking)d(Bison],)g(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)p eop
%%Page: 60 62
60 61 bop 0 -58 a Fo(60)1697 b(Bison)15 b(1.25)0 183
y Fh(4.2.1)30 b(Calling)12 b(Con)n(v)n(en)n(tion)j(for)g
Fg(yylex)62 328 y Fo(The)g(v)m(alue)g(that)f Fj(yylex)g
Fo(returns)g(m)o(ust)f(b)q(e)i(the)g(n)o(umeric)f(co)q(de)h(for)f(the)g
(t)o(yp)q(e)h(of)f(tok)o(en)g(it)g(has)h(just)f(found,)0
390 y(or)h(0)g(for)f(end-of-input.)62 535 y(When)e(a)f(tok)o(en)g(is)g
(referred)g(to)g(in)g(the)g(grammar)d(rules)j(b)o(y)h(a)f(name,)f(that)
h(name)f(in)i(the)f(parser)g(\014le)g(b)q(ecomes)0 597
y(a)k(C)h(macro)e(whose)h(de\014nition)h(is)f(the)h(prop)q(er)g(n)o
(umeric)e(co)q(de)j(for)e(that)g(tok)o(en)g(t)o(yp)q(e.)21
b(So)16 b Fj(yylex)f Fo(can)h(use)g(the)0 660 y(name)e(to)h(indicate)f
(that)h(t)o(yp)q(e.)20 b(See)c Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Sym)o(b)q(ols],)d(page)i Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 805 y(When)j(a)f(tok)o(en)g(is)f(referred)i(to)e(in)h
(the)g(grammar)d(rules)j(b)o(y)g(a)g(c)o(haracter)g(literal,)e(the)j(n)
o(umeric)e(co)q(de)i(for)0 867 y(that)13 b(c)o(haracter)g(is)g(also)g
(the)h(co)q(de)g(for)g(the)f(tok)o(en)h(t)o(yp)q(e.)19
b(So)14 b Fj(yylex)f Fo(can)h(simply)e(return)i(that)f(c)o(haracter)g
(co)q(de.)0 929 y(The)18 b(n)o(ull)f(c)o(haracter)f(m)o(ust)g(not)h(b)q
(e)h(used)g(this)f(w)o(a)o(y)l(,)g(b)q(ecause)h(its)f(co)q(de)h(is)f
(zero)g(and)h(that)f(is)g(what)f(signi\014es)0 991 y(end-of-input.)62
1136 y(Here)g(is)e(an)i(example)e(sho)o(wing)g(these)h(things:)120
1271 y Fj(yylex)23 b(\(\))120 1323 y({)168 1375 y Ff(:)8
b(:)g(:)168 1426 y Fj(if)23 b(\(c)h(==)f(EOF\))119 b(/*)24
b(Detect)f(end)g(of)h(file.)f(*/)215 1478 y(return)g(0;)168
1530 y Ff(:)8 b(:)g(:)168 1582 y Fj(if)23 b(\(c)h(==)f('+')h(||)g(c)f
(==)h('-'\))215 1634 y(return)f(c;)143 b(/*)24 b(Assume)f(token)g(type)
h(for)f(`+')g(is)h('+'.)f(*/)168 1686 y Ff(:)8 b(:)g(:)168
1738 y Fj(return)23 b(INT;)142 b(/*)24 b(Return)f(the)g(type)h(of)f
(the)h(token.)f(*/)168 1790 y Ff(:)8 b(:)g(:)120 1842
y Fj(})0 1986 y Fo(This)k(in)o(terface)f(has)h(b)q(een)h(designed)f(so)
g(that)f(the)h(output)g(from)e(the)i Fj(lex)g Fo(utilit)o(y)e(can)i(b)q
(e)g(used)h(without)e(c)o(hange)0 2049 y(as)k(the)g(de\014nition)g(of)g
Fj(yylex)p Fo(.)62 2193 y(If)e(the)f(grammar)d(uses)k(literal)d(string)
h(tok)o(ens,)h(there)h(are)f(t)o(w)o(o)f(w)o(a)o(ys)g(that)h
Fj(yylex)f Fo(can)i(determine)e(the)h(tok)o(en)0 2256
y(t)o(yp)q(e)j(co)q(des)h(for)f(them:)37 2401 y Fm(\017)30
b Fo(If)14 b(the)g(gramma)o(r)d(de\014nes)k(sym)o(b)q(olic)d(tok)o(en)h
(names)g(as)g(aliases)f(for)h(the)h(literal)e(string)h(tok)o(ens,)g
Fj(yylex)g Fo(can)90 2463 y(use)h(these)g(sym)o(b)q(olic)e(names)h(lik)
o(e)g(all)g(others.)19 b(In)14 b(this)g(case,)f(the)h(use)h(of)e(the)h
(literal)e(string)h(tok)o(ens)g(in)h(the)90 2525 y(grammar)e(\014le)j
(has)g(no)g(e\013ect)g(on)g Fj(yylex)p Fo(.)37 2608 y
Fm(\017)30 b Fj(yylex)14 b Fo(can)i(\014nd)g(the)f(m)o(ulti-c)o
(haracter)d(tok)o(en)j(in)g(the)h Fj(yytname)e Fo(table.)19
b(The)d(index)f(of)g(the)g(tok)o(en)g(in)g(the)90 2670
y(table)i(is)h(the)g(tok)o(en)f(t)o(yp)q(e's)h(co)q(de.)29
b(The)18 b(name)f(of)g(a)h(m)o(ulti-c)o(haracter)d(tok)o(en)i(is)h
(recorded)g(in)g Fj(yytname)p eop
%%Page: 61 63
61 62 bop 0 -58 a Fo(Chapter)15 b(4:)k(P)o(arser)c(C-Language)g(In)o
(terface)1105 b(61)90 183 y(with)12 b(a)h(double-quote,)h(the)f(tok)o
(en's)f(c)o(haracters,)h(and)g(another)g(double-quote.)19
b(The)14 b(tok)o(en's)e(c)o(haracters)90 246 y(are)j(not)g(escap)q(ed)h
(in)f(an)o(y)g(w)o(a)o(y;)f(they)h(app)q(ear)g(v)o(erbatim)e(in)i(the)h
(con)o(ten)o(ts)e(of)h(the)g(string)f(in)h(the)h(table.)90
329 y(Here's)g(co)q(de)g(for)f(lo)q(oking)f(up)j(a)e(tok)o(en)g(in)h
Fj(yytname)p Fo(,)e(assuming)g(that)h(the)h(c)o(haracters)f(of)g(the)h
(tok)o(en)f(are)90 391 y(stored)g(in)g Fj(token_buffer)p
Fo(.)210 464 y Fj(for)23 b(\(i)h(=)g(0;)f(i)h(<)g(YYNTOKENS;)e(i++\))
258 516 y({)305 568 y(if)i(\(yytname[i])e(!=)i(0)401
620 y(&&)f(yytname[i][0])g(==)g('"')401 672 y(&&)g(strncmp)g
(\(yytname[i])g(+)g(1,)h(token_buffer,)e(strlen)h(\(token_buffer\)\))
401 723 y(&&)g(yytname[i][strlen)f(\(token_buffer\))g(+)i(1])f(==)h
('"')401 775 y(&&)f(yytname[i][strlen)f(\(token_buffer\))g(+)i(2])f(==)
h(0\))353 827 y(break;)258 879 y(})90 962 y Fo(The)13
b Fj(yytname)f Fo(table)g(is)h(generated)g(only)f(if)g(y)o(ou)h(use)g
(the)g Fj(\045token_table)e Fo(declaration.)18 b(See)c
Fm(h)p Fo(unde\014ned)p Fm(i)90 1025 y Fo([Decl)h(Summary],)d(page)j
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1309 y Fh(4.2.2)30
b(Seman)n(tic)14 b(V)-5 b(alues)14 b(of)h(T)-5 b(ok)n(ens)62
1455 y Fo(In)18 b(an)e(ordinary)g(\(nonreen)o(tran)o(t\))g(parser,)g
(the)h(seman)o(tic)e(v)m(alue)i(of)g(the)g(tok)o(en)f(m)o(ust)f(b)q(e)j
(stored)e(in)o(to)g(the)0 1517 y(global)h(v)m(ariable)g
Fj(yylval)p Fo(.)27 b(When)18 b(y)o(ou)g(are)g(using)f(just)h(one)g
(data)f(t)o(yp)q(e)h(for)g(seman)o(tic)e(v)m(alues,)i
Fj(yylval)f Fo(has)0 1579 y(that)d(t)o(yp)q(e.)20 b(Th)o(us,)15
b(if)g(the)g(t)o(yp)q(e)g(is)g Fj(int)g Fo(\(the)g(default\),)f(y)o(ou)
h(migh)o(t)e(write)h(this)h(in)g Fj(yylex)p Fo(:)168
1714 y Ff(:)8 b(:)g(:)168 1766 y Fj(yylval)23 b(=)g(value;)47
b(/*)24 b(Put)f(value)h(onto)f(Bison)g(stack.)g(*/)168
1818 y(return)g(INT;)142 b(/*)24 b(Return)f(the)g(type)h(of)f(the)h
(token.)f(*/)168 1870 y Ff(:)8 b(:)g(:)62 2005 y Fo(When)23
b(y)o(ou)f(are)g(using)g(m)o(ultiple)e(data)i(t)o(yp)q(es,)i
Fj(yylval)p Fo('s)d(t)o(yp)q(e)h(is)g(a)g(union)g(made)g(from)e(the)j
Fj(\045union)0 2068 y Fo(declaration)12 b(\(see)h Fm(h)p
Fo(unde\014ned)p Fm(i)h Fo([The)f(Collection)f(of)g(V)l(alue)h(T)o(yp)q
(es],)g(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)20
b(So)13 b(when)h(y)o(ou)f(store)0 2130 y(a)g(tok)o(en's)g(v)m(alue,)h
(y)o(ou)g(m)o(ust)e(use)i(the)g(prop)q(er)g(mem)o(b)q(er)e(of)h(the)h
(union.)19 b(If)c(the)e Fj(\045union)g Fo(declaration)g(lo)q(oks)g(lik)
o(e)0 2192 y(this:)120 2327 y Fj(\045union)23 b({)168
2379 y(int)g(intval;)168 2431 y(double)g(val;)168 2483
y(symrec)g(*tptr;)120 2535 y(})0 2670 y Fo(then)16 b(the)f(co)q(de)h
(in)f Fj(yylex)f Fo(migh)o(t)f(lo)q(ok)i(lik)o(e)f(this:)p
eop
%%Page: 62 64
62 63 bop 0 -58 a Fo(62)1697 b(Bison)15 b(1.25)168 183
y Ff(:)8 b(:)g(:)168 235 y Fj(yylval.intval)22 b(=)i(value;)f(/*)g(Put)
h(value)f(onto)g(Bison)g(stack.)g(*/)168 287 y(return)g(INT;)238
b(/*)23 b(Return)g(the)h(type)f(of)h(the)f(token.)g(*/)168
339 y Ff(:)8 b(:)g(:)0 575 y Fh(4.2.3)30 b(T)-5 b(extual)14
b(P)n(ositions)f(of)i(T)-5 b(ok)n(ens)62 716 y Fo(If)13
b(y)o(ou)g(are)g(using)f(the)h(`)p Fj(@)p Fk(n)p Fo('-feature)f(\(see)h
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Sp)q(ecial)f(F)l(eatures)g(for)f
(Use)h(in)g(Actions],)f(page)h Fm(h)p Fo(un-)0 778 y(de\014ned)p
Fm(i)p Fo(\))k(in)e(actions)g(to)g(k)o(eep)i(trac)o(k)d(of)i(the)g
(textual)f(lo)q(cations)f(of)i(tok)o(ens)f(and)h(groupings,)f(then)h(y)
o(ou)g(m)o(ust)0 840 y(pro)o(vide)h(this)h(information)d(in)i
Fj(yylex)p Fo(.)28 b(The)18 b(function)g Fj(yyparse)e
Fo(exp)q(ects)j(to)e(\014nd)i(the)f(textual)f(lo)q(cation)f(of)0
902 y(a)i(tok)o(en)g(just)g(parsed)g(in)g(the)g(global)f(v)m(ariable)h
Fj(yylloc)p Fo(.)28 b(So)18 b Fj(yylex)f Fo(m)o(ust)g(store)g(the)i
(prop)q(er)f(data)g(in)g(that)0 965 y(v)m(ariable.)g(The)12
b(v)m(alue)h(of)e Fj(yylloc)g Fo(is)h(a)f(structure)h(and)g(y)o(ou)g
(need)g(only)g(initialize)e(the)i(mem)o(b)q(ers)e(that)h(are)h(going)0
1027 y(to)17 b(b)q(e)h(used)g(b)o(y)f(the)h(actions.)26
b(The)17 b(four)g(mem)o(b)q(ers)f(are)h(called)g Fj(first_line)p
Fo(,)f Fj(first_column)p Fo(,)g Fj(last_line)0 1089 y
Fo(and)f Fj(last_column)p Fo(.)k(Note)c(that)f(the)h(use)h(of)f(this)f
(feature)h(mak)o(es)f(the)h(parser)g(noticeably)f(slo)o(w)o(er.)62
1230 y(The)i(data)e(t)o(yp)q(e)i(of)e Fj(yylloc)h Fo(has)g(the)g(name)f
Fj(YYLTYPE)p Fo(.)0 1470 y Fh(4.2.4)30 b(Calling)12 b(Con)n(v)n(en)n
(tions)k(for)e(Pure)h(P)n(arsers)62 1610 y Fo(When)c(y)o(ou)g(use)g
(the)f(Bison)h(declaration)e Fj(\045pure_parser)g Fo(to)h(request)h(a)f
(pure,)i(reen)o(tran)o(t)e(parser,)h(the)f(global)0 1673
y(comm)o(unication)f(v)m(ariables)i Fj(yylval)g Fo(and)h
Fj(yylloc)f Fo(cannot)g(b)q(e)i(used.)19 b(\(See)12 b
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([A)f(Pure)g(\(Reen)o(tran)o(t\))0
1735 y(P)o(arser],)g(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.\))21 b(In)14 b(suc)o(h)f(parsers)g(the)h(t)o(w)o(o)e(global)g(v)m
(ariables)h(are)g(replaced)h(b)o(y)f(p)q(oin)o(ters)g(passed)0
1797 y(as)j(argumen)o(ts)e(to)i Fj(yylex)p Fo(.)22 b(Y)l(ou)16
b(m)o(ust)f(declare)h(them)f(as)h(sho)o(wn)g(here,)g(and)g(pass)g(the)h
(information)c(bac)o(k)j(b)o(y)0 1860 y(storing)e(it)g(through)h(those)
g(p)q(oin)o(ters.)120 1990 y Fj(yylex)23 b(\(lvalp,)g(llocp\))239
2042 y(YYSTYPE)g(*lvalp;)239 2094 y(YYLTYPE)g(*llocp;)120
2145 y({)168 2197 y Ff(:)8 b(:)g(:)168 2249 y Fj(*lvalp)23
b(=)g(value;)47 b(/*)24 b(Put)f(value)h(onto)f(Bison)g(stack.)47
b(*/)168 2301 y(return)23 b(INT;)142 b(/*)24 b(Return)f(the)g(type)h
(of)f(the)h(token.)47 b(*/)168 2353 y Ff(:)8 b(:)g(:)120
2405 y Fj(})62 2545 y Fo(If)17 b(the)g(grammar)d(\014le)j(do)q(es)g
(not)g(use)g(the)g(`)p Fj(@)p Fo(')f(constructs)g(to)h(refer)f(to)h
(textual)f(p)q(ositions,)g(then)h(the)g(t)o(yp)q(e)0
2608 y Fj(YYLTYPE)12 b Fo(will)g(not)g(b)q(e)i(de\014ned.)20
b(In)14 b(this)e(case,)h(omit)e(the)i(second)h(argumen)o(t;)d
Fj(yylex)h Fo(will)g(b)q(e)i(called)e(with)g(only)0 2670
y(one)j(argumen)o(t.)p eop
%%Page: 63 65
63 64 bop 0 -58 a Fo(Chapter)15 b(4:)k(P)o(arser)c(C-Language)g(In)o
(terface)1105 b(63)62 183 y(If)15 b(y)o(ou)g(use)g(a)f(reen)o(tran)o(t)
g(parser,)h(y)o(ou)f(can)h(optionally)e(pass)i(additional)e(parameter)g
(information)f(to)i(it)g(in)0 246 y(a)g(reen)o(tran)o(t)g(w)o(a)o(y)l
(.)19 b(T)l(o)14 b(do)g(so,)g(de\014ne)i(the)f(macro)d
Fj(YYPARSE_PARAM)h Fo(as)h(a)h(v)m(ariable)e(name.)19
b(This)14 b(mo)q(di\014es)g(the)0 308 y Fj(yyparse)g
Fo(function)h(to)g(accept)g(one)h(argumen)o(t,)d(of)h(t)o(yp)q(e)i
Fj(void)e(*)p Fo(,)h(with)f(that)h(name.)62 449 y(When)21
b(y)o(ou)f(call)g Fj(yyparse)p Fo(,)g(pass)g(the)g(address)h(of)f(an)g
(ob)s(ject,)h(casting)e(the)i(address)f(to)g Fj(void)15
b(*)p Fo(.)35 b(The)0 511 y(grammar)15 b(actions)i(can)h(refer)h(to)e
(the)i(con)o(ten)o(ts)e(of)h(the)g(ob)s(ject)g(b)o(y)g(casting)f(the)i
(p)q(oin)o(ter)f(v)m(alue)g(bac)o(k)g(to)g(its)0 573
y(prop)q(er)d(t)o(yp)q(e)h(and)f(then)h(dereferencing)f(it.)20
b(Here's)15 b(an)g(example.)j(W)l(rite)d(this)f(in)h(the)h(parser:)120
704 y Fj(\045{)120 756 y(struct)23 b(parser_control)120
808 y({)168 859 y(int)g(nastiness;)168 911 y(int)g(randomness;)120
963 y(};)120 1067 y(#define)g(YYPARSE_PARAM)f(parm)120
1119 y(\045})0 1260 y Fo(Then)16 b(call)e(the)h(parser)g(lik)o(e)g
(this:)120 1390 y Fj(struct)23 b(parser_control)120 1442
y({)168 1494 y(int)g(nastiness;)168 1546 y(int)g(randomness;)120
1598 y(};)120 1702 y Ff(:)8 b(:)g(:)120 1805 y Fj({)168
1857 y(struct)23 b(parser_control)f(foo;)168 1909 y Ff(:)8
b(:)g(:)45 b Fj(/*)24 b Fo(Store)15 b(prop)q(er)g(data)g(in)g
Fj(foo)p Fo(.)47 b Fj(*/)168 1961 y(value)23 b(=)h(yyparse)f(\(\(void)g
(*\))g(&foo\);)168 2013 y Ff(:)8 b(:)g(:)120 2065 y Fj(})0
2206 y Fo(In)16 b(the)f(grammar)d(actions,)i(use)h(expressions)g(lik)o
(e)g(this)f(to)h(refer)g(to)f(the)i(data:)120 2336 y
Fj(\(\(struct)23 b(parser_control)f(*\))h(parm\)->randomness)62
2477 y Fo(If)15 b(y)o(ou)e(wish)h(to)f(pass)h(the)g(additional)f
(parameter)f(data)i(to)f Fj(yylex)p Fo(,)g(de\014ne)i(the)f(macro)f
Fj(YYLEX_PARAM)f Fo(just)0 2539 y(lik)o(e)i Fj(YYPARSE_PARAM)p
Fo(,)f(as)i(sho)o(wn)g(here:)120 2670 y Fj(\045{)p eop
%%Page: 64 66
64 65 bop 0 -58 a Fo(64)1697 b(Bison)15 b(1.25)120 183
y Fj(struct)23 b(parser_control)120 235 y({)168 287 y(int)g(nastiness;)
168 339 y(int)g(randomness;)120 391 y(};)120 495 y(#define)g
(YYPARSE_PARAM)f(parm)120 546 y(#define)h(YYLEX_PARAM)f(parm)120
598 y(\045})62 736 y Fo(Y)l(ou)e(should)g(then)g(de\014ne)h
Fj(yylex)f Fo(to)f(accept)h(one)g(additional)e(argumen)o(t|the)h(v)m
(alue)h(of)f Fj(parm)p Fo(.)34 b(\(This)0 799 y(mak)o(es)13
b(either)h(t)o(w)o(o)f(or)h(three)g(argumen)o(ts)f(in)h(total,)e(dep)q
(ending)k(on)e(whether)h(an)f(argumen)o(t)f(of)h(t)o(yp)q(e)g
Fj(YYLTYPE)0 861 y Fo(is)f(passed.\))19 b(Y)l(ou)13 b(can)h(declare)f
(the)g(argumen)o(t)e(as)i(a)g(p)q(oin)o(ter)g(to)f(the)i(prop)q(er)f
(ob)s(ject)g(t)o(yp)q(e,)g(or)g(y)o(ou)g(can)g(declare)0
923 y(it)h(as)h Fj(void)g(*)g Fo(and)g(access)h(the)f(con)o(ten)o(ts)f
(as)h(sho)o(wn)g(ab)q(o)o(v)o(e.)62 1061 y(Y)l(ou)i(can)g(use)g(`)p
Fj(\045pure_parser)p Fo(')d(to)i(request)h(a)f(reen)o(tran)o(t)g
(parser)g(without)g(also)g(using)g Fj(YYPARSE_PARAM)p
Fo(.)0 1123 y(Then)g(y)o(ou)f(should)g(call)f Fj(yyparse)g
Fo(with)h(no)g(argumen)o(ts,)e(as)i(usual.)0 1357 y Fn(4.3)33
b(The)15 b(Error)h(Rep)r(orting)g(F)-6 b(unction)17 b
Fd(yyerror)62 1495 y Fo(The)f(Bison)f(parser)f(detects)i(a)f
Fk(parse)g(error)i Fo(or)e Fk(syn)o(tax)g(error)i Fo(whenev)o(er)f(it)e
(reads)h(a)g(tok)o(en)g(whic)o(h)g(cannot)0 1557 y(satisfy)g(an)o(y)i
(syn)o(tax)f(rule.)24 b(A)17 b(action)f(in)g(the)h(grammar)c(can)k
(also)f(explicitly)f(pro)q(claim)g(an)h(error,)g(using)h(the)0
1620 y(macro)c Fj(YYERROR)i Fo(\(see)g Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Sp)q(ecial)f(F)l(eatures)g(for)g(Use)g(in)g(Actions],)f
(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)62 1758
y(The)23 b(Bison)e(parser)h(exp)q(ects)h(to)f(rep)q(ort)f(the)i(error)e
(b)o(y)h(calling)f(an)h(error)f(rep)q(orting)h(function)g(named)0
1820 y Fj(yyerror)p Fo(,)14 b(whic)o(h)h(y)o(ou)g(m)o(ust)e(supply)l(.)
21 b(It)15 b(is)f(called)h(b)o(y)g Fj(yyparse)f Fo(whenev)o(er)i(a)f
(syn)o(tax)f(error)h(is)f(found,)h(and)h(it)0 1882 y(receiv)o(es)f(one)
g(argumen)o(t.)j(F)l(or)d(a)g(parse)g(error,)f(the)h(string)g(is)f
(normally)f Fj("parse)h(error")p Fo(.)62 2020 y(If)e(y)o(ou)f(de\014ne)
i(the)e(macro)f Fj(YYERROR_VERBOSE)f Fo(in)i(the)h(Bison)f
(declarations)f(section)h(\(see)g Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([The)0 2083 y(Bison)18 b(Declarations)f(Section],)i(page)f
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\),)i(then)f(Bison)g(pro)o(vides)f(a)
g(more)g(v)o(erb)q(ose)g(and)h(sp)q(eci\014c)0 2145 y(error)f(message)e
(string)h(instead)h(of)g(just)g(plain)g Fj("parse)c(error")o
Fo(.)29 b(It)18 b(do)q(esn't)g(matter)f(what)g(de\014nition)h(y)o(ou)0
2207 y(use)e(for)e Fj(YYERROR_VERBOSE)p Fo(,)f(just)i(whether)g(y)o(ou)
g(de\014ne)h(it.)62 2345 y(The)d(parser)f(can)g(detect)h(one)f(other)g
(kind)h(of)f(error:)17 b(stac)o(k)12 b(o)o(v)o(er\015o)o(w.)18
b(This)12 b(happ)q(ens)h(when)g(the)f(input)h(con-)0
2407 y(tains)d(constructions)g(that)g(are)g(v)o(ery)g(deeply)i(nested.)
18 b(It)11 b(isn't)f(lik)o(ely)f(y)o(ou)i(will)e(encoun)o(ter)i(this,)g
(since)f(the)h(Bison)0 2470 y(parser)16 b(extends)h(its)e(stac)o(k)g
(automatically)e(up)k(to)e(a)h(v)o(ery)g(large)f(limit.)21
b(But)16 b(if)g(o)o(v)o(er\015o)o(w)f(happ)q(ens,)i Fj(yyparse)0
2532 y Fo(calls)d Fj(yyerror)g Fo(in)h(the)h(usual)f(fashion,)f(except)
i(that)e(the)h(argumen)o(t)f(string)g(is)h Fj("parser)f(stack)g
(overflow")o Fo(.)62 2670 y(The)i(follo)o(wing)d(de\014nition)i
(su\016ces)g(in)g(simple)f(programs:)p eop
%%Page: 65 67
65 66 bop 0 -58 a Fo(Chapter)15 b(4:)k(P)o(arser)c(C-Language)g(In)o
(terface)1105 b(65)120 183 y Fj(yyerror)23 b(\(s\))239
235 y(char)h(*s;)120 287 y({)168 343 y(fprintf)f(\(stderr,)f
("\045s\\n",)h(s\);)120 395 y(})62 522 y Fo(After)c Fj(yyerror)e
Fo(returns)i(to)f Fj(yyparse)p Fo(,)g(the)h(latter)e(will)g(attempt)g
(error)h(reco)o(v)o(ery)g(if)g(y)o(ou)h(ha)o(v)o(e)f(written)0
584 y(suitable)j(error)f(reco)o(v)o(ery)h(grammar)d(rules)j(\(see)h
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Error)f(Reco)o(v)o(ery],)h(page)f
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)40 b(If)0 646 y(reco)o(v)o(ery)15
b(is)f(imp)q(ossible,)f Fj(yyparse)i Fo(will)e(immediately)f(return)j
(1.)62 783 y(The)i(v)m(ariable)f Fj(yynerrs)g Fo(con)o(tains)g(the)h(n)
o(um)o(b)q(er)f(of)g(syn)o(tax)g(errors)g(encoun)o(tered)h(so)g(far.)23
b(Normally)15 b(this)0 846 y(v)m(ariable)i(is)g(global;)g(but)g(if)g(y)
o(ou)g(request)h(a)f(pure)h(parser)f(\(see)h Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([A)f(Pure)h(\(Reen)o(tran)o(t\))f(P)o(arser],)0
908 y(page)e Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\))h(then)g(it)e(is)h(a)
g(lo)q(cal)f(v)m(ariable)h(whic)o(h)g(only)f(the)i(actions)e(can)h
(access.)0 1128 y Fn(4.4)33 b(Sp)r(ecial)16 b(F)-6 b(eatures)15
b(for)g(Use)f(in)i(Actions)62 1265 y Fo(Here)g(is)e(a)h(table)g(of)g
(Bison)g(constructs,)f(v)m(ariables)h(and)g(macros)e(that)i(are)g
(useful)g(in)g(actions.)0 1413 y(`)p Fj($$)p Fo(')166
b(Acts)20 b(lik)o(e)f(a)h(v)m(ariable)f(that)g(con)o(tains)h(the)g
(seman)o(tic)e(v)m(alue)i(for)f(the)i(grouping)e(made)g(b)o(y)h(the)240
1475 y(curren)o(t)15 b(rule.)20 b(See)c Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Actions],)e(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1560 y(`)p Fj($)p Fk(n)p Fo(')165 b(Acts)20
b(lik)o(e)g(a)g(v)m(ariable)g(that)g(con)o(tains)f(the)i(seman)o(tic)e
(v)m(alue)h(for)g(the)h Fk(n)p Fo(th)f(comp)q(onen)o(t)g(of)g(the)240
1622 y(curren)o(t)15 b(rule.)20 b(See)c Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Actions],)e(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1707 y(`)p Fj($<)p Fk(t)o(yp)q(ealt)q Fj(>$)p
Fo(')240 1770 y(Lik)o(e)h Fj($$)f Fo(but)h(sp)q(eci\014es)h(alternativ)
o(e)d Fk(t)o(yp)q(ealt)i Fo(in)f(the)h(union)g(sp)q(eci\014ed)h(b)o(y)f
(the)f Fj(\045union)g Fo(declara-)240 1832 y(tion.)k(See)d
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Data)e(T)o(yp)q(es)h(of)g(V)l(alues)
g(in)g(Actions],)f(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)0 1917 y(`)p Fj($<)p Fk(t)o(yp)q(ealt)q Fj(>)p Fk(n)p
Fo(')240 1979 y(Lik)o(e)h Fj($)p Fk(n)f Fo(but)h(sp)q(eci\014es)h
(alternativ)o(e)d Fk(t)o(yp)q(ealt)h Fo(in)h(the)g(union)f(sp)q
(eci\014ed)i(b)o(y)f(the)f Fj(\045union)g Fo(declara-)240
2041 y(tion.)k(See)d Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Data)e(T)o(yp)q
(es)h(of)g(V)l(alues)g(in)g(Actions],)f(page)h Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 2126 y(`)p Fj(YYABORT;)p
Fo(')240 2189 y(Return)22 b(immediately)c(from)h Fj(yyparse)p
Fo(,)j(indicating)e(failure.)37 b(See)22 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([The)e(P)o(arser)240 2251 y(F)l(unction)15
b Fj(yyparse)p Fo(],)e(page)j Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 2336 y(`)p Fj(YYACCEPT;)p Fo(')240 2398
y(Return)21 b(immediat)o(ely)c(from)i Fj(yyparse)p Fo(,)g(indicating)g
(success.)35 b(See)21 b Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([The)f(P)o(arser)240 2460 y(F)l(unction)15 b Fj(yyparse)p
Fo(],)e(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
2545 y(`)p Fj(YYBACKUP)e(\()p Fk(tok)o(en)p Fj(,)g Fk(v)m(alue)s
Fj(\);)p Fo(')240 2608 y(Unshift)j(a)g(tok)o(en.)25 b(This)16
b(macro)g(is)g(allo)o(w)o(ed)g(only)g(for)h(rules)g(that)f(reduce)i(a)f
(single)f(v)m(alue,)i(and)240 2670 y(only)c(when)g(there)g(is)g(no)g
(lo)q(ok-ahead)g(tok)o(en.)19 b(It)14 b(installs)f(a)g(lo)q(ok-ahead)h
(tok)o(en)g(with)f(tok)o(en)h(t)o(yp)q(e)p eop
%%Page: 66 68
66 67 bop 0 -58 a Fo(66)1697 b(Bison)15 b(1.25)240 183
y Fk(tok)o(en)d Fo(and)h(seman)o(tic)e(v)m(alue)h Fk(v)m(alue)s
Fo(;)h(then)g(it)f(discards)g(the)h(v)m(alue)g(that)e(w)o(as)h(going)g
(to)g(b)q(e)h(reduced)240 246 y(b)o(y)i(this)g(rule.)240
320 y(If)20 b(the)f(macro)f(is)h(used)h(when)f(it)g(is)g(not)g(v)m
(alid,)h(suc)o(h)f(as)g(when)h(there)g(is)e(a)h(lo)q(ok-ahead)g(tok)o
(en)240 382 y(already)l(,)c(then)h(it)f(rep)q(orts)g(a)g(syn)o(tax)g
(error)g(with)g(a)g(message)f(`)p Fj(cannot)g(back)h(up)p
Fo(')f(and)i(p)q(erforms)240 445 y(ordinary)e(error)h(reco)o(v)o(ery)l
(.)240 519 y(In)h(either)f(case,)g(the)g(rest)g(of)f(the)i(action)e(is)
h(not)g(executed.)0 607 y(`)p Fj(YYEMPTY)p Fo(')46 b(V)l(alue)15
b(stored)g(in)g Fj(yychar)f Fo(when)i(there)f(is)g(no)g(lo)q(ok-ahead)g
(tok)o(en.)0 694 y(`)p Fj(YYERROR;)p Fo(')240 756 y(Cause)f(an)g
(immediate)d(syn)o(tax)i(error.)19 b(This)13 b(statemen)o(t)f
(initiates)h(error)g(reco)o(v)o(ery)g(just)h(as)f(if)h(the)240
818 y(parser)19 b(itself)e(had)i(detected)h(an)f(error;)g(ho)o(w)o(ev)o
(er,)g(it)f(do)q(es)h(not)g(call)f Fj(yyerror)p Fo(,)g(and)h(do)q(es)g
(not)240 881 y(prin)o(t)12 b(an)o(y)g(message.)17 b(If)c(y)o(ou)f(w)o
(an)o(t)f(to)h(prin)o(t)g(an)g(error)g(message,)f(call)g
Fj(yyerror)h Fo(explicitly)f(b)q(efore)240 943 y(the)k(`)p
Fj(YYERROR;)p Fo(')f(statemen)o(t.)j(See)f Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Error)c(Reco)o(v)o(ery],)i(page)g Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1030 y(`)p Fj(YYRECOVERING)p Fo(')240 1092
y(This)f(macro)e(stands)i(for)f(an)h(expression)g(that)f(has)h(the)g(v)
m(alue)g(1)g(when)h(the)f(parser)f(is)h(reco)o(v)o(ering)240
1155 y(from)19 b(a)h(syn)o(tax)g(error,)h(and)f(0)h(the)f(rest)g(of)h
(the)f(time.)35 b(See)21 b Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([Error)f(Reco)o(v)o(ery],)240 1217 y(page)15 b Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 1304 y(`)p Fj(yychar)p
Fo(')70 b(V)l(ariable)15 b(con)o(taining)f(the)i(curren)o(t)f(lo)q
(ok-ahead)h(tok)o(en.)k(\(In)c(a)g(pure)g(parser,)f(this)g(is)g
(actually)f(a)240 1366 y(lo)q(cal)f(v)m(ariable)g(within)h
Fj(yyparse)p Fo(.\))k(When)c(there)g(is)g(no)g(lo)q(ok-ahead)f(tok)o
(en,)h(the)g(v)m(alue)g Fj(YYEMPTY)240 1429 y Fo(is)h(stored)f(in)h
(the)h(v)m(ariable.)j(See)d Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([Lo)q(ok-Ahead)g(T)l(ok)o(ens],)e(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1516 y(`)p Fj(yyclearin;)p Fo(')240 1578
y(Discard)21 b(the)g(curren)o(t)h(lo)q(ok-ahead)f(tok)o(en.)38
b(This)21 b(is)g(useful)h(primarily)d(in)i(error)g(rules.)38
b(See)240 1640 y Fm(h)p Fo(unde\014ned)p Fm(i)16 b Fo([Error)e(Reco)o
(v)o(ery],)h(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1727 y(`)p Fj(yyerrok;)p Fo(')240 1790 y(Resume)i(generating)g(error)f
(messages)g(immediately)e(for)j(subsequen)o(t)h(syn)o(tax)e(errors.)26
b(This)16 b(is)240 1852 y(useful)f(primarily)e(in)i(error)f(rules.)20
b(See)c Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Error)e(Reco)o(v)o(ery],)g
(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1939 y(`)p
Fj(@)p Fk(n)p Fo(')165 b(Acts)16 b(lik)o(e)f(a)g(structure)h(v)m
(ariable)f(con)o(taining)g(information)e(on)i(the)h(line)g(n)o(um)o(b)q
(ers)f(and)h(column)240 2001 y(n)o(um)o(b)q(ers)g(of)h(the)h
Fk(n)p Fo(th)f(comp)q(onen)o(t)f(of)h(the)g(curren)o(t)g(rule.)26
b(The)17 b(structure)g(has)g(four)g(mem)o(b)q(ers,)240
2064 y(lik)o(e)d(this:)360 2128 y Fj(struct)23 b({)408
2180 y(int)g(first_line,)g(last_line;)408 2232 y(int)g(first_column,)f
(last_column;)360 2284 y(};)240 2358 y Fo(Th)o(us,)15
b(to)f(get)h(the)g(starting)f(line)h(n)o(um)o(b)q(er)f(of)h(the)g
(third)g(comp)q(onen)o(t,)f(use)i(`)p Fj(@3.first_line)p
Fo('.)240 2433 y(In)e(order)f(for)f(the)h(mem)o(b)q(ers)f(of)h(this)f
(structure)h(to)g(con)o(tain)f(v)m(alid)h(information,)d(y)o(ou)j(m)o
(ust)e(mak)o(e)240 2495 y Fj(yylex)18 b Fo(supply)g(this)g(information)
d(ab)q(out)j(eac)o(h)h(tok)o(en.)28 b(If)19 b(y)o(ou)f(need)h(only)f
(certain)f(mem)o(b)q(ers,)240 2558 y(then)f Fj(yylex)e
Fo(need)i(only)f(\014ll)f(in)i(those)e(mem)o(b)q(ers.)240
2632 y(The)h(use)h(of)f(this)f(feature)h(mak)o(es)f(the)h(parser)g
(noticeably)f(slo)o(w)o(er.)p eop
%%Page: 67 69
67 68 bop 0 -58 a Fo(Chapter)15 b(5:)k(The)d(Bison)f(P)o(arser)f
(Algorithm)1106 b(67)0 183 y Fl(5)41 b(The)15 b(Bison)h(P)n(arser)e
(Algorithm)62 414 y Fo(As)h(Bison)f(reads)g(tok)o(ens,)f(it)h(pushes)h
(them)e(on)o(to)h(a)g(stac)o(k)f(along)g(with)h(their)g(seman)o(tic)e
(v)m(alues.)20 b(The)15 b(stac)o(k)0 476 y(is)g(called)f(the)i
Fk(parser)f(stac)o(k)p Fo(.)k(Pushing)c(a)g(tok)o(en)f(is)h
(traditionally)e(called)h Fk(shifting)p Fo(.)62 622 y(F)l(or)h
(example,)f(supp)q(ose)i(the)f(in\014x)h(calculator)e(has)h(read)g(`)p
Fj(1)g(+)g(5)g(*)p Fo(',)f(with)h(a)g(`)p Fj(3)p Fo(')f(to)h(come.)k
(The)d(stac)o(k)e(will)0 684 y(ha)o(v)o(e)h(four)g(elemen)o(ts,)e(one)i
(for)g(eac)o(h)g(tok)o(en)g(that)g(w)o(as)f(shifted.)62
829 y(But)19 b(the)f(stac)o(k)g(do)q(es)g(not)g(alw)o(a)o(ys)f(ha)o(v)o
(e)h(an)g(elemen)o(t)f(for)h(eac)o(h)g(tok)o(en)g(read.)30
b(When)18 b(the)h(last)e Fk(n)h Fo(tok)o(ens)0 892 y(and)e(groupings)f
(shifted)h(matc)o(h)f(the)h(comp)q(onen)o(ts)f(of)h(a)f(grammar)e
(rule,)i(they)i(can)f(b)q(e)g(com)o(bined)f(according)0
954 y(to)g(that)h(rule.)22 b(This)16 b(is)f(called)h
Fk(reduction)p Fo(.)23 b(Those)16 b(tok)o(ens)f(and)h(groupings)g(are)f
(replaced)i(on)f(the)g(stac)o(k)f(b)o(y)h(a)0 1016 y(single)c(grouping)
h(whose)f(sym)o(b)q(ol)g(is)g(the)h(result)g(\(left)f(hand)h(side\))g
(of)f(that)g(rule.)19 b(Running)14 b(the)f(rule's)f(action)g(is)0
1079 y(part)i(of)g(the)h(pro)q(cess)g(of)f(reduction,)h(b)q(ecause)g
(this)f(is)h(what)f(computes)f(the)i(seman)o(tic)e(v)m(alue)i(of)f(the)
h(resulting)0 1141 y(grouping.)62 1287 y(F)l(or)g(example,)e(if)i(the)g
(in\014x)h(calculator's)d(parser)i(stac)o(k)f(con)o(tains)h(this:)120
1422 y Fj(1)24 b(+)f(5)h(*)g(3)0 1568 y Fo(and)15 b(the)g(next)g(input)
f(tok)o(en)h(is)f(a)g(newline)h(c)o(haracter,)f(then)h(the)f(last)g
(three)h(elemen)o(ts)e(can)i(b)q(e)h(reduced)f(to)g(15)0
1630 y(via)f(the)i(rule:)120 1765 y Fj(expr:)23 b(expr)g('*')h(expr;)0
1911 y Fo(Then)16 b(the)f(stac)o(k)f(con)o(tains)h(just)g(these)g
(three)g(elemen)o(ts:)120 2046 y Fj(1)24 b(+)f(15)0 2192
y Fo(A)o(t)16 b(this)h(p)q(oin)o(t,)f(another)g(reduction)h(can)g(b)q
(e)g(made,)f(resulting)g(in)h(the)g(single)f(v)m(alue)h(16.)24
b(Then)17 b(the)g(newline)0 2254 y(tok)o(en)e(can)g(b)q(e)h(shifted.)62
2400 y(The)i(parser)g(tries,)f(b)o(y)h(shifts)f(and)h(reductions,)g(to)
f(reduce)i(the)f(en)o(tire)f(input)h(do)o(wn)f(to)g(a)h(single)f
(group-)0 2462 y(ing)j(whose)g(sym)o(b)q(ol)e(is)i(the)g(grammar')o(s)e
(start-sym)o(b)q(ol)f(\(see)j Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([Languages)d(and)i(Con)o(text-F)l(ree)0 2524
y(Grammar)o(s],)12 b(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(\).)62 2670 y(This)g(kind)g(of)g(parser)g(is)g(kno)o(wn)g(in)g(the)g
(literature)f(as)g(a)h(b)q(ottom-up)f(parser.)p eop
%%Page: 68 70
68 69 bop 0 -58 a Fo(68)1697 b(Bison)15 b(1.25)0 183
y Fn(5.1)33 b(Lo)r(ok-Ahead)15 b(T)-6 b(ok)n(ens)62 343
y Fo(The)13 b(Bison)f(parser)g(do)q(es)h Fk(not)g Fo(alw)o(a)o(ys)d
(reduce)k(immediatel)o(y)c(as)i(so)q(on)g(as)g(the)g(last)g
Fk(n)g Fo(tok)o(ens)g(and)h(groupings)0 405 y(matc)o(h)19
b(a)i(rule.)36 b(This)21 b(is)f(b)q(ecause)i(suc)o(h)f(a)f(simple)g
(strategy)f(is)h(inadequate)h(to)f(handle)h(most)e(languages.)0
468 y(Instead,)h(when)g(a)f(reduction)g(is)g(p)q(ossible,)g(the)h
(parser)f(sometimes)d(\\lo)q(oks)i(ahead")h(at)g(the)g(next)g(tok)o(en)
g(in)0 530 y(order)c(to)f(decide)i(what)f(to)g(do.)62
690 y(When)e(a)g(tok)o(en)f(is)h(read,)f(it)g(is)h(not)f(immediately)e
(shifted;)j(\014rst)f(it)g(b)q(ecomes)g(the)h Fk(lo)q(ok-ahead)g(tok)o
(en)p Fo(,)f(whic)o(h)0 752 y(is)k(not)g(on)h(the)g(stac)o(k.)23
b(No)o(w)16 b(the)h(parser)f(can)h(p)q(erform)e(one)i(or)f(more)f
(reductions)i(of)f(tok)o(ens)g(and)h(groupings)0 814
y(on)e(the)g(stac)o(k,)e(while)i(the)f(lo)q(ok-ahead)h(tok)o(en)f
(remains)f(o\013)h(to)g(the)h(side.)20 b(When)15 b(no)g(more)e
(reductions)i(should)0 876 y(tak)o(e)j(place,)g(the)h(lo)q(ok-ahead)f
(tok)o(en)f(is)h(shifted)g(on)o(to)g(the)g(stac)o(k.)29
b(This)17 b(do)q(es)i(not)f(mean)f(that)h(all)f(p)q(ossible)0
939 y(reductions)f(ha)o(v)o(e)f(b)q(een)i(done;)f(dep)q(ending)h(on)e
(the)h(tok)o(en)f(t)o(yp)q(e)h(of)g(the)f(lo)q(ok-ahead)h(tok)o(en,)f
(some)f(rules)i(ma)o(y)0 1001 y(c)o(ho)q(ose)f(to)g(dela)o(y)f(their)h
(application.)62 1161 y(Here)j(is)g(a)f(simple)g(case)h(where)g(lo)q
(ok-ahead)f(is)g(needed.)30 b(These)18 b(three)g(rules)f(de\014ne)i
(expressions)f(whic)o(h)0 1223 y(con)o(tain)12 b(binary)g(addition)g
(op)q(erators)g(and)h(p)q(ost\014x)g(unary)g(factorial)e(op)q(erators)g
(\(`)p Fj(!)p Fo('\),)h(and)h(allo)o(w)e(paren)o(theses)0
1285 y(for)k(grouping.)120 1434 y Fj(expr:)119 b(term)23
b('+')g(expr)311 1486 y(|)h(term)311 1538 y(;)120 1610
y(term:)119 b('\(')23 b(expr)g('\)')311 1662 y(|)h(term)f('!')311
1713 y(|)h(NUMBER)311 1765 y(;)62 1915 y Fo(Supp)q(ose)12
b(that)e(the)h(tok)o(ens)f(`)p Fj(1)k(+)h(2)p Fo(')10
b(ha)o(v)o(e)h(b)q(een)g(read)g(and)g(shifted;)g(what)f(should)h(b)q(e)
g(done?)20 b(If)11 b(the)f(follo)o(wing)0 1977 y(tok)o(en)17
b(is)g(`)p Fj(\))p Fo(',)g(then)h(the)f(\014rst)h(three)f(tok)o(ens)g
(m)o(ust)f(b)q(e)i(reduced)h(to)e(form)f(an)h Fj(expr)p
Fo(.)26 b(This)18 b(is)f(the)g(only)g(v)m(alid)0 2039
y(course,)e(b)q(ecause)g(shifting)f(the)h(`)p Fj(\))p
Fo(')f(w)o(ould)g(pro)q(duce)i(a)e(sequence)i(of)f(sym)o(b)q(ols)e
Fj(term)h('\)')p Fo(,)g(and)h(no)g(rule)g(allo)o(ws)0
2101 y(this.)62 2261 y(If)g(the)f(follo)o(wing)e(tok)o(en)i(is)g(`)p
Fj(!)p Fo(',)f(then)h(it)g(m)o(ust)e(b)q(e)j(shifted)f(immediately)d
(so)j(that)g(`)p Fj(2)g(!)p Fo(')g(can)g(b)q(e)h(reduced)h(to)0
2323 y(mak)o(e)c(a)g Fj(term)p Fo(.)19 b(If)13 b(instead)g(the)g
(parser)g(w)o(ere)g(to)f(reduce)i(b)q(efore)g(shifting,)e(`)p
Fj(1)i(+)h(2)p Fo(')e(w)o(ould)f(b)q(ecome)h(an)g Fj(expr)p
Fo(.)19 b(It)0 2386 y(w)o(ould)13 b(then)g(b)q(e)h(imp)q(ossible)e(to)g
(shift)h(the)g(`)p Fj(!)p Fo(')g(b)q(ecause)h(doing)f(so)g(w)o(ould)f
(pro)q(duce)i(on)g(the)f(stac)o(k)f(the)i(sequence)0
2448 y(of)h(sym)o(b)q(ols)e Fj(expr)i('!')p Fo(.)k(No)c(rule)g(allo)o
(ws)f(that)g(sequence.)62 2608 y(The)f(curren)o(t)f(lo)q(ok-ahead)g
(tok)o(en)f(is)h(stored)g(in)g(the)g(v)m(ariable)g Fj(yychar)p
Fo(.)18 b(See)13 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Sp)q(ecial)f(F)l
(eatures)0 2670 y(for)j(Use)g(in)g(Actions],)f(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)p eop
%%Page: 69 71
69 70 bop 0 -58 a Fo(Chapter)15 b(5:)k(The)d(Bison)f(P)o(arser)f
(Algorithm)1106 b(69)0 183 y Fn(5.2)33 b(Shift/Reduce)16
b(Con\015icts)62 325 y Fo(Supp)q(ose)g(w)o(e)e(are)g(parsing)g(a)h
(language)e(whic)o(h)i(has)f(if-then)h(and)f(if-then-else)h(statemen)o
(ts,)d(with)i(a)g(pair)g(of)0 387 y(rules)h(lik)o(e)f(this:)120
519 y Fj(if_stmt:)359 571 y(IF)23 b(expr)h(THEN)f(stmt)311
622 y(|)h(IF)f(expr)h(THEN)f(stmt)g(ELSE)g(stmt)311 674
y(;)0 806 y Fo(Here)15 b(w)o(e)g(assume)f(that)h Fj(IF)p
Fo(,)f Fj(THEN)h Fo(and)g Fj(ELSE)g Fo(are)g(terminal)e(sym)o(b)q(ols)g
(for)i(sp)q(eci\014c)h(k)o(eyw)o(ord)e(tok)o(ens.)62
948 y(When)22 b(the)f Fj(ELSE)g Fo(tok)o(en)g(is)g(read)g(and)g(b)q
(ecomes)g(the)h(lo)q(ok-ahead)f(tok)o(en,)g(the)h(con)o(ten)o(ts)f(of)f
(the)i(stac)o(k)0 1010 y(\(assuming)13 b(the)j(input)f(is)g(v)m(alid\))
f(are)h(just)g(righ)o(t)f(for)h(reduction)g(b)o(y)g(the)g(\014rst)g
(rule.)20 b(But)c(it)e(is)h(also)f(legitimate)0 1072
y(to)h(shift)f(the)h Fj(ELSE)p Fo(,)g(b)q(ecause)h(that)e(w)o(ould)h
(lead)g(to)f(ev)o(en)o(tual)h(reduction)g(b)o(y)g(the)g(second)h(rule.)
62 1214 y(This)c(situation,)e(where)i(either)f(a)h(shift)f(or)g(a)g
(reduction)h(w)o(ould)f(b)q(e)h(v)m(alid,)g(is)f(called)g(a)h
Fk(shift/reduce)f(con\015ict)p Fo(.)0 1276 y(Bison)f(is)h(designed)g
(to)f(resolv)o(e)g(these)h(con\015icts)g(b)o(y)f(c)o(ho)q(osing)g(to)h
(shift,)f(unless)h(otherwise)f(directed)h(b)o(y)g(op)q(erator)0
1338 y(precedence)17 b(declarations.)i(T)l(o)14 b(see)i(the)f(reason)g
(for)g(this,)f(let's)g(con)o(trast)g(it)g(with)h(the)g(other)g
(alternativ)o(e.)62 1480 y(Since)f(the)g(parser)f(prefers)g(to)g(shift)
g(the)g Fj(ELSE)p Fo(,)g(the)h(result)e(is)h(to)g(attac)o(h)f(the)i
(else-clause)f(to)g(the)h(innermost)0 1542 y(if-statemen)o(t,)e(making)
i(these)h(t)o(w)o(o)f(inputs)h(equiv)m(alen)o(t:)120
1674 y Fj(if)24 b(x)f(then)h(if)f(y)h(then)f(win)h(\(\);)f(else)g
(lose;)120 1778 y(if)h(x)f(then)h(do;)f(if)h(y)f(then)h(win)f(\(\);)h
(else)f(lose;)g(end;)62 1919 y Fo(But)15 b(if)f(the)h(parser)g(c)o
(hose)g(to)f(reduce)h(when)h(p)q(ossible)e(rather)h(than)f(shift,)g
(the)h(result)f(w)o(ould)g(b)q(e)i(to)e(attac)o(h)0 1982
y(the)h(else-clause)g(to)g(the)g(outermost)e(if-statemen)o(t,)g(making)
g(these)j(t)o(w)o(o)d(inputs)j(equiv)m(alen)o(t:)120
2113 y Fj(if)24 b(x)f(then)h(if)f(y)h(then)f(win)h(\(\);)f(else)g
(lose;)120 2217 y(if)h(x)f(then)h(do;)f(if)h(y)f(then)h(win)f(\(\);)h
(end;)f(else)g(lose;)62 2359 y Fo(The)17 b(con\015ict)f(exists)g(b)q
(ecause)i(the)e(grammar)d(as)j(written)g(is)g(am)o(biguous:)k(either)c
(parsing)g(of)g(the)g(simple)0 2421 y(nested)f(if-statemen)o(t)d(is)h
(legitimate.)k(The)d(established)g(con)o(v)o(en)o(tion)f(is)h(that)g
(these)g(am)o(biguities)e(are)i(resolv)o(ed)0 2483 y(b)o(y)21
b(attac)o(hing)f(the)i(else-clause)f(to)g(the)g(innermost)f
(if-statemen)o(t;)i(this)e(is)h(what)g(Bison)g(accomplishes)f(b)o(y)0
2545 y(c)o(ho)q(osing)10 b(to)h(shift)f(rather)g(than)h(reduce.)19
b(\(It)11 b(w)o(ould)f(ideally)g(b)q(e)h(cleaner)g(to)g(write)f(an)g
(unam)o(biguous)g(grammar)o(,)0 2608 y(but)18 b(that)f(is)g(v)o(ery)g
(hard)h(to)f(do)g(in)h(this)f(case.\))27 b(This)17 b(particular)f(am)o
(biguit)o(y)f(w)o(as)i(\014rst)g(encoun)o(tered)h(in)g(the)0
2670 y(sp)q(eci\014cations)d(of)g(Algol)f(60)g(and)i(is)e(called)h(the)
h(\\dangling)e Fj(else)p Fo(")g(am)o(biguit)o(y)l(.)p
eop
%%Page: 70 72
70 71 bop 0 -58 a Fo(70)1697 b(Bison)15 b(1.25)62 183
y(T)l(o)24 b(a)o(v)o(oid)f(w)o(arnings)g(from)f(Bison)i(ab)q(out)f
(predictable,)j(legitimate)21 b(shift/reduce)j(con\015icts,)i(use)e
(the)0 246 y Fj(\045expect)14 b Fk(n)h Fo(declaration.)j(There)d(will)f
(b)q(e)h(no)g(w)o(arning)e(as)h(long)g(as)g(the)h(n)o(um)o(b)q(er)f(of)
g(shift/reduce)h(con\015icts)f(is)0 308 y(exactly)h Fk(n)p
Fo(.)20 b(See)15 b Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Suppressing)e
(Con\015ict)g(W)l(arnings],)f(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 451 y(The)k(de\014nition)g(of)g Fj(if_stmt)f
Fo(ab)q(o)o(v)o(e)g(is)h(solely)f(to)g(blame)f(for)i(the)g(con\015ict,)
g(but)g(the)g(con\015ict)g(do)q(es)g(not)0 513 y(actually)11
b(app)q(ear)h(without)e(additional)h(rules.)18 b(Here)12
b(is)g(a)f(complete)g(Bison)g(input)h(\014le)g(that)f(actually)g
(manifests)0 575 y(the)k(con\015ict:)120 708 y Fj(\045token)23
b(IF)h(THEN)f(ELSE)g(variable)120 760 y(\045\045)120
816 y(stmt:)119 b(expr)311 868 y(|)24 b(if_stmt)311 920
y(;)120 991 y(if_stmt:)359 1043 y(IF)f(expr)h(THEN)f(stmt)311
1095 y(|)h(IF)f(expr)h(THEN)f(stmt)g(ELSE)g(stmt)311
1147 y(;)120 1218 y(expr:)119 b(variable)311 1270 y(;)0
1547 y Fn(5.3)33 b(Op)r(erator)15 b(Precedence)62 1690
y Fo(Another)e(situation)f(where)h(shift/reduce)g(con\015icts)g(app)q
(ear)g(is)g(in)g(arithmetic)e(expressions.)19 b(Here)13
b(shifting)0 1752 y(is)i(not)g(alw)o(a)o(ys)e(the)i(preferred)h
(resolution;)d(the)j(Bison)f(declarations)e(for)i(op)q(erator)f
(precedence)j(allo)o(w)d(y)o(ou)h(to)0 1814 y(sp)q(ecify)h(when)f(to)g
(shift)f(and)i(when)f(to)g(reduce.)0 2074 y Fh(5.3.1)30
b(When)16 b(Precedence)f(is)g(Needed)62 2217 y Fo(Consider)g(the)g
(follo)o(wing)e(am)o(biguous)g(gramma)o(r)f(fragmen)o(t)h(\(am)o
(biguous)g(b)q(ecause)j(the)f(input)g(`)p Fj(1)f(-)h(2)g(*)h(3)p
Fo(')0 2280 y(can)f(b)q(e)h(parsed)g(in)f(t)o(w)o(o)e(di\013eren)o(t)i
(w)o(a)o(ys\):)120 2412 y Fj(expr:)119 b(expr)23 b('-')g(expr)311
2464 y(|)h(expr)f('*')g(expr)311 2516 y(|)h(expr)f('<')g(expr)311
2568 y(|)h('\(')f(expr)g('\)')311 2620 y Ff(:)8 b(:)g(:)311
2671 y Fj(;)p eop
%%Page: 71 73
71 72 bop 0 -58 a Fo(Chapter)15 b(5:)k(The)d(Bison)f(P)o(arser)f
(Algorithm)1106 b(71)0 183 y(Supp)q(ose)17 b(the)g(parser)f(has)g(seen)
h(the)g(tok)o(ens)f(`)p Fj(1)p Fo(',)f(`)p Fj(-)p Fo(')h(and)g(`)p
Fj(2)p Fo(';)g(should)g(it)g(reduce)h(them)f(via)f(the)i(rule)f(for)g
(the)0 246 y(addition)j(op)q(erator?)34 b(It)20 b(dep)q(ends)h(on)f
(the)g(next)g(tok)o(en.)34 b(Of)20 b(course,)h(if)e(the)h(next)g(tok)o
(en)g(is)f(`)p Fj(\))p Fo(',)h(w)o(e)g(m)o(ust)0 308
y(reduce;)c(shifting)e(is)g(in)o(v)m(alid)h(b)q(ecause)h(no)f(single)f
(rule)h(can)h(reduce)g(the)f(tok)o(en)g(sequence)h(`)p
Fj(-)f(2)g(\))p Fo(')f(or)h(an)o(ything)0 370 y(starting)e(with)g
(that.)19 b(But)c(if)e(the)i(next)f(tok)o(en)g(is)g(`)p
Fj(*)p Fo(')f(or)h(`)p Fj(<)p Fo(',)f(w)o(e)i(ha)o(v)o(e)e(a)i(c)o
(hoice:)k(either)14 b(shifting)f(or)h(reduction)0 432
y(w)o(ould)h(allo)o(w)e(the)i(parse)g(to)g(complete,)e(but)j(with)e
(di\013eren)o(t)h(results.)62 570 y(T)l(o)h(decide)g(whic)o(h)f(one)h
(Bison)f(should)h(do,)f(w)o(e)h(m)o(ust)e(consider)h(the)h(results.)k
(If)c(the)g(next)g(op)q(erator)e(tok)o(en)0 633 y Fk(op)19
b Fo(is)d(shifted,)i(then)f(it)g(m)o(ust)f(b)q(e)i(reduced)g(\014rst)f
(in)g(order)g(to)g(p)q(ermit)f(another)h(opp)q(ortunit)o(y)f(to)h
(reduce)h(the)0 695 y(sum.)g(The)12 b(result)g(is)f(\(in)h(e\013ect\))f
(`)p Fj(1)k(-)g(\(2)g Fk(op)h Fj(3\))p Fo('.)j(On)12
b(the)g(other)g(hand,)h(if)f(the)g(subtraction)f(is)g(reduced)j(b)q
(efore)0 757 y(shifting)h Fk(op)p Fo(,)g(the)h(result)g(is)f(`)p
Fj(\(1)g(-)g(2\))f Fk(op)j Fj(3)p Fo(')o(.)22 b(Clearly)l(,)15
b(then,)h(the)g(c)o(hoice)g(of)f(shift)g(or)h(reduce)g(should)g(dep)q
(end)0 819 y(on)f(the)g(relativ)o(e)f(precedence)j(of)e(the)g(op)q
(erators)f(`)p Fj(-)p Fo(')h(and)g Fk(op)q Fo(:)20 b(`)p
Fj(*)p Fo(')15 b(should)g(b)q(e)h(shifted)f(\014rst,)f(but)h(not)g(`)p
Fj(<)p Fo('.)62 957 y(What)e(ab)q(out)g(input)g(suc)o(h)h(as)f(`)p
Fj(1)h(-)h(2)g(-)g(5)p Fo(';)e(should)h(this)e(b)q(e)i(`)p
Fj(\(1)h(-)g(2\))g(-)g(5)p Fo(')d(or)h(should)g(it)g(b)q(e)h(`)p
Fj(1)g(-)h(\(2)g(-)g(5\))p Fo('?)0 1020 y(F)l(or)i(most)g(op)q(erators)
g(w)o(e)h(prefer)g(the)g(former,)f(whic)o(h)h(is)f(called)h
Fk(left)f(asso)q(ciation)p Fo(.)27 b(The)18 b(latter)f(alternativ)o(e,)
0 1082 y Fk(righ)o(t)g(asso)q(ciation)p Fo(,)g(is)h(desirable)g(for)f
(assignmen)o(t)g(op)q(erators.)28 b(The)18 b(c)o(hoice)g(of)g(left)g
(or)g(righ)o(t)f(asso)q(ciation)f(is)0 1144 y(a)g(matter)e(of)i
(whether)g(the)g(parser)g(c)o(ho)q(oses)g(to)g(shift)f(or)h(reduce)h
(when)f(the)h(stac)o(k)e(con)o(tains)g(`)p Fj(1)g(-)g(2)p
Fo(')h(and)g(the)0 1207 y(lo)q(ok-ahead)f(tok)o(en)g(is)f(`)p
Fj(-)p Fo(':)19 b(shifting)14 b(mak)o(es)g(righ)o(t-asso)q(ciativit)n
(y)l(.)0 1423 y Fh(5.3.2)30 b(Sp)r(ecifying)13 b(Op)r(erator)i
(Precedence)62 1562 y Fo(Bison)h(allo)o(ws)e(y)o(ou)i(to)f(sp)q(ecify)h
(these)g(c)o(hoices)g(with)f(the)h(op)q(erator)f(precedence)j
(declarations)d Fj(\045left)g Fo(and)0 1624 y Fj(\045right)p
Fo(.)k(Eac)o(h)13 b(suc)o(h)h(declaration)f(con)o(tains)f(a)i(list)e
(of)i(tok)o(ens,)f(whic)o(h)g(are)h(op)q(erators)f(whose)g(precedence)j
(and)0 1686 y(asso)q(ciativit)o(y)g(is)j(b)q(eing)g(declared.)32
b(The)19 b Fj(\045left)g Fo(declaration)f(mak)o(es)f(all)h(those)h(op)q
(erators)f(left-asso)q(ciativ)o(e)0 1748 y(and)c(the)h
Fj(\045right)e Fo(declaration)g(mak)o(es)g(them)g(righ)o(t-asso)q
(ciativ)o(e.)k(A)d(third)g(alternativ)o(e)f(is)g Fj(\045nonassoc)p
Fo(,)g(whic)o(h)0 1811 y(declares)i(that)g(it)f(is)h(a)g(syn)o(tax)f
(error)h(to)f(\014nd)i(the)f(same)f(op)q(erator)h(t)o(wice)f(\\in)h(a)g
(ro)o(w".)62 1949 y(The)j(relativ)o(e)e(precedence)j(of)d(di\013eren)o
(t)h(op)q(erators)f(is)h(con)o(trolled)f(b)o(y)h(the)h(order)f(in)g
(whic)o(h)g(they)g(are)g(de-)0 2011 y(clared.)24 b(The)17
b(\014rst)f Fj(\045left)g Fo(or)g Fj(\045right)g Fo(declaration)f(in)i
(the)f(\014le)h(declares)f(the)h(op)q(erators)f(whose)g(precedence)0
2073 y(is)f(lo)o(w)o(est,)f(the)h(next)h(suc)o(h)f(declaration)g
(declares)g(the)h(op)q(erators)e(whose)i(precedence)h(is)e(a)g(little)f
(higher,)h(and)0 2135 y(so)g(on.)0 2352 y Fh(5.3.3)30
b(Precedence)16 b(Examples)62 2490 y Fo(In)g(our)f(example,)f(w)o(e)h
(w)o(ould)f(w)o(an)o(t)g(the)i(follo)o(wing)c(declarations:)120
2618 y Fj(\045left)23 b('<')120 2670 y(\045left)g('-')p
eop
%%Page: 72 74
72 73 bop 0 -58 a Fo(72)1697 b(Bison)15 b(1.25)120 183
y Fj(\045left)23 b('*')62 328 y Fo(In)16 b(a)e(more)f(complete)g
(example,)h(whic)o(h)g(supp)q(orts)h(other)f(op)q(erators)g(as)g(w)o
(ell,)f(w)o(e)i(w)o(ould)f(declare)h(them)e(in)0 390
y(groups)i(of)g(equal)g(precedence.)21 b(F)l(or)15 b(example,)e
Fj('+')i Fo(is)g(declared)g(with)g Fj('-')p Fo(:)120
525 y Fj(\045left)23 b('<')h('>')f('=')h(NE)f(LE)h(GE)120
576 y(\045left)f('+')h('-')120 628 y(\045left)f('*')h('/')0
773 y Fo(\(Here)13 b Fj(NE)g Fo(and)g(so)g(on)h(stand)f(for)f(the)h(op)
q(erators)g(for)f(\\not)h(equal")g(and)g(so)g(on.)19
b(W)l(e)13 b(assume)g(that)f(these)h(tok)o(ens)0 835
y(are)i(more)f(than)h(one)g(c)o(haracter)g(long)f(and)h(therefore)g
(are)g(represen)o(ted)h(b)o(y)f(names,)f(not)h(c)o(haracter)f
(literals.\))0 1112 y Fh(5.3.4)30 b(Ho)n(w)15 b(Precedence)h(W)-5
b(orks)62 1257 y Fo(The)21 b(\014rst)g(e\013ect)g(of)f(the)h
(precedence)i(declarations)c(is)i(to)f(assign)g(precedence)j(lev)o(els)
d(to)g(the)h(terminal)0 1319 y(sym)o(b)q(ols)15 b(declared.)25
b(The)16 b(second)i(e\013ect)e(is)g(to)g(assign)g(precedence)i(lev)o
(els)e(to)g(certain)h(rules:)22 b(eac)o(h)17 b(rule)f(gets)0
1382 y(its)f(precedence)i(from)d(the)i(last)e(terminal)f(sym)o(b)q(ol)h
(men)o(tioned)h(in)g(the)h(comp)q(onen)o(ts.)k(\(Y)l(ou)15
b(can)h(also)f(sp)q(ecify)0 1444 y(explicitly)g(the)h(precedence)i(of)d
(a)h(rule.)22 b(See)17 b Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([Con)o(text-Dep)q(enden)o(t)f(Precedence],)h(page)f
Fm(h)p Fo(unde-)0 1506 y(\014ned)p Fm(i)p Fo(.\))62 1651
y(Finally)l(,)10 b(the)g(resolution)g(of)f(con\015icts)i(w)o(orks)e(b)o
(y)h(comparing)f(the)h(precedence)i(of)e(the)h(rule)f(b)q(eing)h
(considered)0 1713 y(with)18 b(that)g(of)h(the)f(lo)q(ok-ahead)h(tok)o
(en.)30 b(If)19 b(the)g(tok)o(en's)f(precedence)i(is)f(higher,)g(the)g
(c)o(hoice)f(is)h(to)f(shift.)30 b(If)0 1775 y(the)17
b(rule's)f(precedence)j(is)e(higher,)g(the)g(c)o(hoice)g(is)f(to)g
(reduce.)27 b(If)17 b(they)g(ha)o(v)o(e)f(equal)h(precedence,)i(the)e
(c)o(hoice)0 1838 y(is)f(made)f(based)h(on)g(the)h(asso)q(ciativit)o(y)
c(of)j(that)f(precedence)j(lev)o(el.)k(The)16 b(v)o(erb)q(ose)h(output)
f(\014le)g(made)f(b)o(y)h(`)p Fj(-v)p Fo(')0 1900 y(\(see)f
Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([In)o(v)o(oking)d(Bison],)g(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\))h(sa)o(ys)f(ho)o(w)f(eac)o(h)i
(con\015ict)f(w)o(as)f(resolv)o(ed.)62 2045 y(Not)h(all)f(rules)h(and)h
(not)f(all)f(tok)o(ens)h(ha)o(v)o(e)g(precedence.)22
b(If)15 b(either)g(the)h(rule)f(or)g(the)g(lo)q(ok-ahead)g(tok)o(en)g
(has)0 2107 y(no)g(precedence,)i(then)e(the)h(default)e(is)h(to)g
(shift.)0 2401 y Fn(5.4)33 b(Con)n(text-Dep)r(enden)n(t)15
b(Precedence)62 2545 y Fo(Often)j(the)f(precedence)j(of)c(an)i(op)q
(erator)e(dep)q(ends)j(on)e(the)h(con)o(text.)26 b(This)17
b(sounds)g(outlandish)g(at)g(\014rst,)0 2608 y(but)e(it)g(is)g(really)f
(v)o(ery)h(common.)i(F)l(or)e(example,)e(a)i(min)o(us)f(sign)h(t)o
(ypically)f(has)h(a)g(v)o(ery)f(high)h(precedence)i(as)e(a)0
2670 y(unary)e(op)q(erator,)f(and)g(a)h(somewhat)e(lo)o(w)o(er)g
(precedence)j(\(lo)o(w)o(er)d(than)i(m)o(ultiplicat)o(ion\))c(as)k(a)f
(binary)g(op)q(erator.)p eop
%%Page: 73 75
73 74 bop 0 -58 a Fo(Chapter)15 b(5:)k(The)d(Bison)f(P)o(arser)f
(Algorithm)1106 b(73)62 183 y(The)18 b(Bison)f(precedence)i
(declarations,)d Fj(\045left)p Fo(,)h Fj(\045right)g
Fo(and)g Fj(\045nonassoc)p Fo(,)f(can)i(only)f(b)q(e)h(used)g(once)g
(for)0 246 y(a)h(giv)o(en)g(tok)o(en;)h(so)f(a)g(tok)o(en)g(has)g(only)
g(one)g(precedence)i(declared)e(in)g(this)g(w)o(a)o(y)l(.)31
b(F)l(or)19 b(con)o(text-dep)q(enden)o(t)0 308 y(precedence,)e(y)o(ou)d
(need)i(to)f(use)h(an)f(additional)e(mec)o(hanism:)18
b(the)d Fj(\045prec)g Fo(mo)q(di\014er)f(for)g(rules.)62
453 y(The)g Fj(\045prec)f Fo(mo)q(di\014er)f(declares)i(the)f
(precedence)j(of)d(a)g(particular)f(rule)h(b)o(y)h(sp)q(ecifying)f(a)g
(terminal)f(sym)o(b)q(ol)0 515 y(whose)22 b(precedence)i(should)f(b)q
(e)g(used)g(for)f(that)g(rule.)41 b(It's)22 b(not)g(necessary)h(for)e
(that)h(sym)o(b)q(ol)f(to)h(app)q(ear)0 578 y(otherwise)14
b(in)h(the)h(rule.)j(The)d(mo)q(di\014er's)e(syn)o(tax)g(is:)120
712 y Fj(\045prec)23 b Fk(terminal-sym)o(b)q(ol)0 858
y Fo(and)15 b(it)g(is)f(written)h(after)f(the)h(comp)q(onen)o(ts)g(of)f
(the)i(rule.)j(Its)c(e\013ect)g(is)g(to)g(assign)f(the)h(rule)g(the)g
(precedence)i(of)0 920 y Fk(terminal-sym)n(b)q(ol)p Fo(,)12
b(o)o(v)o(erriding)h(the)i(precedence)h(that)e(w)o(ould)h(b)q(e)g
(deduced)h(for)e(it)g(in)h(the)g(ordinary)f(w)o(a)o(y)l(.)19
b(The)0 982 y(altered)c(rule)h(precedence)i(then)e(a\013ects)f(ho)o(w)g
(con\015icts)h(in)o(v)o(olving)e(that)h(rule)h(are)g(resolv)o(ed)f
(\(see)h Fm(h)p Fo(unde\014ned)p Fm(i)0 1044 y Fo([Op)q(erator)f
(Precedence],)g(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(\).)62 1190 y(Here)d(is)g(ho)o(w)f Fj(\045prec)g Fo(solv)o(es)g(the)
h(problem)e(of)i(unary)f(min)o(us.)18 b(First,)12 b(declare)g(a)h
(precedence)h(for)f(a)f(\014ctitious)0 1252 y(terminal)h(sym)o(b)q(ol)h
(named)h Fj(UMINUS)p Fo(.)21 b(There)16 b(are)f(no)h(tok)o(ens)f(of)g
(this)g(t)o(yp)q(e,)h(but)g(the)g(sym)o(b)q(ol)e(serv)o(es)h(to)g
(stand)0 1314 y(for)g(its)f(precedence:)120 1449 y Ff(:)8
b(:)g(:)120 1501 y Fj(\045left)23 b('+')h('-')120 1553
y(\045left)f('*')120 1605 y(\045left)g(UMINUS)62 1750
y Fo(No)o(w)15 b(the)g(precedence)i(of)e Fj(UMINUS)f
Fo(can)h(b)q(e)h(used)g(in)f(sp)q(eci\014c)h(rules:)120
1885 y Fj(exp:)95 b Ff(:)8 b(:)g(:)311 1937 y Fj(|)24
b(exp)f('-')h(exp)311 1989 y Ff(:)8 b(:)g(:)311 2040
y Fj(|)24 b('-')f(exp)h(\045prec)f(UMINUS)0 2338 y Fn(5.5)33
b(P)n(arser)15 b(States)62 2483 y Fo(The)j(function)f
Fj(yyparse)f Fo(is)h(implemen)o(ted)e(using)i(a)f(\014nite-state)h(mac)
o(hine.)25 b(The)17 b(v)m(alues)g(pushed)i(on)e(the)0
2545 y(parser)g(stac)o(k)g(are)g(not)g(simply)e(tok)o(en)i(t)o(yp)q(e)h
(co)q(des;)g(they)g(represen)o(t)f(the)g(en)o(tire)g(sequence)i(of)e
(terminal)e(and)0 2608 y(non)o(terminal)d(sym)o(b)q(ols)h(at)h(or)h
(near)f(the)h(top)f(of)h(the)f(stac)o(k.)19 b(The)c(curren)o(t)g(state)
f(collects)f(all)h(the)h(information)0 2670 y(ab)q(out)g(previous)g
(input)g(whic)o(h)g(is)g(relev)m(an)o(t)g(to)f(deciding)i(what)e(to)h
(do)g(next.)p eop
%%Page: 74 76
74 75 bop 0 -58 a Fo(74)1697 b(Bison)15 b(1.25)62 183
y(Eac)o(h)i(time)e(a)h(lo)q(ok-ahead)g(tok)o(en)g(is)g(read,)g(the)h
(curren)o(t)g(parser)f(state)f(together)h(with)g(the)h(t)o(yp)q(e)f(of)
h(lo)q(ok-)0 246 y(ahead)g(tok)o(en)f(are)h(lo)q(ok)o(ed)f(up)i(in)e(a)
h(table.)24 b(This)16 b(table)h(en)o(try)f(can)h(sa)o(y)l(,)g(\\Shift)f
(the)h(lo)q(ok-ahead)f(tok)o(en.")24 b(In)0 308 y(this)13
b(case,)g(it)f(also)g(sp)q(eci\014es)i(the)f(new)g(parser)g(state,)f
(whic)o(h)h(is)g(pushed)h(on)o(to)e(the)h(top)g(of)g(the)g(parser)f
(stac)o(k.)19 b(Or)0 370 y(it)12 b(can)g(sa)o(y)l(,)h(\\Reduce)h(using)
e(rule)g(n)o(um)o(b)q(er)g Fk(n)p Fo(.")19 b(This)12
b(means)g(that)f(a)i(certain)f(n)o(um)o(b)q(er)g(of)g(tok)o(ens)g(or)g
(groupings)0 432 y(are)k(tak)o(en)g(o\013)g(the)h(top)f(of)g(the)g
(stac)o(k,)g(and)h(replaced)g(b)o(y)f(one)h(grouping.)23
b(In)17 b(other)f(w)o(ords,)g(that)g(n)o(um)o(b)q(er)f(of)0
495 y(states)f(are)h(p)q(opp)q(ed)i(from)c(the)j(stac)o(k,)e(and)h(one)
g(new)h(state)e(is)h(pushed.)62 640 y(There)h(is)g(one)g(other)f
(alternativ)o(e:)20 b(the)c(table)f(can)h(sa)o(y)g(that)f(the)h(lo)q
(ok-ahead)f(tok)o(en)h(is)f(erroneous)h(in)g(the)0 703
y(curren)o(t)e(state.)19 b(This)13 b(causes)i(error)e(pro)q(cessing)h
(to)g(b)q(egin)g(\(see)g Fm(h)p Fo(unde\014ned)p Fm(i)i
Fo([Error)d(Reco)o(v)o(ery],)g(page)h Fm(h)p Fo(unde-)0
765 y(\014ned)p Fm(i)p Fo(\).)0 1069 y Fn(5.6)33 b(Reduce/Reduce)15
b(Con\015icts)62 1215 y Fo(A)h(reduce/reduce)g(con\015ict)f(o)q(ccurs)h
(if)f(there)g(are)g(t)o(w)o(o)f(or)h(more)e(rules)i(that)g(apply)g(to)g
(the)g(same)f(sequence)0 1277 y(of)h(input.)20 b(This)14
b(usually)h(indicates)g(a)g(serious)f(error)h(in)g(the)g(grammar)o(.)62
1423 y(F)l(or)f(example,)f(here)h(is)g(an)g(erroneous)g(attempt)e(to)h
(de\014ne)j(a)d(sequence)j(of)d(zero)h(or)g(more)f Fj(word)g
Fo(groupings.)120 1558 y Fj(sequence:)23 b(/*)g(empty)g(*/)502
1610 y({)h(printf)f(\("empty)f(sequence\\n"\);)h(})311
1662 y(|)h(maybeword)311 1714 y(|)g(sequence)e(word)502
1766 y({)i(printf)f(\("added)f(word)i(\045s\\n",)f($2\);)g(})311
1818 y(;)120 1922 y(maybeword:)f(/*)i(empty)f(*/)502
1974 y({)h(printf)f(\("empty)f(maybeword\\n"\);)g(})311
2025 y(|)i(word)502 2077 y({)g(printf)f(\("single)f(word)i(\045s\\n",)f
($1\);)g(})311 2129 y(;)0 2275 y Fo(The)c(error)f(is)g(an)g(am)o
(biguit)o(y:)24 b(there)19 b(is)f(more)f(than)i(one)f(w)o(a)o(y)g(to)g
(parse)g(a)h(single)f Fj(word)g Fo(in)o(to)f(a)h Fj(sequence)p
Fo(.)0 2337 y(It)e(could)h(b)q(e)g(reduced)g(to)f(a)g
Fj(maybeword)f Fo(and)h(then)h(in)o(to)e(a)h Fj(sequence)f
Fo(via)h(the)g(second)h(rule.)23 b(Alternativ)o(ely)l(,)0
2400 y(nothing-at-all)12 b(could)h(b)q(e)i(reduced)f(in)o(to)f(a)g
Fj(sequence)f Fo(via)h(the)h(\014rst)f(rule,)g(and)h(this)f(could)h(b)q
(e)g(com)o(bined)f(with)0 2462 y(the)i Fj(word)g Fo(using)g(the)g
(third)g(rule)g(for)f Fj(sequence)p Fo(.)62 2608 y(There)k(is)f(also)g
(more)f(than)h(one)h(w)o(a)o(y)f(to)g(reduce)h(nothing-at-all)e(in)o
(to)g(a)i Fj(sequence)p Fo(.)25 b(This)18 b(can)f(b)q(e)i(done)0
2670 y(directly)c(via)f(the)h(\014rst)g(rule,)g(or)f(indirectly)h(via)f
Fj(maybeword)g Fo(and)i(then)f(the)g(second)h(rule.)p
eop
%%Page: 75 77
75 76 bop 0 -58 a Fo(Chapter)15 b(5:)k(The)d(Bison)f(P)o(arser)f
(Algorithm)1106 b(75)62 183 y(Y)l(ou)22 b(migh)o(t)d(think)i(that)g
(this)f(is)h(a)g(distinction)f(without)h(a)g(di\013erence,)h(b)q
(ecause)h(it)d(do)q(es)i(not)f(c)o(hange)0 246 y(whether)15
b(an)o(y)f(particular)f(input)h(is)g(v)m(alid)g(or)g(not.)19
b(But)14 b(it)g(do)q(es)g(a\013ect)g(whic)o(h)g(actions)g(are)g(run.)20
b(One)15 b(parsing)0 308 y(order)e(runs)h(the)f(second)h(rule's)f
(action;)g(the)g(other)g(runs)h(the)f(\014rst)g(rule's)g(action)f(and)i
(the)f(third)g(rule's)g(action.)0 370 y(In)j(this)e(example,)g(the)h
(output)g(of)g(the)g(program)f(c)o(hanges.)62 511 y(Bison)20
b(resolv)o(es)f(a)h(reduce/reduce)i(con\015ict)e(b)o(y)g(c)o(ho)q
(osing)f(to)h(use)g(the)h(rule)f(that)f(app)q(ears)h(\014rst)g(in)g
(the)0 573 y(grammar,)15 b(but)j(it)f(is)g(v)o(ery)h(risky)f(to)g(rely)
h(on)g(this.)27 b(Ev)o(ery)18 b(reduce/reduce)h(con\015ict)f(m)o(ust)e
(b)q(e)j(studied)f(and)0 635 y(usually)d(eliminated.)i(Here)f(is)f(the)
g(prop)q(er)g(w)o(a)o(y)g(to)f(de\014ne)i Fj(sequence)p
Fo(:)120 766 y Fj(sequence:)23 b(/*)g(empty)g(*/)502
818 y({)h(printf)f(\("empty)f(sequence\\n"\);)h(})311
870 y(|)h(sequence)e(word)502 922 y({)i(printf)f(\("added)f(word)i
(\045s\\n",)f($2\);)g(})311 974 y(;)62 1114 y Fo(Here)16
b(is)e(another)h(common)e(error)i(that)f(yields)h(a)g(reduce/reduce)h
(con\015ict:)120 1245 y Fj(sequence:)23 b(/*)g(empty)g(*/)311
1297 y(|)h(sequence)e(words)311 1349 y(|)i(sequence)e(redirects)311
1401 y(;)120 1504 y(words:)95 b(/*)23 b(empty)g(*/)311
1556 y(|)h(words)f(word)311 1608 y(;)120 1712 y(redirects:/*)f(empty)h
(*/)311 1764 y(|)h(redirects)e(redirect)311 1816 y(;)0
1957 y Fo(The)17 b(in)o(ten)o(tion)f(here)h(is)g(to)f(de\014ne)i(a)f
(sequence)h(whic)o(h)f(can)g(con)o(tain)g(either)f Fj(word)h
Fo(or)f Fj(redirect)g Fo(groupings.)0 2019 y(The)d(individual)f
(de\014nitions)h(of)f Fj(sequence)p Fo(,)g Fj(words)g
Fo(and)h Fj(redirects)f Fo(are)g(error-free,)h(but)g(the)g(three)g
(together)0 2081 y(mak)o(e)h(a)h(subtle)g(am)o(biguit)o(y:)i(ev)o(en)e
(an)g(empt)o(y)f(input)h(can)h(b)q(e)g(parsed)f(in)g(in\014nitely)g
(man)o(y)e(w)o(a)o(ys!)62 2222 y(Consider:)20 b(nothing-at-all)13
b(could)j(b)q(e)g(a)f Fj(words)p Fo(.)k(Or)d(it)e(could)i(b)q(e)g(t)o
(w)o(o)e Fj(words)g Fo(in)i(a)f(ro)o(w,)f(or)g(three,)h(or)g(an)o(y)0
2284 y(n)o(um)o(b)q(er.)29 b(It)18 b(could)h(equally)f(w)o(ell)f(b)q(e)
i(a)f Fj(redirects)p Fo(,)g(or)g(t)o(w)o(o,)f(or)h(an)o(y)g(n)o(um)o(b)
q(er.)29 b(Or)18 b(it)g(could)h(b)q(e)g(a)f Fj(words)0
2347 y Fo(follo)o(w)o(ed)c(b)o(y)h(three)g Fj(redirects)f
Fo(and)h(another)g Fj(words)p Fo(.)k(And)d(so)f(on.)62
2488 y(Here)h(are)f(t)o(w)o(o)e(w)o(a)o(ys)i(to)f(correct)h(these)g
(rules.)20 b(First,)13 b(to)i(mak)o(e)f(it)g(a)h(single)g(lev)o(el)f
(of)h(sequence:)120 2618 y Fj(sequence:)23 b(/*)g(empty)g(*/)311
2670 y(|)h(sequence)e(word)p eop
%%Page: 76 78
76 77 bop 0 -58 a Fo(76)1697 b(Bison)15 b(1.25)311 183
y Fj(|)24 b(sequence)e(redirect)311 235 y(;)62 377 y
Fo(Second,)16 b(to)e(prev)o(en)o(t)h(either)g(a)g Fj(words)g
Fo(or)f(a)h Fj(redirects)f Fo(from)g(b)q(eing)h(empt)o(y:)120
508 y Fj(sequence:)23 b(/*)g(empty)g(*/)311 560 y(|)h(sequence)e(words)
311 612 y(|)i(sequence)e(redirects)311 664 y(;)120 768
y(words:)95 b(word)311 820 y(|)24 b(words)f(word)311
872 y(;)120 975 y(redirects:redirect)311 1027 y(|)h(redirects)e
(redirect)311 1079 y(;)0 1347 y Fn(5.7)33 b(Mysterious)15
b(Reduce/Reduce)g(Con\015icts)62 1489 y Fo(Sometimes)e(reduce/reduce)j
(con\015icts)g(can)f(o)q(ccur)g(that)g(don't)g(lo)q(ok)f(w)o(arran)o
(ted.)19 b(Here)c(is)g(an)g(example:)120 1621 y Fj(\045token)23
b(ID)120 1725 y(\045\045)120 1776 y(def:)95 b(param_spec)22
b(return_spec)h(',')311 1828 y(;)120 1880 y(param_spec:)430
1932 y(type)311 1984 y(|)95 b(name_list)23 b(':')g(type)311
2036 y(;)120 2092 y(return_spec:)430 2144 y(type)311
2196 y(|)95 b(name)24 b(':')f(type)311 2248 y(;)120 2304
y(type:)190 b(ID)311 2356 y(;)120 2412 y(name:)g(ID)311
2464 y(;)120 2516 y(name_list:)430 2568 y(name)311 2620
y(|)95 b(name)24 b(',')f(name_list)311 2671 y(;)p eop
%%Page: 77 79
77 78 bop 0 -58 a Fo(Chapter)15 b(5:)k(The)d(Bison)f(P)o(arser)f
(Algorithm)1106 b(77)62 183 y(It)17 b(w)o(ould)f(seem)h(that)f(this)g
(grammar)e(can)j(b)q(e)g(parsed)g(with)f(only)h(a)f(single)h(tok)o(en)f
(of)h(lo)q(ok-ahead:)22 b(when)0 246 y(a)16 b Fj(param_spec)f
Fo(is)h(b)q(eing)g(read,)g(an)h Fj(ID)f Fo(is)f(a)h Fj(name)g
Fo(if)g(a)g(comma)d(or)j(colon)g(follo)o(ws,)e(or)i(a)g
Fj(type)g Fo(if)f(another)h Fj(ID)0 308 y Fo(follo)o(ws.)i(In)e(other)f
(w)o(ords,)f(this)g(grammar)e(is)j(LR\(1\).)62 451 y(Ho)o(w)o(ev)o(er,)
j(Bison,)h(lik)o(e)f(most)f(parser)h(generators,)g(cannot)g(actually)g
(handle)h(all)e(LR\(1\))i(grammar)o(s.)27 b(In)0 513
y(this)18 b(grammar,)f(t)o(w)o(o)g(con)o(texts,)i(that)f(after)h(an)g
Fj(ID)f Fo(at)h(the)g(b)q(eginning)g(of)f(a)h Fj(param_spec)f
Fo(and)h(lik)o(ewise)f(at)0 575 y(the)e(b)q(eginning)g(of)f(a)h
Fj(return_spec)p Fo(,)e(are)i(similar)d(enough)j(that)f(Bison)h
(assumes)f(they)h(are)f(the)h(same.)21 b(They)0 637 y(app)q(ear)15
b(similar)e(b)q(ecause)j(the)g(same)e(set)h(of)f(rules)i(w)o(ould)e(b)q
(e)i(activ)o(e|the)f(rule)g(for)g(reducing)g(to)g(a)g
Fj(name)g Fo(and)0 700 y(that)e(for)h(reducing)g(to)f(a)h
Fj(type)p Fo(.)k(Bison)c(is)g(unable)g(to)f(determine)g(at)g(that)h
(stage)f(of)g(pro)q(cessing)h(that)f(the)h(rules)0 762
y(w)o(ould)19 b(require)h(di\013eren)o(t)f(lo)q(ok-ahead)g(tok)o(ens)g
(in)h(the)f(t)o(w)o(o)g(con)o(texts,)h(so)f(it)g(mak)o(es)f(a)h(single)
g(parser)h(state)0 824 y(for)f(them)f(b)q(oth.)33 b(Com)o(bining)17
b(the)j(t)o(w)o(o)e(con)o(texts)g(causes)i(a)f(con\015ict)g(later.)32
b(In)20 b(parser)f(terminology)l(,)f(this)0 887 y(o)q(ccurrence)e
(means)e(that)h(the)g(grammar)d(is)j(not)f(LALR\(1\).)62
1029 y(In)i(general,)e(it)g(is)g(b)q(etter)g(to)h(\014x)f
(de\014ciencies)i(than)f(to)f(do)q(cumen)o(t)g(them.)19
b(But)14 b(this)g(particular)g(de\014ciency)0 1092 y(is)k(in)o
(trinsically)d(hard)k(to)e(\014x;)j(parser)d(generators)h(that)f(can)h
(handle)h(LR\(1\))f(grammar)o(s)d(are)j(hard)g(to)g(write)0
1154 y(and)d(tend)h(to)e(pro)q(duce)j(parsers)d(that)h(are)g(v)o(ery)g
(large.)k(In)c(practice,)g(Bison)g(is)f(more)g(useful)h(as)g(it)g(is)f
(no)o(w.)62 1297 y(When)g(the)f(problem)f(arises,)h(y)o(ou)g(can)g
(often)g(\014x)h(it)e(b)o(y)h(iden)o(tifying)f(the)i(t)o(w)o(o)e
(parser)h(states)f(that)h(are)g(b)q(eing)0 1359 y(confused,)20
b(and)e(adding)h(something)d(to)i(mak)o(e)f(them)g(lo)q(ok)h(distinct.)
29 b(In)19 b(the)g(ab)q(o)o(v)o(e)f(example,)g(adding)g(one)0
1421 y(rule)d(to)g Fj(return_spec)e Fo(as)i(follo)o(ws)e(mak)o(es)h
(the)h(problem)f(go)h(a)o(w)o(a)o(y:)120 1554 y Fj(\045token)23
b(BOGUS)120 1606 y Ff(:)8 b(:)g(:)120 1658 y Fj(\045\045)120
1710 y Ff(:)g(:)g(:)120 1762 y Fj(return_spec:)430 1813
y(type)311 1865 y(|)95 b(name)24 b(':')f(type)311 1917
y(/*)g(This)h(rule)f(is)h(never)f(used.)47 b(*/)311 1969
y(|)95 b(ID)24 b(BOGUS)311 2021 y(;)62 2153 y Fo(This)13
b(corrects)f(the)h(problem)e(b)q(ecause)j(it)e(in)o(tro)q(duces)g(the)h
(p)q(ossibilit)o(y)e(of)h(an)h(additional)e(activ)o(e)h(rule)g(in)h
(the)0 2216 y(con)o(text)h(after)g(the)g Fj(ID)g Fo(at)g(the)h(b)q
(eginning)g(of)f Fj(return_spec)p Fo(.)k(This)c(rule)g(is)g(not)g
(activ)o(e)g(in)g(the)h(corresp)q(onding)0 2278 y(con)o(text)h(in)g(a)h
Fj(param_spec)p Fo(,)e(so)h(the)h(t)o(w)o(o)e(con)o(texts)h(receiv)o(e)
h(distinct)e(parser)i(states.)23 b(As)17 b(long)e(as)i(the)f(tok)o(en)0
2340 y Fj(BOGUS)e Fo(is)h(nev)o(er)h(generated)f(b)o(y)g
Fj(yylex)p Fo(,)f(the)h(added)h(rule)f(cannot)g(alter)f(the)i(w)o(a)o
(y)e(actual)g(input)h(is)g(parsed.)62 2483 y(In)22 b(this)f(particular)
g(example,)g(there)h(is)f(another)g(w)o(a)o(y)f(to)h(solv)o(e)g(the)h
(problem:)31 b(rewrite)21 b(the)g(rule)h(for)0 2545 y
Fj(return_spec)12 b Fo(to)h(use)i Fj(ID)e Fo(directly)g(instead)h(of)f
(via)g Fj(name)p Fo(.)19 b(This)14 b(also)e(causes)i(the)g(t)o(w)o(o)f
(confusing)g(con)o(texts)h(to)0 2608 y(ha)o(v)o(e)j(di\013eren)o(t)f
(sets)h(of)g(activ)o(e)f(rules,)i(b)q(ecause)g(the)f(one)h(for)e
Fj(return_spec)g Fo(activ)m(ates)g(the)i(altered)e(rule)i(for)0
2670 y Fj(return_spec)c Fo(rather)g(than)h(the)h(one)f(for)g
Fj(name)p Fo(.)p eop
%%Page: 78 80
78 79 bop 0 -58 a Fo(78)1697 b(Bison)15 b(1.25)120 183
y Fj(param_spec:)430 235 y(type)311 287 y(|)95 b(name_list)23
b(':')g(type)311 339 y(;)120 391 y(return_spec:)430 443
y(type)311 495 y(|)95 b(ID)24 b(':')f(type)311 546 y(;)0
771 y Fn(5.8)33 b(Stac)n(k)15 b(Ov)n(er\015o)n(w,)g(and)h(Ho)n(w)e(to)h
(Av)n(oid)h(It)62 908 y Fo(The)f(Bison)e(parser)h(stac)o(k)f(can)h(o)o
(v)o(er\015o)o(w)f(if)h(to)q(o)f(man)o(y)g(tok)o(ens)g(are)h(shifted)g
(and)g(not)f(reduced.)21 b(When)15 b(this)0 970 y(happ)q(ens,)21
b(the)f(parser)f(function)g Fj(yyparse)f Fo(returns)i(a)f(nonzero)g(v)m
(alue,)i(pausing)e(only)g(to)g(call)f Fj(yyerror)h Fo(to)0
1032 y(rep)q(ort)c(the)g(o)o(v)o(er\015o)o(w.)62 1169
y(By)21 b(de\014ning)g(the)g(macro)e Fj(YYMAXDEPTH)p
Fo(,)h(y)o(ou)h(can)f(con)o(trol)g(ho)o(w)g(deep)h(the)g(parser)g(stac)
o(k)e(can)i(b)q(ecome)0 1231 y(b)q(efore)16 b(a)f(stac)o(k)f(o)o(v)o
(er\015o)o(w)g(o)q(ccurs.)21 b(De\014ne)16 b(the)g(macro)d(with)i(a)g
(v)m(alue)h(that)e(is)h(an)h(in)o(teger.)j(This)c(v)m(alue)h(is)f(the)0
1294 y(maxim)o(um)e(n)o(um)o(b)q(er)k(of)f(tok)o(ens)h(that)g(can)g(b)q
(e)h(shifted)f(\(and)g(not)g(reduced\))h(b)q(efore)f(o)o(v)o(er\015o)o
(w.)25 b(It)17 b(m)o(ust)e(b)q(e)j(a)0 1356 y(constan)o(t)c(expression)
h(whose)g(v)m(alue)h(is)f(kno)o(wn)g(at)f(compile)g(time.)62
1493 y(The)f(stac)o(k)f(space)h(allo)o(w)o(ed)d(is)j(not)f(necessarily)
g(allo)q(cated.)18 b(If)12 b(y)o(ou)h(sp)q(ecify)f(a)h(large)e(v)m
(alue)i(for)f Fj(YYMAXDEPTH)p Fo(,)0 1555 y(the)17 b(parser)f(actually)
g(allo)q(cates)f(a)i(small)e(stac)o(k)h(at)g(\014rst,)g(and)h(then)g
(mak)o(es)f(it)g(bigger)g(b)o(y)h(stages)f(as)g(needed.)0
1617 y(This)e(increasing)f(allo)q(cation)g(happ)q(ens)i(automaticall)o
(y)c(and)k(silen)o(tly)l(.)j(Therefore,)c(y)o(ou)g(do)g(not)g(need)h
(to)e(mak)o(e)0 1680 y Fj(YYMAXDEPTH)g Fo(painfully)h(small)e(merely)h
(to)h(sa)o(v)o(e)g(space)h(for)f(ordinary)f(inputs)i(that)f(do)g(not)g
(need)i(m)o(uc)o(h)d(stac)o(k.)62 1817 y(The)j(default)e(v)m(alue)i(of)
f Fj(YYMAXDEPTH)p Fo(,)e(if)i(y)o(ou)g(do)g(not)g(de\014ne)h(it,)e(is)h
(10000.)62 1954 y(Y)l(ou)g(can)f(con)o(trol)f(ho)o(w)g(m)o(uc)o(h)g
(stac)o(k)h(is)f(allo)q(cated)g(initially)f(b)o(y)i(de\014ning)h(the)f
(macro)e Fj(YYINITDEPTH)p Fo(.)18 b(This)0 2016 y(v)m(alue)d(to)q(o)g
(m)o(ust)f(b)q(e)h(a)g(compile-time)e(constan)o(t)h(in)o(teger.)19
b(The)c(default)g(is)g(200.)p eop
%%Page: 79 81
79 80 bop 0 -58 a Fo(Chapter)15 b(6:)k(Error)c(Reco)o(v)o(ery)1370
b(79)0 183 y Fl(6)41 b(Error)15 b(Reco)n(v)n(ery)62 401
y Fo(It)21 b(is)f(not)h(usually)f(acceptable)h(to)f(ha)o(v)o(e)g(a)h
(program)e(terminate)f(on)j(a)g(parse)f(error.)36 b(F)l(or)21
b(example,)f(a)0 464 y(compiler)e(should)i(reco)o(v)o(er)f(su\016cien)o
(tly)g(to)h(parse)f(the)h(rest)g(of)f(the)h(input)g(\014le)g(and)g(c)o
(hec)o(k)g(it)f(for)g(errors;)i(a)0 526 y(calculator)14
b(should)h(accept)g(another)g(expression.)62 669 y(In)20
b(a)f(simple)e(in)o(teractiv)o(e)h(command)f(parser)i(where)g(eac)o(h)h
(input)f(is)f(one)i(line,)f(it)f(ma)o(y)g(b)q(e)i(su\016cien)o(t)f(to)0
731 y(allo)o(w)14 b Fj(yyparse)g Fo(to)h(return)h(1)f(on)h(error)f(and)
g(ha)o(v)o(e)h(the)f(caller)g(ignore)g(the)h(rest)f(of)g(the)h(input)f
(line)h(when)g(that)0 794 y(happ)q(ens)e(\(and)f(then)h(call)e
Fj(yyparse)h Fo(again\).)k(But)d(this)e(is)h(inadequate)g(for)g(a)g
(compiler,)e(b)q(ecause)j(it)f(forgets)f(all)0 856 y(the)h(syn)o
(tactic)f(con)o(text)g(leading)g(up)i(to)e(the)h(error.)18
b(A)13 b(syn)o(tax)g(error)f(deep)i(within)e(a)g(function)h(in)g(the)g
(compiler)0 918 y(input)i(should)g(not)g(cause)h(the)f(compiler)e(to)i
(treat)f(the)i(follo)o(wing)c(line)j(lik)o(e)g(the)g(b)q(eginning)g(of)
g(a)g(source)g(\014le.)62 1061 y(Y)l(ou)e(can)g(de\014ne)g(ho)o(w)g(to)
e(reco)o(v)o(er)h(from)f(a)h(syn)o(tax)g(error)g(b)o(y)h(writing)e
(rules)h(to)g(recognize)g(the)h(sp)q(ecial)f(tok)o(en)0
1124 y Fj(error)p Fo(.)19 b(This)c(is)f(a)h(terminal)e(sym)o(b)q(ol)h
(that)g(is)h(alw)o(a)o(ys)e(de\014ned)k(\(y)o(ou)d(need)i(not)f
(declare)g(it\))f(and)h(reserv)o(ed)h(for)0 1186 y(error)h(handling.)28
b(The)18 b(Bison)g(parser)f(generates)h(an)g Fj(error)f
Fo(tok)o(en)g(whenev)o(er)i(a)e(syn)o(tax)g(error)h(happ)q(ens;)h(if)0
1248 y(y)o(ou)c(ha)o(v)o(e)g(pro)o(vided)g(a)g(rule)g(to)f(recognize)h
(this)g(tok)o(en)g(in)g(the)g(curren)o(t)g(con)o(text,)f(the)i(parse)f
(can)g(con)o(tin)o(ue.)62 1391 y(F)l(or)g(example:)120
1524 y Fj(stmnts:)47 b(/*)23 b(empty)h(string)f(*/)311
1576 y(|)h(stmnts)f('\\n')311 1628 y(|)h(stmnts)f(exp)g('\\n')311
1680 y(|)h(stmnts)f(error)g('\\n')62 1823 y Fo(The)15
b(fourth)f(rule)g(in)g(this)g(example)g(sa)o(ys)f(that)h(an)g(error)g
(follo)o(w)o(ed)f(b)o(y)h(a)g(newline)h(mak)o(es)e(a)h(v)m(alid)g
(addition)0 1885 y(to)h(an)o(y)f Fj(stmnts)p Fo(.)62
2029 y(What)22 b(happ)q(ens)h(if)e(a)h(syn)o(tax)f(error)h(o)q(ccurs)g
(in)g(the)g(middle)f(of)h(an)g Fj(exp)p Fo(?)40 b(The)23
b(error)e(reco)o(v)o(ery)g(rule,)0 2091 y(in)o(terpreted)12
b(strictly)l(,)g(applies)g(to)f(the)i(precise)g(sequence)g(of)f(a)h
Fj(stmnts)p Fo(,)e(an)i Fj(error)f Fo(and)g(a)h(newline.)18
b(If)13 b(an)g(error)0 2153 y(o)q(ccurs)j(in)g(the)g(middle)e(of)i(an)g
Fj(exp)p Fo(,)f(there)h(will)e(probably)i(b)q(e)g(some)f(additional)f
(tok)o(ens)h(and)h(sub)q(expressions)0 2215 y(on)e(the)f(stac)o(k)g
(after)g(the)h(last)f Fj(stmnts)p Fo(,)g(and)h(there)f(will)g(b)q(e)h
(tok)o(ens)f(to)h(read)f(b)q(efore)h(the)g(next)g(newline.)19
b(So)14 b(the)0 2278 y(rule)h(is)g(not)g(applicable)f(in)h(the)h
(ordinary)e(w)o(a)o(y)l(.)62 2421 y(But)20 b(Bison)f(can)h(force)f(the)
h(situation)e(to)h(\014t)g(the)h(rule,)g(b)o(y)f(discarding)g(part)g
(of)g(the)h(seman)o(tic)e(con)o(text)0 2483 y(and)g(part)f(of)h(the)g
(input.)28 b(First)16 b(it)i(discards)f(states)g(and)h(ob)s(jects)f
(from)g(the)h(stac)o(k)f(un)o(til)g(it)g(gets)g(bac)o(k)h(to)f(a)0
2545 y(state)d(in)h(whic)o(h)g(the)h Fj(error)e Fo(tok)o(en)h(is)g
(acceptable.)k(\(This)c(means)f(that)g(the)i(sub)q(expressions)f
(already)g(parsed)0 2608 y(are)i(discarded,)i(bac)o(k)e(to)h(the)f
(last)g(complete)g Fj(stmnts)p Fo(.\))26 b(A)o(t)17 b(this)h(p)q(oin)o
(t)f(the)h Fj(error)f Fo(tok)o(en)g(can)h(b)q(e)h(shifted.)0
2670 y(Then,)c(if)f(the)h(old)f(lo)q(ok-ahead)g(tok)o(en)h(is)f(not)g
(acceptable)h(to)f(b)q(e)h(shifted)g(next,)f(the)h(parser)f(reads)h
(tok)o(ens)f(and)p eop
%%Page: 80 82
80 81 bop 0 -58 a Fo(80)1697 b(Bison)15 b(1.25)0 183
y(discards)f(them)g(un)o(til)g(it)f(\014nds)j(a)e(tok)o(en)g(whic)o(h)h
(is)f(acceptable.)19 b(In)d(this)e(example,)f(Bison)h(reads)g(and)h
(discards)0 246 y(input)g(un)o(til)g(the)g(next)g(newline)g(so)g(that)g
(the)g(fourth)g(rule)g(can)g(apply)l(.)62 403 y(The)j(c)o(hoice)f(of)g
(error)f(rules)h(in)g(the)g(grammar)d(is)j(a)f(c)o(hoice)h(of)g
(strategies)f(for)g(error)h(reco)o(v)o(ery)l(.)25 b(A)17
b(simple)0 465 y(and)g(useful)h(strategy)e(is)g(simply)g(to)h(skip)g
(the)g(rest)g(of)g(the)g(curren)o(t)g(input)g(line)g(or)g(curren)o(t)g
(statemen)o(t)e(if)i(an)0 528 y(error)d(is)h(detected:)120
675 y Fj(stmnt:)23 b(error)g(';')48 b(/*)23 b(on)h(error,)f(skip)g
(until)g(';')h(is)f(read)h(*/)62 832 y Fo(It)e(is)e(also)h(useful)g(to)
g(reco)o(v)o(er)f(to)h(the)g(matc)o(hing)f(close-delimiter)f(of)i(an)g
(op)q(ening-delimiter)f(that)g(has)0 895 y(already)f(b)q(een)i(parsed.)
33 b(Otherwise)19 b(the)h(close-delimiter)d(will)h(probably)h(app)q
(ear)h(to)f(b)q(e)h(unmatc)o(hed,)g(and)0 957 y(generate)15
b(another,)f(spurious)h(error)g(message:)120 1104 y Fj(primary:)47
b('\(')23 b(expr)g('\)')311 1156 y(|)h('\(')f(error)g('\)')311
1208 y Ff(:)8 b(:)g(:)311 1260 y Fj(;)62 1417 y Fo(Error)j(reco)o(v)o
(ery)h(strategies)e(are)i(necessarily)g(guesses.)19 b(When)12
b(they)g(guess)h(wrong,)e(one)h(syn)o(tax)g(error)f(often)0
1479 y(leads)j(to)g(another.)20 b(In)15 b(the)g(ab)q(o)o(v)o(e)f
(example,)f(the)i(error)f(reco)o(v)o(ery)g(rule)g(guesses)h(that)f(an)g
(error)g(is)g(due)i(to)e(bad)0 1542 y(input)i(within)g(one)g
Fj(stmnt)p Fo(.)23 b(Supp)q(ose)17 b(that)f(instead)g(a)g(spurious)g
(semicolon)f(is)g(inserted)i(in)f(the)g(middle)f(of)h(a)0
1604 y(v)m(alid)h Fj(stmnt)p Fo(.)26 b(After)17 b(the)g(error)g(reco)o
(v)o(ery)f(rule)i(reco)o(v)o(ers)e(from)g(the)h(\014rst)g(error,)g
(another)g(syn)o(tax)g(error)f(will)0 1666 y(b)q(e)g(found)f(straigh)o
(ta)o(w)o(a)o(y)l(,)d(since)j(the)h(text)e(follo)o(wing)f(the)j
(spurious)e(semicolon)g(is)h(also)f(an)h(in)o(v)m(alid)f
Fj(stmnt)p Fo(.)62 1824 y(T)l(o)f(prev)o(en)o(t)g(an)h(outp)q(ouring)e
(of)h(error)g(messages,)f(the)h(parser)g(will)f(output)h(no)g(error)g
(message)f(for)g(another)0 1886 y(syn)o(tax)18 b(error)h(that)f(happ)q
(ens)i(shortly)e(after)g(the)h(\014rst;)h(only)f(after)f(three)h
(consecutiv)o(e)g(input)g(tok)o(ens)f(ha)o(v)o(e)0 1948
y(b)q(een)e(successfully)g(shifted)e(will)g(error)h(messages)f(resume.)
62 2106 y(Note)h(that)g(rules)g(whic)o(h)g(accept)g(the)g
Fj(error)g Fo(tok)o(en)g(ma)o(y)e(ha)o(v)o(e)i(actions,)f(just)h(as)f
(an)o(y)h(other)g(rules)g(can.)62 2263 y(Y)l(ou)g(can)g(mak)o(e)f
(error)g(messages)f(resume)h(immediately)e(b)o(y)j(using)f(the)h(macro)
e Fj(yyerrok)h Fo(in)h(an)g(action.)k(If)0 2326 y(y)o(ou)14
b(do)f(this)h(in)f(the)h(error)g(rule's)f(action,)g(no)h(error)f
(messages)f(will)h(b)q(e)h(suppressed.)21 b(This)13 b(macro)f(requires)
i(no)0 2388 y(argumen)o(ts;)f(`)p Fj(yyerrok;)p Fo(')g(is)i(a)g(v)m
(alid)g(C)g(statemen)o(t.)62 2545 y(The)f(previous)f(lo)q(ok-ahead)g
(tok)o(en)g(is)h(reanalyzed)f(immediately)d(after)j(an)g(error.)19
b(If)14 b(this)f(is)g(unacceptable,)0 2608 y(then)j(the)g(macro)e
Fj(yyclearin)h Fo(ma)o(y)f(b)q(e)i(used)h(to)e(clear)g(this)h(tok)o
(en.)21 b(W)l(rite)15 b(the)h(statemen)o(t)d(`)p Fj(yyclearin;)p
Fo(')h(in)0 2670 y(the)h(error)g(rule's)f(action.)p eop
%%Page: 81 83
81 82 bop 0 -58 a Fo(Chapter)15 b(6:)k(Error)c(Reco)o(v)o(ery)1370
b(81)62 183 y(F)l(or)12 b(example,)f(supp)q(ose)j(that)d(on)i(a)f
(parse)g(error,)g(an)g(error)g(handling)g(routine)g(is)g(called)g(that)
g(adv)m(ances)h(the)0 246 y(input)g(stream)f(to)g(some)g(p)q(oin)o(t)h
(where)g(parsing)g(should)g(once)g(again)g(commence.)k(The)d(next)f
(sym)o(b)q(ol)f(returned)0 308 y(b)o(y)17 b(the)h(lexical)f(scanner)h
(is)f(probably)g(correct.)26 b(The)18 b(previous)f(lo)q(ok-ahead)h(tok)
o(en)f(ough)o(t)g(to)g(b)q(e)h(discarded)0 370 y(with)d(`)p
Fj(yyclearin;)p Fo('.)62 507 y(The)21 b(macro)f Fj(YYRECOVERING)f
Fo(stands)h(for)h(an)f(expression)h(that)f(has)h(the)g(v)m(alue)g(1)g
(when)g(the)g(parser)f(is)0 569 y(reco)o(v)o(ering)h(from)f(a)h(syn)o
(tax)g(error,)i(and)f(0)f(the)h(rest)f(of)h(the)g(time.)38
b(A)21 b(v)m(alue)h(of)g(1)f(indicates)h(that)f(error)0
632 y(messages)14 b(are)h(curren)o(tly)f(suppressed)i(for)f(new)g(syn)o
(tax)g(errors.)p eop
%%Page: 82 84
82 83 bop 0 -58 a Fo(82)1697 b(Bison)15 b(1.25)p eop
%%Page: 83 85
83 84 bop 0 -58 a Fo(Chapter)15 b(7:)k(Handling)c(Con)o(text)f(Dep)q
(endencies)1036 b(83)0 183 y Fl(7)41 b(Handling)16 b(Con)n(text)f(Dep)r
(endencies)62 376 y Fo(The)k(Bison)g(paradigm)e(is)h(to)g(parse)h(tok)o
(ens)f(\014rst,)h(then)g(group)g(them)f(in)o(to)f(larger)h(syn)o
(tactic)g(units.)30 b(In)0 438 y(man)o(y)12 b(languages,)g(the)h
(meaning)f(of)h(a)g(tok)o(en)f(is)h(a\013ected)g(b)o(y)g(its)f(con)o
(text.)19 b(Although)13 b(this)f(violates)g(the)h(Bison)0
500 y(paradigm,)i(certain)h(tec)o(hniques)i(\(kno)o(wn)e(as)h
Fk(kludges)r Fo(\))f(ma)o(y)g(enable)h(y)o(ou)f(to)h(write)f(Bison)h
(parsers)f(for)h(suc)o(h)0 563 y(languages.)62 701 y(\(Actually)l(,)c
(\\kludge")g(means)g(an)o(y)g(tec)o(hnique)h(that)f(gets)h(its)e(job)i
(done)g(but)g(is)f(neither)h(clean)g(nor)f(robust.\))0
935 y Fn(7.1)33 b(Seman)n(tic)16 b(Info)e(in)j(T)-6 b(ok)n(en)15
b(T)n(yp)r(es)62 1073 y Fo(The)j(C)f(language)g(has)g(a)g(con)o(text)g
(dep)q(endency:)26 b(the)17 b(w)o(a)o(y)g(an)g(iden)o(ti\014er)g(is)g
(used)h(dep)q(ends)h(on)e(what)g(its)0 1136 y(curren)o(t)e(meaning)f
(is.)19 b(F)l(or)c(example,)f(consider)h(this:)120 1263
y Fj(foo)23 b(\(x\);)62 1401 y Fo(This)17 b(lo)q(oks)f(lik)o(e)h(a)g
(function)g(call)f(statemen)o(t,)f(but)j(if)e Fj(foo)h
Fo(is)g(a)g(t)o(yp)q(edef)g(name,)f(then)i(this)f(is)f(actually)g(a)0
1464 y(declaration)e(of)h Fj(x)p Fo(.)k(Ho)o(w)c(can)g(a)g(Bison)g
(parser)g(for)g(C)f(decide)i(ho)o(w)f(to)g(parse)g(this)f(input?)62
1602 y(The)k(metho)q(d)e(used)i(in)f(GNU)g(C)g(is)g(to)g(ha)o(v)o(e)g
(t)o(w)o(o)e(di\013eren)o(t)i(tok)o(en)g(t)o(yp)q(es,)g
Fj(IDENTIFIER)f Fo(and)h Fj(TYPENAME)p Fo(.)0 1664 y(When)j
Fj(yylex)f Fo(\014nds)i(an)f(iden)o(ti\014er,)g(it)f(lo)q(oks)g(up)h
(the)g(curren)o(t)g(declaration)f(of)g(the)h(iden)o(ti\014er)f(in)h
(order)g(to)0 1726 y(decide)15 b(whic)o(h)g(tok)o(en)f(t)o(yp)q(e)h(to)
f(return:)20 b Fj(TYPENAME)14 b Fo(if)g(the)h(iden)o(ti\014er)f(is)h
(declared)g(as)f(a)g(t)o(yp)q(edef,)h Fj(IDENTIFIER)0
1789 y Fo(otherwise.)62 1927 y(The)20 b(grammar)c(rules)j(can)h(then)f
(express)h(the)f(con)o(text)g(dep)q(endency)j(b)o(y)d(the)h(c)o(hoice)f
(of)g(tok)o(en)g(t)o(yp)q(e)h(to)0 1989 y(recognize.)34
b Fj(IDENTIFIER)18 b Fo(is)i(accepted)g(as)g(an)g(expression,)g(but)g
Fj(TYPENAME)f Fo(is)h(not.)33 b Fj(TYPENAME)19 b Fo(can)h(start)0
2051 y(a)h(declaration,)g(but)h Fj(IDENTIFIER)e Fo(cannot.)38
b(In)22 b(con)o(texts)f(where)h(the)f(meaning)f(of)h(the)g(iden)o
(ti\014er)g(is)g Fk(not)0 2114 y Fo(signi\014can)o(t,)11
b(suc)o(h)h(as)f(in)h(declarations)e(that)h(can)h(shado)o(w)f(a)g(t)o
(yp)q(edef)h(name,)f(either)h Fj(TYPENAME)e Fo(or)h Fj(IDENTIFIER)0
2176 y Fo(is)k(accepted|there)h(is)f(one)g(rule)g(for)g(eac)o(h)g(of)g
(the)g(t)o(w)o(o)f(tok)o(en)h(t)o(yp)q(es.)62 2314 y(This)f(tec)o
(hnique)h(is)f(simple)f(to)h(use)g(if)g(the)h(decision)f(of)g(whic)o(h)
g(kinds)h(of)f(iden)o(ti\014ers)g(to)f(allo)o(w)g(is)h(made)f(at)h(a)0
2376 y(place)h(close)f(to)h(where)g(the)g(iden)o(ti\014er)f(is)h
(parsed.)20 b(But)15 b(in)f(C)h(this)f(is)h(not)f(alw)o(a)o(ys)f(so:)20
b(C)15 b(allo)o(ws)e(a)h(declaration)0 2438 y(to)h(redeclare)g(a)g(t)o
(yp)q(edef)g(name)f(pro)o(vided)h(an)h(explicit)e(t)o(yp)q(e)h(has)g(b)
q(een)i(sp)q(eci\014ed)f(earlier:)120 2566 y Fj(typedef)23
b(int)g(foo,)h(bar,)f(lose;)120 2618 y(static)g(foo)g(\(bar\);)191
b(/*)23 b Fo(redeclare)15 b Fj(bar)g Fo(as)g(static)f(v)m(ariable)23
b Fj(*/)120 2670 y(static)g(int)g(foo)h(\(lose\);)71
b(/*)23 b Fo(redeclare)15 b Fj(foo)g Fo(as)g(function)24
b Fj(*/)p eop
%%Page: 84 86
84 85 bop 0 -58 a Fo(84)1697 b(Bison)15 b(1.25)62 183
y(Unfortunately)l(,)h(the)g(name)g(b)q(eing)h(declared)f(is)g
(separated)g(from)f(the)h(declaration)g(construct)g(itself)f(b)o(y)h(a)
0 246 y(complicated)e(syn)o(tactic)g(structure|the)h(\\declarator".)62
395 y(As)20 b(a)f(result,)g(the)h(part)f(of)g(Bison)g(parser)g(for)g(C)
g(needs)h(to)f(b)q(e)h(duplicated,)h(with)d(all)h(the)g(non)o(terminal)
0 457 y(names)13 b(c)o(hanged:)19 b(once)14 b(for)g(parsing)f(a)g
(declaration)g(in)h(whic)o(h)f(a)h(t)o(yp)q(edef)g(name)f(can)h(b)q(e)g
(rede\014ned,)i(and)e(once)0 519 y(for)e(parsing)f(a)i(declaration)e
(in)h(whic)o(h)g(that)g(can't)g(b)q(e)h(done.)19 b(Here)13
b(is)f(a)g(part)g(of)g(the)g(duplication,)g(with)g(actions)0
582 y(omitted)h(for)i(brevit)o(y:)120 721 y Fj(initdcl:)359
772 y(declarator)22 b(maybeasm)h('=')359 824 y(init)311
876 y(|)h(declarator)e(maybeasm)311 928 y(;)120 1032
y(notype_initdcl:)359 1084 y(notype_declarator)f(maybeasm)i('=')359
1136 y(init)311 1188 y(|)h(notype_declarator)d(maybeasm)311
1239 y(;)0 1389 y Fo(Here)13 b Fj(initdcl)f Fo(can)h(redeclare)g(a)f(t)
o(yp)q(edef)h(name,)f(but)h Fj(notype_initdcl)e Fo(cannot.)19
b(The)13 b(distinction)f(b)q(et)o(w)o(een)0 1451 y Fj(declarator)i
Fo(and)h Fj(notype_declarator)e Fo(is)i(the)g(same)f(sort)g(of)h
(thing.)62 1600 y(There)k(is)g(some)e(similarit)o(y)f(b)q(et)o(w)o(een)
j(this)f(tec)o(hnique)h(and)g(a)g(lexical)f(tie-in)g(\(describ)q(ed)i
(next\),)f(in)g(that)0 1663 y(information)7 b(whic)o(h)k(alters)e(the)h
(lexical)g(analysis)f(is)h(c)o(hanged)g(during)h(parsing)e(b)o(y)h
(other)g(parts)g(of)g(the)g(program.)0 1725 y(The)16
b(di\013erence)g(is)f(here)i(the)f(informatio)o(n)d(is)j(global,)e(and)
i(is)f(used)i(for)e(other)g(purp)q(oses)i(in)e(the)h(program.)k(A)0
1787 y(true)15 b(lexical)f(tie-in)h(has)g(a)g(sp)q(ecial-purp)q(ose)h
(\015ag)f(con)o(trolled)f(b)o(y)h(the)g(syn)o(tactic)f(con)o(text.)0
2122 y Fn(7.2)33 b(Lexical)16 b(Tie-ins)62 2272 y Fo(One)f(w)o(a)o(y)d
(to)h(handle)h(con)o(text-dep)q(endency)i(is)d(the)h
Fk(lexical)f(tie-in)p Fo(:)18 b(a)c(\015ag)f(whic)o(h)h(is)f(set)g(b)o
(y)h(Bison)f(actions,)0 2334 y(whose)i(purp)q(ose)h(is)f(to)f(alter)g
(the)i(w)o(a)o(y)e(tok)o(ens)g(are)h(parsed.)62 2483
y(F)l(or)20 b(example,)g(supp)q(ose)i(w)o(e)e(ha)o(v)o(e)g(a)g
(language)g(v)m(aguely)g(lik)o(e)g(C,)g(but)g(with)g(a)g(sp)q(ecial)h
(construct)f(`)p Fj(hex)0 2545 y(\()p Fk(hex-expr)s Fj(\))p
Fo('.)26 b(After)16 b(the)i(k)o(eyw)o(ord)e Fj(hex)g
Fo(comes)g(an)h(expression)g(in)g(paren)o(theses)g(in)g(whic)o(h)g(all)
f(in)o(tegers)g(are)0 2608 y(hexadecimal.)h(In)12 b(particular,)f(the)g
(tok)o(en)g(`)p Fj(a1b)p Fo(')f(m)o(ust)g(b)q(e)i(treated)f(as)g(an)g
(in)o(teger)g(rather)g(than)g(as)g(an)g(iden)o(ti\014er)0
2670 y(if)k(it)f(app)q(ears)h(in)g(that)g(con)o(text.)k(Here)d(is)e(ho)
o(w)h(y)o(ou)g(can)g(do)g(it:)p eop
%%Page: 85 87
85 86 bop 0 -58 a Fo(Chapter)15 b(7:)k(Handling)c(Con)o(text)f(Dep)q
(endencies)1036 b(85)120 183 y Fj(\045{)120 235 y(int)23
b(hexflag;)120 287 y(\045})120 339 y(\045\045)120 391
y Ff(:)8 b(:)g(:)120 447 y Fj(expr:)71 b(IDENTIFIER)311
499 y(|)24 b(constant)311 551 y(|)g(HEX)f('\(')502 603
y({)h(hexflag)e(=)i(1;)g(})359 655 y(expr)f('\)')502
706 y({)h(hexflag)e(=)i(0;)573 758 y($$)g(=)g($4;)f(})311
810 y(|)h(expr)f('+')g(expr)502 862 y({)h($$)f(=)h(make_sum)f(\($1,)g
($3\);)g(})311 914 y Ff(:)8 b(:)g(:)311 966 y Fj(;)120
1037 y(constant:)359 1089 y(INTEGER)311 1141 y(|)24 b(STRING)311
1193 y(;)0 1320 y Fo(Here)12 b(w)o(e)g(assume)f(that)g
Fj(yylex)g Fo(lo)q(oks)g(at)h(the)g(v)m(alue)g(of)f Fj(hexflag)p
Fo(;)h(when)g(it)g(is)f(nonzero,)h(all)f(in)o(tegers)g(are)h(parsed)0
1382 y(in)j(hexadecimal,)e(and)j(tok)o(ens)f(starting)e(with)i(letters)
f(are)h(parsed)g(as)g(in)o(tegers)f(if)h(p)q(ossible.)62
1520 y(The)i(declaration)f(of)g Fj(hexflag)g Fo(sho)o(wn)h(in)f(the)h
(C)g(declarations)e(section)i(of)f(the)h(parser)f(\014le)h(is)f(needed)
j(to)0 1582 y(mak)o(e)13 b(it)h(accessible)h(to)f(the)h(actions)f
(\(see)h Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([The)e(C)h(Declarations)e
(Section],)h(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)0
1644 y(Y)l(ou)h(m)o(ust)f(also)g(write)h(the)g(co)q(de)h(in)f
Fj(yylex)f Fo(to)h(ob)q(ey)g(the)h(\015ag.)0 1873 y Fn(7.3)33
b(Lexical)16 b(Tie-ins)g(and)g(Error)g(Reco)n(v)n(ery)62
2011 y Fo(Lexical)d(tie-ins)f(mak)o(e)f(strict)h(demands)g(on)h(an)o(y)
f(error)g(reco)o(v)o(ery)g(rules)h(y)o(ou)f(ha)o(v)o(e.)19
b(See)13 b Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Error)0
2073 y(Reco)o(v)o(ery],)g(page)i Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)62 2211 y(The)h(reason)f(for)g(this)f(is)h(that)g(the)g
(purp)q(ose)h(of)f(an)h(error)e(reco)o(v)o(ery)h(rule)g(is)g(to)g(ab)q
(ort)g(the)g(parsing)g(of)g(one)0 2273 y(construct)h(and)g(resume)g(in)
g(some)f(larger)g(construct.)26 b(F)l(or)16 b(example,)h(in)g(C-lik)o
(e)f(languages,)h(a)g(t)o(ypical)f(error)0 2335 y(reco)o(v)o(ery)f
(rule)g(is)f(to)h(skip)g(tok)o(ens)f(un)o(til)h(the)g(next)g
(semicolon,)e(and)j(then)f(start)f(a)h(new)g(statemen)o(t,)e(lik)o(e)i
(this:)120 2462 y Fj(stmt:)71 b(expr)23 b(';')311 2514
y(|)h(IF)f('\(')h(expr)f('\)')g(stmt)h({)f Ff(:)8 b(:)g(:)22
b Fj(})311 2566 y Ff(:)8 b(:)g(:)311 2618 y Fj(error)23
b(';')502 2670 y({)h(hexflag)e(=)i(0;)g(})p eop
%%Page: 86 88
86 87 bop 0 -58 a Fo(86)1697 b(Bison)15 b(1.25)311 183
y Fj(;)62 320 y Fo(If)e(there)g(is)f(a)g(syn)o(tax)g(error)g(in)g(the)h
(middle)e(of)h(a)g(`)p Fj(hex)j(\()p Fk(expr)s Fj(\))p
Fo(')d(construct,)h(this)f(error)f(rule)i(will)e(apply)l(,)i(and)0
382 y(then)18 b(the)f(action)g(for)g(the)g(completed)g(`)p
Fj(hex)d(\()p Fk(expr)s Fj(\))p Fo(')j(will)f(nev)o(er)i(run.)27
b(So)17 b Fj(hexflag)g Fo(w)o(ould)f(remain)g(set)i(for)0
445 y(the)d(en)o(tire)f(rest)h(of)f(the)h(input,)f(or)h(un)o(til)f(the)
g(next)h Fj(hex)g Fo(k)o(eyw)o(ord,)e(causing)i(iden)o(ti\014ers)f(to)g
(b)q(e)i(misin)o(terpreted)0 507 y(as)f(in)o(tegers.)62
644 y(T)l(o)g(a)o(v)o(oid)f(this)h(problem)f(the)h(error)f(reco)o(v)o
(ery)h(rule)g(itself)f(clears)h Fj(hexflag)p Fo(.)62
781 y(There)20 b(ma)o(y)d(also)h(b)q(e)i(an)f(error)f(reco)o(v)o(ery)g
(rule)h(that)g(w)o(orks)f(within)g(expressions.)31 b(F)l(or)18
b(example,)h(there)0 843 y(could)c(b)q(e)h(a)f(rule)g(whic)o(h)g
(applies)g(within)f(paren)o(theses)i(and)f(skips)g(to)f(the)i
(close-paren)o(thesis:)120 970 y Fj(expr:)71 b Ff(:)8
b(:)g(:)311 1022 y Fj(|)24 b('\(')f(expr)g('\)')502 1074
y({)h($$)f(=)h($2;)f(})311 1126 y(|)h('\(')f(error)g('\)')311
1177 y Ff(:)8 b(:)g(:)62 1307 y Fo(If)14 b(this)f(rule)g(acts)g(within)
g(the)g Fj(hex)g Fo(construct,)h(it)e(is)h(not)g(going)g(to)g(ab)q(ort)
f(that)h(construct)g(\(since)h(it)e(applies)0 1369 y(to)j(an)i(inner)f
(lev)o(el)f(of)h(paren)o(theses)g(within)f(the)i(construct\).)22
b(Therefore,)15 b(it)h(should)g(not)g(clear)f(the)h(\015ag:)22
b(the)0 1431 y(rest)15 b(of)g(the)g Fj(hex)g Fo(construct)f(should)i(b)
q(e)f(parsed)h(with)e(the)i(\015ag)e(still)g(in)h(e\013ect.)62
1568 y(What)j(if)h(there)f(is)h(an)f(error)g(reco)o(v)o(ery)h(rule)f
(whic)o(h)h(migh)o(t)d(ab)q(ort)j(out)f(of)g(the)h Fj(hex)f
Fo(construct)h(or)f(migh)o(t)0 1630 y(not,)c(dep)q(ending)j(on)e
(circumstances?)k(There)c(is)g(no)g(w)o(a)o(y)f(y)o(ou)h(can)g(write)f
(the)h(action)f(to)h(determine)f(whether)0 1693 y(a)i
Fj(hex)g Fo(construct)g(is)g(b)q(eing)h(ab)q(orted)f(or)g(not.)24
b(So)16 b(if)g(y)o(ou)g(are)g(using)h(a)f(lexical)f(tie-in,)h(y)o(ou)g
(had)h(b)q(etter)f(mak)o(e)0 1755 y(sure)h(y)o(our)g(error)f(reco)o(v)o
(ery)h(rules)g(are)g(not)f(of)h(this)g(kind.)26 b(Eac)o(h)17
b(rule)g(m)o(ust)e(b)q(e)j(suc)o(h)f(that)g(y)o(ou)g(can)g(b)q(e)h
(sure)0 1817 y(that)c(it)h(alw)o(a)o(ys)e(will,)h(or)h(alw)o(a)o(ys)e
(w)o(on't,)h(ha)o(v)o(e)g(to)h(clear)g(the)g(\015ag.)p
eop
%%Page: 87 89
87 88 bop 0 -58 a Fo(Chapter)15 b(8:)k(Debugging)c(Y)l(our)g(P)o(arser)
1208 b(87)0 183 y Fl(8)41 b(Debugging)15 b(Y)-7 b(our)16
b(P)n(arser)62 368 y Fo(If)e(a)g(Bison)f(grammar)e(compiles)h(prop)q
(erly)i(but)g(do)q(esn't)f(do)h(what)f(y)o(ou)h(w)o(an)o(t)f(when)h(it)
f(runs,)h(the)g Fj(yydebug)0 430 y Fo(parser-trace)h(feature)g(can)g
(help)g(y)o(ou)g(\014gure)h(out)e(wh)o(y)l(.)62 567 y(T)l(o)h(enable)g
(compilation)c(of)k(trace)f(facilities,)e(y)o(ou)j(m)o(ust)e(de\014ne)j
(the)e(macro)f Fj(YYDEBUG)h Fo(when)h(y)o(ou)f(compile)0
629 y(the)h(parser.)k(Y)l(ou)c(could)g(use)g(`)p Fj(-DYYDEBUG=1)p
Fo(')d(as)j(a)f(compiler)f(option)h(or)g(y)o(ou)h(could)f(put)h(`)p
Fj(#define)f(YYDEBUG)0 692 y(1)p Fo(')g(in)h(the)g(C)g(declarations)f
(section)g(of)h(the)g(grammar)d(\014le)j(\(see)g Fm(h)p
Fo(unde\014ned)p Fm(i)h Fo([The)f(C)g(Declarations)e(Section],)0
754 y(page)f Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)20
b(Alternativ)o(ely)l(,)11 b(use)i(the)f(`)p Fj(-t)p Fo(')f(option)h
(when)h(y)o(ou)f(run)g(Bison)g(\(see)g Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([In)o(v)o(oking)0 816 y(Bison],)g(page)h Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(\).)21 b(W)l(e)15 b(alw)o(a)o(ys)f(de\014ne)
i Fj(YYDEBUG)e Fo(so)h(that)g(debugging)g(is)f(alw)o(a)o(ys)g(p)q
(ossible.)62 953 y(The)21 b(trace)e(facilit)o(y)f(uses)j
Fj(stderr)p Fo(,)f(so)f(y)o(ou)h(m)o(ust)f(add)h Fj(#include)14
b(<stdio.h>)19 b Fo(to)g(the)h(C)g(declarations)0 1015
y(section)15 b(unless)g(it)g(is)f(already)h(there.)62
1152 y(Once)h(y)o(ou)e(ha)o(v)o(e)g(compiled)f(the)h(program)f(with)g
(trace)h(facilities,)f(the)h(w)o(a)o(y)g(to)f(request)i(a)f(trace)g(is)
g(to)g(store)0 1215 y(a)j(nonzero)h(v)m(alue)g(in)g(the)g(v)m(ariable)f
Fj(yydebug)p Fo(.)26 b(Y)l(ou)18 b(can)g(do)g(this)f(b)o(y)g(making)f
(the)i(C)g(co)q(de)g(do)g(it)f(\(in)g Fj(main)p Fo(,)0
1277 y(p)q(erhaps\),)e(or)g(y)o(ou)g(can)g(alter)f(the)h(v)m(alue)h
(with)e(a)h(C)g(debugger.)62 1414 y(Eac)o(h)i(step)g(tak)o(en)g(b)o(y)g
(the)g(parser)g(when)g Fj(yydebug)f Fo(is)h(nonzero)g(pro)q(duces)h(a)e
(line)h(or)g(t)o(w)o(o)e(of)i(trace)g(infor-)0 1476 y(mation,)c
(written)h(on)h Fj(stderr)p Fo(.)k(The)c(trace)g(messages)f(tell)g(y)o
(ou)h(these)g(things:)37 1613 y Fm(\017)30 b Fo(Eac)o(h)15
b(time)f(the)h(parser)g(calls)f Fj(yylex)p Fo(,)g(what)h(kind)g(of)g
(tok)o(en)f(w)o(as)h(read.)37 1687 y Fm(\017)30 b Fo(Eac)o(h)11
b(time)e(a)i(tok)o(en)f(is)g(shifted,)i(the)f(depth)g(and)g(complete)f
(con)o(ten)o(ts)g(of)h(the)g(state)f(stac)o(k)g(\(see)h
Fm(h)p Fo(unde\014ned)p Fm(i)90 1750 y Fo([P)o(arser)j(States],)g(page)
h Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(\).)37 1824 y Fm(\017)30
b Fo(Eac)o(h)20 b(time)e(a)h(rule)h(is)f(reduced,)j(whic)o(h)e(rule)f
(it)h(is,)g(and)g(the)g(complete)e(con)o(ten)o(ts)h(of)h(the)g(state)f
(stac)o(k)90 1886 y(afterw)o(ard.)62 2035 y(T)l(o)14
b(mak)o(e)f(sense)h(of)g(this)g(information,)d(it)i(helps)i(to)e(refer)
h(to)g(the)g(listing)e(\014le)j(pro)q(duced)g(b)o(y)f(the)g(Bison)g(`)p
Fj(-v)p Fo(')0 2097 y(option)j(\(see)g Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([In)o(v)o(oking)d(Bison],)h(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(\).)28 b(This)17 b(\014le)g(sho)o(ws)g(the)h(meaning)e(of)h
(eac)o(h)0 2159 y(state)h(in)h(terms)f(of)h(p)q(ositions)f(in)h(v)m
(arious)f(rules,)i(and)f(also)f(what)h(eac)o(h)g(state)g(will)e(do)i
(with)g(eac)o(h)g(p)q(ossible)0 2222 y(input)c(tok)o(en.)20
b(As)15 b(y)o(ou)g(read)g(the)g(successiv)o(e)g(trace)g(messages,)e(y)o
(ou)i(can)h(see)f(that)g(the)g(parser)g(is)g(functioning)0
2284 y(according)21 b(to)h(its)f(sp)q(eci\014cation)g(in)h(the)g
(listing)e(\014le.)40 b(Ev)o(en)o(tually)21 b(y)o(ou)g(will)g(arriv)o
(e)g(at)g(the)h(place)g(where)0 2346 y(something)13 b(undesirable)j
(happ)q(ens,)g(and)f(y)o(ou)g(will)f(see)h(whic)o(h)g(parts)g(of)g(the)
g(grammar)d(are)i(to)h(blame.)62 2483 y(The)g(parser)f(\014le)g(is)g(a)
g(C)g(program)f(and)h(y)o(ou)g(can)h(use)g(C)f(debuggers)g(on)h(it,)e
(but)i(it's)e(not)h(easy)g(to)g(in)o(terpret)0 2545 y(what)20
b(it)g(is)g(doing.)36 b(The)21 b(parser)f(function)h(is)f(a)g
(\014nite-state)g(mac)o(hine)g(in)o(terpreter,)h(and)g(aside)f(from)f
(the)0 2608 y(actions)e(it)g(executes)h(the)f(same)g(co)q(de)h(o)o(v)o
(er)f(and)g(o)o(v)o(er.)26 b(Only)18 b(the)g(v)m(alues)g(of)f(v)m
(ariables)g(sho)o(w)g(where)g(in)h(the)0 2670 y(grammar)12
b(it)i(is)h(w)o(orking.)p eop
%%Page: 88 90
88 89 bop 0 -58 a Fo(88)1697 b(Bison)15 b(1.25)62 183
y(The)c(debugging)g(information)c(normally)i(giv)o(es)g(the)i(tok)o(en)
f(t)o(yp)q(e)h(of)f(eac)o(h)h(tok)o(en)f(read,)h(but)g(not)f(its)g
(seman)o(tic)0 246 y(v)m(alue.)25 b(Y)l(ou)16 b(can)h(optionally)e
(de\014ne)j(a)e(macro)f(named)h Fj(YYPRINT)g Fo(to)g(pro)o(vide)g(a)h
(w)o(a)o(y)e(to)h(prin)o(t)g(the)h(v)m(alue.)25 b(If)0
308 y(y)o(ou)16 b(de\014ne)h Fj(YYPRINT)p Fo(,)e(it)g(should)h(tak)o(e)
g(three)g(argumen)o(ts.)21 b(The)16 b(parser)g(will)e(pass)i(a)g
(standard)g(I/O)g(stream,)0 370 y(the)f(n)o(umeric)f(co)q(de)i(for)f
(the)g(tok)o(en)g(t)o(yp)q(e,)g(and)g(the)g(tok)o(en)g(v)m(alue)h
(\(from)d Fj(yylval)p Fo(\).)62 507 y(Here)j(is)e(an)h(example)f(of)h
Fj(YYPRINT)f Fo(suitable)g(for)g(the)h(m)o(ulti-function)e(calculator)h
(\(see)h Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Dec-)0 569
y(larations)d(for)i Fj(mfcalc)p Fo(],)e(page)i Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(\):)120 696 y Fj(#define)23
b(YYPRINT\(file,)f(type,)h(value\))71 b(yyprint)23 b(\(file,)g(type,)g
(value\))120 800 y(static)g(void)120 852 y(yyprint)g(\(file,)g(type,)g
(value\))239 903 y(FILE)h(*file;)239 955 y(int)g(type;)239
1007 y(YYSTYPE)f(value;)120 1059 y({)168 1111 y(if)g(\(type)g(==)h
(VAR\))215 1163 y(fprintf)f(\(file,)g(")h(\045s",)f
(value.tptr->name\);)168 1215 y(else)g(if)h(\(type)f(==)g(NUM\))215
1267 y(fprintf)g(\(file,)g(")h(\045d",)f(value.val\);)120
1319 y(})p eop
%%Page: 89 91
89 90 bop 0 -58 a Fo(Chapter)15 b(9:)k(In)o(v)o(oking)c(Bison)1376
b(89)0 183 y Fl(9)41 b(In)n(v)n(oking)14 b(Bison)62 355
y Fo(The)i(usual)f(w)o(a)o(y)f(to)g(in)o(v)o(ok)o(e)h(Bison)f(is)h(as)g
(follo)o(ws:)120 482 y Fj(bison)23 b Fk(in\014le)62 619
y Fo(Here)15 b Fk(in\014le)i Fo(is)c(the)i(grammar)c(\014le)j(name,)f
(whic)o(h)h(usually)g(ends)h(in)f(`)p Fj(.y)p Fo('.)k(The)d(parser)f
(\014le's)g(name)f(is)h(made)0 681 y(b)o(y)h(replacing)f(the)h(`)p
Fj(.y)p Fo(')e(with)h(`)p Fj(.tab.c)p Fo('.)k(Th)o(us,)d(the)g(`)p
Fj(bison)f(foo.y)p Fo(')f(\014lename)h(yields)h(`)p Fj(foo.tab.c)p
Fo(',)d(and)j(the)0 743 y(`)p Fj(bison)f(hack/foo.y)p
Fo(')g(\014lename)g(yields)h(`)p Fj(hack/foo.tab.c)p
Fo('.)0 953 y Fn(9.1)33 b(Bison)15 b(Options)62 1090
y Fo(Bison)j(supp)q(orts)g(b)q(oth)g(traditional)d(single-letter)i
(options)g(and)h(mnemonic)e(long)h(option)g(names.)27
b(Long)0 1152 y(option)14 b(names)g(are)g(indicated)g(with)g(`)p
Fj(--)p Fo(')g(instead)g(of)h(`)p Fj(-)p Fo('.)j(Abbreviations)c(for)g
(option)g(names)g(are)g(allo)o(w)o(ed)f(as)0 1214 y(long)k(as)h(they)g
(are)g(unique.)29 b(When)19 b(a)f(long)f(option)g(tak)o(es)h(an)g
(argumen)o(t,)e(lik)o(e)i(`)p Fj(--file-prefix)p Fo(',)d(connect)0
1276 y(the)g(option)g(name)f(and)h(the)h(argumen)o(t)d(with)i(`)p
Fj(=)p Fo('.)62 1413 y(Here)e(is)g(a)f(list)g(of)g(options)g(that)g
(can)h(b)q(e)h(used)f(with)f(Bison,)h(alphab)q(etized)g(b)o(y)g(short)f
(option.)18 b(It)13 b(is)g(follo)o(w)o(ed)0 1476 y(b)o(y)i(a)g(cross)g
(k)o(ey)g(alphab)q(etized)g(b)o(y)g(long)g(option.)0
1621 y(`)p Fj(-b)g Fk(\014le-pre\014x)s Fo(')0 1684 y(`)p
Fj(--file-prefix=)p Fk(pre\014x)s Fo(')240 1746 y(Sp)q(ecify)h(a)f
(pre\014x)g(to)g(use)h(for)e(all)g(Bison)h(output)g(\014le)g(names.)k
(The)d(names)e(are)h(c)o(hosen)g(as)g(if)g(the)240 1808
y(input)g(\014le)g(w)o(ere)g(named)g(`)p Fk(pre\014x)p
Fj(.c)p Fo('.)0 1888 y(`)p Fj(-d)p Fo(')0 1950 y(`)p
Fj(--defines)p Fo(')240 2012 y(W)l(rite)10 b(an)i(extra)e(output)h
(\014le)h(con)o(taining)e(macro)f(de\014nitions)i(for)g(the)g(tok)o(en)
g(t)o(yp)q(e)g(names)g(de\014ned)240 2075 y(in)i(the)h(grammar)c(and)k
(the)g(seman)o(tic)e(v)m(alue)i(t)o(yp)q(e)f Fj(YYSTYPE)p
Fo(,)g(as)g(w)o(ell)g(as)g(a)g(few)h Fj(extern)f Fo(v)m(ariable)240
2137 y(declarations.)240 2208 y(If)i(the)h(parser)f(output)g(\014le)g
(is)g(named)f(`)p Fk(name)p Fj(.c)p Fo(')f(then)j(this)e(\014le)i(is)e
(named)h(`)p Fk(name)p Fj(.h)p Fo('.)240 2279 y(This)k(output)g(\014le)
g(is)g(essen)o(tial)f(if)h(y)o(ou)g(wish)g(to)f(put)i(the)f
(de\014nition)g(of)g Fj(yylex)f Fo(in)i(a)e(separate)240
2341 y(source)13 b(\014le,)f(b)q(ecause)i Fj(yylex)e
Fo(needs)h(to)f(b)q(e)h(able)f(to)g(refer)h(to)f(tok)o(en)g(t)o(yp)q(e)
g(co)q(des)h(and)g(the)g(v)m(ariable)240 2403 y Fj(yylval)p
Fo(.)19 b(See)d Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Seman)o(tic)e(V)l
(alues)h(of)g(T)l(ok)o(ens],)f(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 2483 y(`)p Fj(-l)p Fo(')0 2545 y(`)p Fj(--no-lines)p
Fo(')240 2608 y(Don't)f(put)h(an)o(y)g Fj(#line)f Fo(prepro)q(cessor)h
(commands)e(in)i(the)g(parser)g(\014le.)20 b(Ordinarily)14
b(Bison)h(puts)240 2670 y(them)f(in)g(the)h(parser)f(\014le)h(so)f
(that)g(the)h(C)f(compiler)f(and)i(debuggers)g(will)e(asso)q(ciate)h
(errors)g(with)p eop
%%Page: 90 92
90 91 bop 0 -58 a Fo(90)1697 b(Bison)15 b(1.25)240 183
y(y)o(our)e(source)g(\014le,)g(the)g(grammar)d(\014le.)19
b(This)13 b(option)g(causes)g(them)f(to)h(asso)q(ciate)f(errors)g(with)
h(the)240 246 y(parser)i(\014le,)g(treating)f(it)g(as)h(an)g(indep)q
(enden)o(t)i(source)e(\014le)g(in)g(its)f(o)o(wn)h(righ)o(t.)0
325 y(`)p Fj(-n)p Fo(')0 387 y(`)p Fj(--no-parser)p Fo(')240
450 y(Do)20 b(not)g(include)h(an)o(y)f(C)g(co)q(de)h(in)f(the)h(parser)
f(\014le;)j(generate)d(tables)g(only)l(.)35 b(The)21
b(parser)f(\014le)240 512 y(con)o(tains)14 b(just)h Fj(#define)f
Fo(directiv)o(es)h(and)g(static)f(v)m(ariable)h(declarations.)240
583 y(This)10 b(option)f(also)h(tells)f(Bison)h(to)g(write)f(the)i(C)f
(co)q(de)h(for)e(the)i(grammar)c(actions)i(in)o(to)g(a)h(\014le)h
(named)240 645 y(`)p Fk(\014lename)p Fj(.act)p Fo(',)i(in)i(the)g(form)
e(of)i(a)g(brace-surrounded)h(b)q(o)q(dy)g(\014t)f(for)g(a)g
Fj(switch)f Fo(statemen)o(t.)0 725 y(`)p Fj(-o)h Fk(out\014le)s
Fo(')0 787 y(`)p Fj(--output-file=)p Fk(out\014le)s Fo(')240
849 y(Sp)q(ecify)h(the)f(name)f Fk(out\014le)k Fo(for)c(the)i(parser)e
(\014le.)240 920 y(The)h(other)g(output)g(\014les')g(names)f(are)g
(constructed)i(from)d Fk(out\014le)k Fo(as)e(describ)q(ed)h(under)g
(the)f(`)p Fj(-v)p Fo(')240 983 y(and)g(`)p Fj(-d)p Fo(')g(options.)0
1062 y(`)p Fj(-p)g Fk(pre\014x)s Fo(')0 1125 y(`)p Fj(--name-prefix=)p
Fk(pre\014x)s Fo(')240 1187 y(Rename)f(the)h(external)g(sym)o(b)q(ols)e
(used)i(in)g(the)f(parser)h(so)f(that)g(they)h(start)f(with)g
Fk(pre\014x)k Fo(instead)240 1249 y(of)h(`)p Fj(yy)p
Fo('.)31 b(The)20 b(precise)g(list)e(of)h(sym)o(b)q(ols)e(renamed)i(is)
g Fj(yyparse)p Fo(,)g Fj(yylex)p Fo(,)g Fj(yyerror)p
Fo(,)g Fj(yynerrs)p Fo(,)240 1311 y Fj(yylval)p Fo(,)14
b Fj(yychar)g Fo(and)i Fj(yydebug)p Fo(.)240 1382 y(F)l(or)f(example,)e
(if)i(y)o(ou)g(use)g(`)p Fj(-p)g(c)p Fo(',)f(the)h(names)f(b)q(ecome)h
Fj(cparse)p Fo(,)f Fj(clex)p Fo(,)h(and)g(so)g(on.)240
1453 y(See)h Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Multiple)e(P)o(arsers)g
(in)h(the)g(Same)g(Program],)d(page)j Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1533 y(`)p Fj(-r)p Fo(')0 1595 y(`)p Fj(--raw)p
Fo(')94 b(Pretend)15 b(that)g Fj(\045raw)g Fo(w)o(as)f(sp)q(eci\014ed.)
21 b(See)16 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Decl)f(Summary],)d
(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1675 y(`)p
Fj(-t)p Fo(')0 1737 y(`)p Fj(--debug)p Fo(')46 b(Output)18
b(a)f(de\014nition)g(of)g(the)h(macro)e Fj(YYDEBUG)g
Fo(in)o(to)g(the)i(parser)f(\014le,)h(so)f(that)f(the)i(debugging)240
1800 y(facilities)13 b(are)i(compiled.)k(See)d Fm(h)p
Fo(unde\014ned)p Fm(i)g Fo([Debugging)e(Y)l(our)i(P)o(arser],)d(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1879 y(`)p Fj(-v)p
Fo(')0 1942 y(`)p Fj(--verbose)p Fo(')240 2004 y(W)l(rite)d(an)g(extra)
f(output)i(\014le)f(con)o(taining)f(v)o(erb)q(ose)h(descriptions)g(of)g
(the)h(parser)f(states)f(and)i(what)240 2066 y(is)i(done)g(for)g(eac)o
(h)g(t)o(yp)q(e)g(of)g(lo)q(ok-ahead)g(tok)o(en)g(in)g(that)f(state.)
240 2137 y(This)e(\014le)h(also)e(describ)q(es)j(all)d(the)i
(con\015icts,)f(b)q(oth)h(those)f(resolv)o(ed)g(b)o(y)h(op)q(erator)e
(precedence)k(and)240 2199 y(the)g(unresolv)o(ed)g(ones.)240
2270 y(The)f(\014le's)f(name)f(is)h(made)g(b)o(y)g(remo)o(ving)e(`)p
Fj(.tab.c)p Fo(')h(or)h(`)p Fj(.c)p Fo(')f(from)g(the)i(parser)f
(output)g(\014le)g(name,)240 2333 y(and)i(adding)g(`)p
Fj(.output)p Fo(')f(instead.)240 2404 y(Therefore,)22
b(if)f(the)h(input)f(\014le)g(is)g(`)p Fj(foo.y)p Fo(',)g(then)h(the)f
(parser)g(\014le)h(is)f(called)g(`)p Fj(foo.tab.c)p Fo(')e(b)o(y)240
2466 y(default.)g(As)d(a)f(consequence,)h(the)f(v)o(erb)q(ose)g(output)
g(\014le)g(is)g(called)g(`)p Fj(foo.output)p Fo('.)0
2545 y(`)p Fj(-V)p Fo(')0 2608 y(`)p Fj(--version)p Fo(')240
2670 y(Prin)o(t)f(the)h(v)o(ersion)g(n)o(um)o(b)q(er)f(of)h(Bison)g
(and)g(exit.)p eop
%%Page: 91 93
91 92 bop 0 -58 a Fo(Chapter)15 b(9:)k(In)o(v)o(oking)c(Bison)1376
b(91)0 183 y(`)p Fj(-h)p Fo(')0 246 y(`)p Fj(--help)p
Fo(')70 b(Prin)o(t)14 b(a)h(summary)e(of)h(the)i(command-line)d
(options)h(to)h(Bison)f(and)i(exit.)0 334 y(`)p Fj(-y)p
Fo(')0 397 y(`)p Fj(--yacc)p Fo(')0 459 y(`)p Fj(--fixed-output-files)p
Fo(')240 521 y(Equiv)m(alen)o(t)i(to)g(`)p Fj(-o)c(y.tab.c)p
Fo(';)19 b(the)f(parser)h(output)f(\014le)h(is)f(called)g(`)p
Fj(y.tab.c)p Fo(',)f(and)i(the)f(other)240 583 y(outputs)d(are)g
(called)h(`)p Fj(y.output)p Fo(')d(and)j(`)p Fj(y.tab.h)p
Fo('.)j(The)d(purp)q(ose)g(of)f(this)g(option)g(is)g(to)g(imitate)240
646 y(Y)l(acc's)f(output)g(\014le)g(name)e(con)o(v)o(en)o(tions.)19
b(Th)o(us,)14 b(the)g(follo)o(wing)d(shell)j(script)f(can)h(substitute)
g(for)240 708 y(Y)l(acc:)360 781 y Fj(bison)23 b(-y)h($*)0
1082 y Fn(9.2)33 b(Option)15 b(Cross)f(Key)62 1227 y
Fo(Here)i(is)g(a)g(list)e(of)i(options,)f(alphab)q(etized)h(b)o(y)g
(long)f(option,)g(to)g(help)h(y)o(ou)g(\014nd)h(the)f(corresp)q(onding)
g(short)0 1290 y(option.)24 1352 y Fj(--debug)59 b(.)23
b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52
b(-t)24 1414 y(--defines)58 b(.)24 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)g(.)52 b(-d)24 1476 y(--file-prefix)58
b(.)23 b(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52
b(-b)24 1539 y(--fixed-output-files)33 b(.)24 b(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)g(.)52 b(-y)24 1601 y(--help)35 b(.)24 b(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52 b(-h)24
1663 y(--name-prefix)58 b(.)23 b(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)g(.)52 b(-p)24 1725 y(--no-lines)34 b(.)24 b(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52 b(-l)24 1788 y(--no-parser)58
b(.)24 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52
b(-n)24 1850 y(--output-file)58 b(.)23 b(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)g(.)52 b(-o)24 1912 y(--raw)59 b(.)24
b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52
b(-r)24 1974 y(--token-table)58 b(.)23 b(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)g(.)52 b(-k)24 2037 y(--verbose)58 b(.)24
b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52
b(-v)24 2099 y(--version)58 b(.)24 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)g(.)52 b(-V)24 2161 y(--yacc)35 b(.)24
b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)g(.)52
b(-y)0 2462 y Fn(9.3)33 b(In)n(v)n(oking)17 b(Bison)e(under)h(VMS)62
2608 y Fo(The)f(command)d(line)i(syn)o(tax)g(for)f(Bison)h(on)g(VMS)h
(is)f(a)f(v)m(arian)o(t)h(of)g(the)g(usual)g(Bison)g(command)e(syn)o
(tax|)0 2670 y(adapted)j(to)g(\014t)g(VMS)g(con)o(v)o(en)o(tions.)p
eop
%%Page: 92 94
92 93 bop 0 -58 a Fo(92)1697 b(Bison)15 b(1.25)62 183
y(T)l(o)d(\014nd)h(the)g(VMS)f(equiv)m(alen)o(t)g(for)g(an)o(y)g(Bison)
g(option,)g(start)f(with)h(the)g(long)g(option,)g(and)g(substitute)g(a)
g(`)p Fj(/)p Fo(')0 246 y(for)j(the)h(leading)f(`)p Fj(--)p
Fo(',)f(and)i(substitute)f(a)g(`)p Fj(_)p Fo(')g(for)g(eac)o(h)g(`)p
Fj(-)p Fo(')g(in)g(the)h(name)f(of)g(the)g(long)g(option.)21
b(F)l(or)14 b(example,)0 308 y(the)h(follo)o(wing)e(in)o(v)o(o)q
(cation)h(under)i(VMS:)120 434 y Fj(bison)23 b(/debug/name_prefix=bar)e
(foo.y)0 571 y Fo(is)15 b(equiv)m(alen)o(t)g(to)f(the)h(follo)o(wing)e
(command)g(under)j(POSIX.)120 698 y Fj(bison)23 b(--debug)g
(--name-prefix=bar)f(foo.y)62 835 y Fo(The)14 b(VMS)g(\014le)f(system)f
(do)q(es)i(not)f(p)q(ermit)g(\014lenames)f(suc)o(h)i(as)f(`)p
Fj(foo.tab.c)p Fo('.)18 b(In)c(the)f(ab)q(o)o(v)o(e)h(example,)e(the)0
897 y(output)j(\014le)g(w)o(ould)g(instead)g(b)q(e)g(named)g(`)p
Fj(foo_tab.c)p Fo('.)p eop
%%Page: 93 95
93 94 bop 0 -58 a Fo(App)q(endix)16 b(A:)f(Bison)g(Sym)o(b)q(ols)1342
b(93)0 183 y Fl(App)r(endix)14 b(A)41 b(Bison)16 b(Sym)n(b)r(ols)0
393 y Fj(error)120 b Fo(A)13 b(tok)o(en)g(name)g(reserv)o(ed)g(for)g
(error)g(reco)o(v)o(ery)l(.)19 b(This)13 b(tok)o(en)g(ma)o(y)f(b)q(e)i
(used)g(in)f(grammar)d(rules)j(so)240 455 y(as)i(to)f(allo)o(w)g(the)h
(Bison)g(parser)g(to)g(recognize)g(an)g(error)f(in)i(the)f(grammar)d
(without)i(halting)g(the)240 518 y(pro)q(cess.)19 b(In)12
b(e\013ect,)f(a)g(sen)o(tence)h(con)o(taining)e(an)h(error)g(ma)o(y)e
(b)q(e)j(recognized)f(as)g(v)m(alid.)18 b(On)12 b(a)f(parse)240
580 y(error,)g(the)h(tok)o(en)f Fj(error)g Fo(b)q(ecomes)g(the)g
(curren)o(t)h(lo)q(ok-ahead)f(tok)o(en.)18 b(Actions)11
b(corresp)q(onding)h(to)240 642 y Fj(error)h Fo(are)g(then)h(executed,)
h(and)f(the)f(lo)q(ok-ahead)h(tok)o(en)f(is)g(reset)g(to)g(the)h(tok)o
(en)f(that)g(originally)240 704 y(caused)j(the)f(violation.)j(See)e
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Error)e(Reco)o(v)o(ery],)g(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 795 y Fj(YYABORT)72
b Fo(Macro)12 b(to)g(pretend)h(that)g(an)f(unreco)o(v)o(erable)h(syn)o
(tax)f(error)g(has)h(o)q(ccurred,)g(b)o(y)g(making)e
Fj(yyparse)240 857 y Fo(return)16 b(1)g(immediatel)o(y)l(.)k(The)c
(error)g(rep)q(orting)f(function)h Fj(yyerror)f Fo(is)h(not)f(called.)
23 b(See)16 b Fm(h)p Fo(unde-)240 920 y(\014ned)p Fm(i)g
Fo([The)f(P)o(arser)f(F)l(unction)h Fj(yyparse)p Fo(],)f(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1010 y Fj(YYACCEPT)48
b Fo(Macro)17 b(to)f(pretend)i(that)f(a)g(complete)g(utterance)g(of)g
(the)h(language)e(has)i(b)q(een)g(read,)g(b)o(y)f(mak-)240
1073 y(ing)i Fj(yyparse)f Fo(return)h(0)g(immediately)l(.)30
b(See)19 b Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([The)e(P)o(arser)g(F)l
(unction)g Fj(yyparse)p Fo(],)240 1135 y(page)c Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 1226 y Fj(YYBACKUP)48
b Fo(Macro)21 b(to)g(discard)g(a)h(v)m(alue)g(from)e(the)i(parser)f
(stac)o(k)g(and)h(fak)o(e)f(a)h(lo)q(ok-ahead)f(tok)o(en.)39
b(See)240 1288 y Fm(h)p Fo(unde\014ned)p Fm(i)16 b Fo([Sp)q(ecial)f(F)l
(eatures)g(for)g(Use)g(in)g(Actions],)f(page)h Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 1379 y Fj(YYERROR)72 b
Fo(Macro)17 b(to)f(pretend)i(that)f(a)g(syn)o(tax)g(error)g(has)g(just)
g(b)q(een)i(detected:)25 b(call)17 b Fj(yyerror)f Fo(and)i(then)240
1441 y(p)q(erform)c(normal)f(error)i(reco)o(v)o(ery)g(if)g(p)q(ossible)
g(\(see)g Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Error)d(Reco)o(v)o(ery],)g
(page)i Fm(h)p Fo(un-)240 1503 y(de\014ned)p Fm(i)p Fo(\),)f(or)e(\(if)
g(reco)o(v)o(ery)h(is)f(imp)q(ossible\))f(mak)o(e)h Fj(yyparse)g
Fo(return)h(1.)19 b(See)c Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([Error)240 1565 y(Reco)o(v)o(ery],)f(page)i Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 1656 y Fj(YYERROR_VERBOSE)240
1718 y Fo(Macro)g(that)f(y)o(ou)i(de\014ne)g(with)f Fj(#define)f
Fo(in)i(the)f(Bison)h(declarations)e(section)h(to)g(request)g(v)o(er-)
240 1781 y(b)q(ose,)f(sp)q(eci\014c)h(error)f(message)e(strings)i(when)
g Fj(yyerror)f Fo(is)h(called.)0 1871 y Fj(YYINITDEPTH)240
1934 y Fo(Macro)h(for)g(sp)q(ecifying)g(the)h(initial)e(size)h(of)g
(the)h(parser)f(stac)o(k.)24 b(See)17 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Stac)o(k)e(Ov)o(er-)240 1996 y(\015o)o(w],)e(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 2087 y Fj(YYLEX_PARAM)240
2149 y Fo(Macro)c(for)h(sp)q(ecifying)g(an)g(extra)f(argumen)o(t)f
(\(or)h(list)g(of)h(extra)f(argumen)o(ts\))f(for)i Fj(yyparse)f
Fo(to)g(pass)240 2211 y(to)k Fj(yylex)p Fo(.)k(See)d
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Calling)d(Con)o(v)o(en)o(tions)h
(for)h(Pure)g(P)o(arsers],)e(page)i Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 2302 y Fj(YYLTYPE)72 b Fo(Macro)17 b(for)h(the)g(data)f
(t)o(yp)q(e)h(of)g Fj(yylloc)p Fo(;)g(a)g(structure)g(with)f(four)h
(mem)o(b)q(ers.)26 b(See)19 b Fm(h)p Fo(unde\014ned)p
Fm(i)240 2364 y Fo([T)l(extual)14 b(P)o(ositions)g(of)g(T)l(ok)o(ens],)
h(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 2455 y
Fj(yyltype)72 b Fo(Default)14 b(v)m(alue)i(for)e(YYL)l(TYPE.)0
2545 y Fj(YYMAXDEPTH)240 2608 y Fo(Macro)19 b(for)g(sp)q(ecifying)h
(the)g(maxim)o(um)c(size)k(of)g(the)g(parser)g(stac)o(k.)33
b(See)21 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Stac)o(k)240
2670 y(Ov)o(er\015o)o(w],)14 b(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)p eop
%%Page: 94 96
94 95 bop 0 -58 a Fo(94)1697 b(Bison)15 b(1.25)0 183
y Fj(YYPARSE_PARAM)240 246 y Fo(Macro)e(for)h(sp)q(ecifying)g(the)h
(name)e(of)h(a)g(parameter)e(that)i Fj(yyparse)f Fo(should)i(accept.)k
(See)c Fm(h)p Fo(unde-)240 308 y(\014ned)p Fm(i)h Fo([Calling)d(Con)o
(v)o(en)o(tions)h(for)g(Pure)i(P)o(arsers],)d(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 390 y Fj(YYRECOVERING)240
453 y Fo(Macro)f(whose)g(v)m(alue)h(indicates)f(whether)g(the)h(parser)
f(is)g(reco)o(v)o(ering)g(from)e(a)j(syn)o(tax)e(error.)19
b(See)240 515 y Fm(h)p Fo(unde\014ned)p Fm(i)d Fo([Sp)q(ecial)f(F)l
(eatures)g(for)g(Use)g(in)g(Actions],)f(page)h Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 598 y Fj(YYSTYPE)72 b
Fo(Macro)19 b(for)g(the)h(data)g(t)o(yp)q(e)g(of)f(seman)o(tic)f(v)m
(alues;)23 b Fj(int)c Fo(b)o(y)h(default.)34 b(See)20
b Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Data)240 660 y(T)o(yp)q(es)15
b(of)g(Seman)o(tic)f(V)l(alues],)g(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 743 y Fj(yychar)96 b Fo(External)9 b(in)o(teger)h(v)m
(ariable)f(that)h(con)o(tains)f(the)i(in)o(teger)e(v)m(alue)i(of)e(the)
i(curren)o(t)f(lo)q(ok-ahead)g(tok)o(en.)240 805 y(\(In)i(a)e(pure)i
(parser,)g(it)e(is)h(a)g(lo)q(cal)f(v)m(ariable)h(within)f
Fj(yyparse)p Fo(.\))17 b(Error-reco)o(v)o(ery)10 b(rule)h(actions)g(ma)
o(y)240 867 y(examine)i(this)h(v)m(ariable.)19 b(See)c
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Sp)q(ecial)e(F)l(eatures)g(for)f
(Use)i(in)f(Actions],)f(page)i Fm(h)p Fo(un-)240 929
y(de\014ned)p Fm(i)p Fo(.)0 1012 y Fj(yyclearin)240 1074
y Fo(Macro)e(used)i(in)e(error-reco)o(v)o(ery)g(rule)h(actions.)19
b(It)14 b(clears)f(the)h(previous)g(lo)q(ok-ahead)f(tok)o(en.)19
b(See)240 1137 y Fm(h)p Fo(unde\014ned)p Fm(i)d Fo([Error)e(Reco)o(v)o
(ery],)h(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1219 y Fj(yydebug)72 b Fo(External)16 b(in)o(teger)h(v)m(ariable)f(set)
h(to)g(zero)g(b)o(y)g(default.)26 b(If)17 b Fj(yydebug)f
Fo(is)h(giv)o(en)g(a)g(nonzero)g(v)m(alue,)240 1282 y(the)c(parser)f
(will)f(output)h(information)d(on)k(input)f(sym)o(b)q(ols)f(and)i
(parser)f(action.)18 b(See)13 b Fm(h)p Fo(unde\014ned)p
Fm(i)240 1344 y Fo([Debugging)h(Y)l(our)i(P)o(arser],)d(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1427 y Fj(yyerrok)72
b Fo(Macro)15 b(to)h(cause)h(parser)f(to)g(reco)o(v)o(er)g(immediat)o
(ely)e(to)h(its)h(normal)e(mo)q(de)i(after)g(a)g(parse)g(error.)240
1489 y(See)g Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Error)e(Reco)o(v)o
(ery],)h(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1572 y Fj(yyerror)72 b Fo(User-supplied)20 b(function)f(to)f(b)q(e)i
(called)f(b)o(y)g Fj(yyparse)g Fo(on)g(error.)31 b(The)20
b(function)f(receiv)o(es)g(one)240 1634 y(argumen)o(t,)12
b(a)h(p)q(oin)o(ter)g(to)g(a)g(c)o(haracter)g(string)g(con)o(taining)f
(an)i(error)f(message.)18 b(See)c Fm(h)p Fo(unde\014ned)p
Fm(i)240 1696 y Fo([The)h(Error)f(Rep)q(orting)h(F)l(unction)g
Fj(yyerror)p Fo(],)f(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)0 1779 y Fj(yylex)120 b Fo(User-supplied)13 b(lexical)e(analyzer)g
(function,)i(called)e(with)h(no)g(argumen)o(ts)e(to)i(get)f(the)i(next)
f(tok)o(en.)240 1841 y(See)k Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([The)f(Lexical)g(Analyzer)g(F)l(unction)g Fj(yylex)p
Fo(],)f(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1924 y Fj(yylval)96 b Fo(External)18 b(v)m(ariable)h(in)g(whic)o(h)g
Fj(yylex)g Fo(should)g(place)g(the)g(seman)o(tic)f(v)m(alue)h(asso)q
(ciated)g(with)f(a)240 1986 y(tok)o(en.)h(\(In)13 b(a)g(pure)h(parser,)
f(it)f(is)h(a)g(lo)q(cal)f(v)m(ariable)h(within)g Fj(yyparse)p
Fo(,)f(and)h(its)g(address)g(is)g(passed)240 2048 y(to)i
Fj(yylex)p Fo(.\))j(See)e Fm(h)p Fo(unde\014ned)p Fm(i)h
Fo([Seman)o(tic)c(V)l(alues)i(of)g(T)l(ok)o(ens],)f(page)h
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 2131 y Fj(yylloc)96
b Fo(External)13 b(v)m(ariable)f(in)i(whic)o(h)f Fj(yylex)g
Fo(should)g(place)g(the)h(line)f(and)h(column)e(n)o(um)o(b)q(ers)h
(asso)q(ciated)240 2193 y(with)j(a)g(tok)o(en.)22 b(\(In)17
b(a)f(pure)g(parser,)g(it)g(is)f(a)h(lo)q(cal)g(v)m(ariable)f(within)h
Fj(yyparse)p Fo(,)f(and)h(its)g(address)240 2256 y(is)e(passed)g(to)g
Fj(yylex)p Fo(.\))19 b(Y)l(ou)14 b(can)h(ignore)e(this)h(v)m(ariable)g
(if)f(y)o(ou)h(don't)g(use)h(the)f(`)p Fj(@)p Fo(')g(feature)g(in)g
(the)240 2318 y(grammar)e(actions.)19 b(See)c Fm(h)p
Fo(unde\014ned)p Fm(i)i Fo([T)l(extual)d(P)o(ositions)g(of)g(T)l(ok)o
(ens],)h(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
2401 y Fj(yynerrs)72 b Fo(Global)17 b(v)m(ariable)h(whic)o(h)g(Bison)h
(incremen)o(ts)e(eac)o(h)h(time)f(there)i(is)f(a)g(parse)g(error.)29
b(\(In)19 b(a)f(pure)240 2463 y(parser,)g(it)g(is)g(a)g(lo)q(cal)f(v)m
(ariable)h(within)f Fj(yyparse)p Fo(.\))28 b(See)19 b
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([The)e(Error)f(Rep)q(orting)240
2525 y(F)l(unction)e Fj(yyerror)p Fo(],)e(page)j Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 2608 y Fj(yyparse)72 b
Fo(The)15 b(parser)g(function)g(pro)q(duced)i(b)o(y)e(Bison;)g(call)f
(this)h(function)g(to)f(start)g(parsing.)19 b(See)d Fm(h)p
Fo(unde-)240 2670 y(\014ned)p Fm(i)g Fo([The)f(P)o(arser)f(F)l(unction)
h Fj(yyparse)p Fo(],)f(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)p eop
%%Page: 95 97
95 96 bop 0 -58 a Fo(App)q(endix)16 b(A:)f(Bison)g(Sym)o(b)q(ols)1342
b(95)0 183 y Fj(\045left)120 b Fo(Bison)19 b(declaration)g(to)f(assign)
h(left)g(asso)q(ciativit)o(y)e(to)i(tok)o(en\(s\).)32
b(See)20 b Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Op)q(erator)240
246 y(Precedence],)16 b(page)f Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 336 y Fj(\045no_lines)240 398 y Fo(Bison)10
b(declaration)g(to)f(a)o(v)o(oid)h(generating)f Fj(#line)h
Fo(directiv)o(es)g(in)g(the)h(parser)f(\014le.)19 b(See)11
b Fm(h)p Fo(unde\014ned)p Fm(i)240 461 y Fo([Decl)k(Summary],)d(page)j
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 551 y Fj(\045nonassoc)240
614 y Fo(Bison)20 b(declaration)f(to)h(assign)g(nonasso)q(ciativit)o(y)
e(to)i(tok)o(en\(s\).)35 b(See)21 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Op)q(erator)240 676 y(Precedence],)16 b(page)f
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 767 y Fj(\045prec)120
b Fo(Bison)16 b(declaration)g(to)g(assign)g(a)g(precedence)j(to)d(a)g
(sp)q(eci\014c)i(rule.)24 b(See)17 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Con)o(text-)240 829 y(Dep)q(enden)o(t)e(Precedence],)g(page)
f Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 920 y Fj(\045pure_parser)240
982 y Fo(Bison)e(declaration)f(to)h(request)h(a)f(pure)h(\(reen)o(tran)
o(t\))e(parser.)19 b(See)14 b Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([A)f(Pure)h(\(Reen-)240 1044 y(tran)o(t\))g(P)o(arser],)f
(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1135 y
Fj(\045raw)144 b Fo(Bison)20 b(declaration)f(to)g(use)i(Bison)e(in)o
(ternal)g(tok)o(en)h(co)q(de)h(n)o(um)o(b)q(ers)e(in)h(tok)o(en)g
(tables)f(instead)240 1197 y(of)f(the)g(usual)g(Y)l(acc-compatible)f
(tok)o(en)g(co)q(de)i(n)o(um)o(b)q(ers.)28 b(See)19 b
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Decl)f(Summary],)240
1259 y(page)d Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1350
y Fj(\045right)96 b Fo(Bison)17 b(declaration)e(to)i(assign)f(righ)o(t)
g(asso)q(ciativit)o(y)e(to)j(tok)o(en\(s\).)24 b(See)17
b Fm(h)p Fo(unde\014ned)p Fm(i)i Fo([Op)q(erator)240
1412 y(Precedence],)d(page)f Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1503 y Fj(\045start)96 b Fo(Bison)20 b(declaration)g(to)f
(sp)q(ecify)i(the)g(start)e(sym)o(b)q(ol.)34 b(See)22
b Fm(h)p Fo(unde\014ned)p Fm(i)f Fo([The)g(Start-Sym)o(b)q(ol],)240
1565 y(page)15 b Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1656 y Fj(\045token)96 b Fo(Bison)17 b(declaration)g(to)g(declare)g
(tok)o(en\(s\))g(without)f(sp)q(ecifying)i(precedence.)29
b(See)18 b Fm(h)p Fo(unde\014ned)p Fm(i)240 1718 y Fo([T)l(ok)o(en)d(T)
o(yp)q(e)g(Names],)e(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)0 1809 y Fj(\045token_table)240 1871 y Fo(Bison)d(declaration)f
(to)g(include)h(a)g(tok)o(en)g(name)f(table)g(in)h(the)g(parser)g
(\014le.)19 b(See)12 b Fm(h)p Fo(unde\014ned)p Fm(i)i
Fo([Decl)240 1934 y(Summary],)e(page)j Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 2024 y Fj(\045type)120 b Fo(Bison)21 b(declaration)f(to)h
(declare)g(non)o(terminals.)35 b(See)22 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Non)o(terminal)18 b(Sym)o(b)q(ols],)240 2087
y(page)d Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 2177 y
Fj(\045union)96 b Fo(Bison)17 b(declaration)e(to)i(sp)q(ecify)g(sev)o
(eral)f(p)q(ossible)g(data)h(t)o(yp)q(es)g(for)f(seman)o(tic)f(v)m
(alues.)25 b(See)18 b Fm(h)p Fo(un-)240 2240 y(de\014ned)p
Fm(i)e Fo([The)f(Collection)f(of)h(V)l(alue)g(T)o(yp)q(es],)g(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)62 2392 y(These)h(are)f(the)g
(punctuation)g(and)g(delimiters)e(used)j(in)f(Bison)g(input:)0
2545 y(`)p Fj(\045\045)p Fo(')166 b(Delimiter)9 b(used)i(to)g(separate)
g(the)g(grammar)d(rule)j(section)g(from)e(the)j(Bison)e(declarations)g
(section)240 2608 y(or)21 b(the)h(additional)e(C)h(co)q(de)i(section.)
38 b(See)23 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([The)e(Ov)o(erall)g(La)
o(y)o(out)g(of)g(a)g(Bison)240 2670 y(Grammar)o(],)12
b(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)p eop
%%Page: 96 98
96 97 bop 0 -58 a Fo(96)1697 b(Bison)15 b(1.25)0 183
y(`)p Fj(\045{)g(\045})p Fo(')103 b(All)13 b(co)q(de)h(listed)f(b)q(et)
o(w)o(een)h(`)p Fj(\045{)p Fo(')f(and)h(`)p Fj(\045})p
Fo(')e(is)h(copied)h(directly)f(to)g(the)h(output)f(\014le)h(unin)o
(terpreted.)240 246 y(Suc)o(h)f(co)q(de)g(forms)e(the)h(\\C)g
(declarations")f(section)h(of)g(the)h(input)g(\014le.)19
b(See)13 b Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Outline)240
308 y(of)i(a)g(Bison)g(Gramm)o(ar],)c(page)k Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 395 y(`)p Fj(/*)p Ff(:)8 b(:)g(:)m Fj(*/)p
Fo(')66 b(Commen)o(t)12 b(delimiters,)h(as)i(in)g(C.)0
482 y(`)p Fj(:)p Fo(')190 b(Separates)19 b(a)f(rule's)g(result)h(from)e
(its)h(comp)q(onen)o(ts.)30 b(See)19 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([Syn)o(tax)e(of)h(Gramm)o(ar)240 544 y(Rules],)c(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 632 y(`)p Fj(;)p
Fo(')190 b(T)l(erminates)13 b(a)i(rule.)20 b(See)c Fm(h)p
Fo(unde\014ned)p Fm(i)g Fo([Syn)o(tax)f(of)f(Grammar)e(Rules],)j(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 719 y(`)p Fj(|)p
Fo(')190 b(Separates)16 b(alternate)g(rules)g(for)g(the)h(same)e
(result)h(non)o(terminal.)22 b(See)c Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Syn)o(tax)d(of)240 781 y(Grammar)d(Rules],)j(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)p eop
%%Page: 97 99
97 98 bop 0 -58 a Fo(App)q(endix)16 b(B:)f(Glossary)1464
b(97)0 183 y Fl(App)r(endix)14 b(B)41 b(Glossary)0 409
y Fo(Bac)o(kus-Naur)15 b(F)l(orm)f(\(BNF\))240 471 y(F)l(ormal)8
b(metho)q(d)h(of)h(sp)q(ecifying)g(con)o(text-free)g(grammar)o(s.)16
b(BNF)10 b(w)o(as)f(\014rst)h(used)h(in)f(the)g Fk(ALGOL-)240
533 y(60)19 b Fo(rep)q(ort,)d(1963.)21 b(See)c Fm(h)p
Fo(unde\014ned)p Fm(i)g Fo([Languages)e(and)i(Con)o(text-F)l(ree)e
(Grammar)o(s],)e(page)j Fm(h)p Fo(un-)240 595 y(de\014ned)p
Fm(i)p Fo(.)0 691 y(Con)o(text-free)e(grammars)240 754
y(Grammar)o(s)g(sp)q(eci\014ed)k(as)e(rules)g(that)g(can)h(b)q(e)g
(applied)g(regardless)f(of)g(con)o(text.)23 b(Th)o(us,)17
b(if)f(there)240 816 y(is)f(a)g(rule)h(whic)o(h)f(sa)o(ys)g(that)g(an)h
(in)o(teger)e(can)i(b)q(e)g(used)h(as)e(an)g(expression,)h(in)o(tegers)
e(are)i(allo)o(w)o(ed)240 878 y Fk(an)o(ywhere)22 b Fo(an)d(expression)
g(is)f(p)q(ermitted.)31 b(See)19 b Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([Languages)d(and)i(Con)o(text-F)l(ree)240 940
y(Grammar)o(s],)12 b(page)j Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)0 1036 y(Dynamic)f(allo)q(cation)240 1098 y(Allo)q(cation)f(of)h
(memory)e(that)i(o)q(ccurs)h(during)f(execution,)h(rather)f(than)g(at)g
(compile)f(time)g(or)h(on)240 1161 y(en)o(try)h(to)f(a)h(function.)0
1257 y(Empt)o(y)f(string)240 1319 y(Analogous)19 b(to)h(the)g(empt)o(y)
f(set)h(in)g(set)f(theory)l(,)i(the)f(empt)o(y)f(string)g(is)h(a)g(c)o
(haracter)f(string)g(of)240 1381 y(length)c(zero.)0 1477
y(Finite-state)f(stac)o(k)g(mac)o(hine)240 1539 y(A)20
b(\\mac)o(hine")f(that)h(has)g(discrete)g(states)f(in)h(whic)o(h)g(it)g
(is)g(said)g(to)f(exist)h(at)g(eac)o(h)g(instan)o(t)f(in)240
1602 y(time.)h(As)15 b(input)h(to)f(the)h(mac)o(hine)e(is)h(pro)q
(cessed,)i(the)e(mac)o(hine)g(mo)o(v)o(es)f(from)g(state)g(to)i(state)e
(as)240 1664 y(sp)q(eci\014ed)f(b)o(y)f(the)f(logic)g(of)g(the)h(mac)o
(hine.)18 b(In)12 b(the)g(case)g(of)f(the)h(parser,)g(the)g(input)g(is)
f(the)h(language)240 1726 y(b)q(eing)18 b(parsed,)g(and)g(the)g(states)
f(corresp)q(ond)h(to)f(v)m(arious)g(stages)g(in)h(the)g(gramma)o(r)d
(rules.)27 b(See)240 1788 y Fm(h)p Fo(unde\014ned)p Fm(i)16
b Fo([The)f(Bison)g(P)o(arser)g(Algorithm)d(],)j(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1884 y(Grouping)52
b(A)13 b(language)g(construct)f(that)h(is)f(\(in)h(general\))f
(grammati)o(cally)e(divisible;)i(for)h(example,)f(`expres-)240
1947 y(sion')k(or)h(`declaration')e(in)h(C.)h(See)g Fm(h)p
Fo(unde\014ned)p Fm(i)h Fo([Languages)f(and)g(Con)o(text-F)l(ree)f
(Grammars])o(,)240 2009 y(page)f Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 2105 y(In\014x)h(op)q(erator)240 2167 y(An)d(arithmetic)e
(op)q(erator)h(that)h(is)f(placed)h(b)q(et)o(w)o(een)h(the)f(op)q
(erands)g(on)g(whic)o(h)g(it)g(p)q(erforms)e(some)240
2229 y(op)q(eration.)0 2325 y(Input)16 b(stream)240 2387
y(A)f(con)o(tin)o(uous)g(\015o)o(w)f(of)h(data)g(b)q(et)o(w)o(een)g
(devices)h(or)f(programs.)0 2483 y(Language)g(construct)240
2545 y(One)i(of)e(the)h(t)o(ypical)e(usage)i(sc)o(hemas)f(of)g(the)h
(language.)21 b(F)l(or)15 b(example,)f(one)i(of)f(the)h(constructs)240
2608 y(of)g(the)h(C)g(language)e(is)i(the)g Fj(if)f Fo(statemen)o(t.)22
b(See)c Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Languages)e(and)h(Con)o
(text-F)l(ree)240 2670 y(Grammar)o(s],)12 b(page)j Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)p eop
%%Page: 98 100
98 99 bop 0 -58 a Fo(98)1697 b(Bison)15 b(1.25)0 183
y(Left)g(asso)q(ciativit)o(y)240 246 y(Op)q(erators)i(ha)o(ving)f(left)
h(asso)q(ciativit)o(y)d(are)j(analyzed)g(from)f(left)g(to)h(righ)o(t:)
23 b(`)p Fj(a+b+c)p Fo(')15 b(\014rst)i(com-)240 308
y(putes)26 b(`)p Fj(a+b)p Fo(')e(and)i(then)g(com)o(bines)f(with)g(`)p
Fj(c)p Fo('.)50 b(See)26 b Fm(h)p Fo(unde\014ned)p Fm(i)h
Fo([Op)q(erator)e(Precedence],)240 370 y(page)15 b Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 460 y(Left)g(recursion)240
523 y(A)i(rule)f(whose)h(result)f(sym)o(b)q(ol)e(is)j(also)e(its)h
(\014rst)g(comp)q(onen)o(t)g(sym)o(b)q(ol;)f(for)h(example,)f(`)p
Fj(expseq1)240 585 y(:)g(expseq1)f(',')h(exp;)p Fo('.)k(See)d
Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Recursiv)o(e)f(Rules],)g(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 675 y(Left-to-righ)o(t)f(parsing)
240 737 y(P)o(arsing)f(a)h(sen)o(tence)i(of)e(a)g(language)g(b)o(y)g
(analyzing)g(it)g(tok)o(en)g(b)o(y)g(tok)o(en)g(from)f(left)h(to)g
(righ)o(t.)k(See)240 800 y Fm(h)p Fo(unde\014ned)p Fm(i)e
Fo([The)f(Bison)g(P)o(arser)g(Algorithm)d(],)j(page)g
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 890 y(Lexical)g(analyzer)g
(\(scanner\))240 952 y(A)f(function)h(that)e(reads)h(an)h(input)f
(stream)f(and)h(returns)g(tok)o(ens)g(one)h(b)o(y)f(one.)20
b(See)15 b Fm(h)p Fo(unde\014ned)p Fm(i)240 1014 y Fo([The)g(Lexical)g
(Analyzer)g(F)l(unction)g Fj(yylex)p Fo(],)f(page)h Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)0 1104 y(Lexical)g(tie-in)240
1167 y(A)j(\015ag,)g(set)g(b)o(y)f(actions)g(in)h(the)g(grammar)d
(rules,)j(whic)o(h)f(alters)g(the)h(w)o(a)o(y)f(tok)o(ens)h(are)f
(parsed.)240 1229 y(See)f Fm(h)p Fo(unde\014ned)p Fm(i)g
Fo([Lexical)f(Tie-ins],)f(page)h Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1319 y(Literal)f(string)g(tok)o(en)240
1382 y(A)k(tok)o(en)g(whic)o(h)g(constists)g(of)g(t)o(w)o(o)f(or)g
(more)g(\014xed)i(c)o(haracters.)29 b(See)19 b Fm(h)p
Fo(unde\014ned)p Fm(i)g Fo([Sym)o(b)q(ols],)240 1444
y(page)c Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1534 y(Lo)q(ok-ahead)h
(tok)o(en)240 1596 y(A)24 b(tok)o(en)f(already)h(read)g(but)g(not)f(y)o
(et)h(shifted.)46 b(See)24 b Fm(h)p Fo(unde\014ned)p
Fm(i)i Fo([Lo)q(ok-Ahead)e(T)l(ok)o(ens],)240 1659 y(page)15
b Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 1749 y(LALR\(1\))58
b(The)15 b(class)g(of)f(con)o(text-free)h(grammars)d(that)i(Bison)h
(\(lik)o(e)e(most)h(other)g(parser)h(generators\))f(can)240
1811 y(handle;)25 b(a)c(subset)h(of)f(LR\(1\).)39 b(See)22
b Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Mysterious)d(Reduce/Reduce)k
(Con\015icts],)240 1873 y(page)15 b Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 1963 y(LR\(1\))120 b(The)14 b(class)f(of)g(con)o
(text-free)g(grammar)o(s)e(in)i(whic)o(h)g(at)g(most)f(one)h(tok)o(en)g
(of)h(lo)q(ok-ahead)f(is)g(needed)240 2026 y(to)i(disam)o(biguate)d
(the)k(parsing)e(of)h(an)o(y)g(piece)g(of)g(input.)0
2116 y(Non)o(terminal)e(sym)o(b)q(ol)240 2178 y(A)e(grammar)d(sym)o(b)q
(ol)h(standing)i(for)f(a)h(grammati)o(cal)d(construct)j(that)f(can)i(b)
q(e)f(expressed)h(through)240 2241 y(rules)18 b(in)g(terms)e(of)i
(smaller)e(constructs;)j(in)e(other)h(w)o(ords,)g(a)g(construct)f(that)
h(is)f(not)h(a)g(tok)o(en.)240 2303 y(See)e Fm(h)p Fo(unde\014ned)p
Fm(i)g Fo([Sym)o(b)q(ols],)d(page)i Fm(h)p Fo(unde\014ned)p
Fm(i)p Fo(.)0 2393 y(P)o(arse)f(error)240 2455 y(An)20
b(error)f(encoun)o(tered)h(during)f(parsing)g(of)g(an)g(input)h(stream)
e(due)i(to)f(in)o(v)m(alid)f(syn)o(tax.)32 b(See)240
2518 y Fm(h)p Fo(unde\014ned)p Fm(i)16 b Fo([Error)e(Reco)o(v)o(ery],)h
(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 2608 y(P)o(arser)113
b(A)14 b(function)f(that)g(recognizes)g(v)m(alid)g(sen)o(tences)h(of)f
(a)g(language)g(b)o(y)g(analyzing)g(the)g(syn)o(tax)g(struc-)240
2670 y(ture)i(of)g(a)g(set)g(of)f(tok)o(ens)h(passed)h(to)e(it)h(from)e
(a)i(lexical)f(analyzer.)p eop
%%Page: 99 101
99 100 bop 0 -58 a Fo(App)q(endix)16 b(B:)f(Glossary)1464
b(99)0 183 y(P)o(ost\014x)14 b(op)q(erator)240 246 y(An)h(arithmetic)d
(op)q(erator)h(that)h(is)f(placed)i(after)e(the)i(op)q(erands)g(up)q
(on)g(whic)o(h)f(it)f(p)q(erforms)g(some)240 308 y(op)q(eration.)0
407 y(Reduction)38 b(Replacing)13 b(a)g(string)f(of)h(non)o(terminals)e
(and/or)i(terminals)e(with)h(a)h(single)g(non)o(terminal,)e(accord-)240
469 y(ing)18 b(to)f(a)h(grammar)d(rule.)29 b(See)19 b
Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([The)e(Bison)g(P)o(arser)f(Algorithm)
f(],)i(page)g Fm(h)p Fo(unde-)240 532 y(\014ned)p Fm(i)p
Fo(.)0 631 y(Reen)o(tran)o(t)42 b(A)14 b(reen)o(tran)o(t)e(subprogram)g
(is)h(a)g(subprogram)f(whic)o(h)h(can)h(b)q(e)g(in)f(in)o(v)o(ok)o(ed)g
(an)o(y)g(n)o(um)o(b)q(er)g(of)g(times)240 693 y(in)18
b(parallel,)f(without)f(in)o(terference)i(b)q(et)o(w)o(een)h(the)f(v)m
(arious)f(in)o(v)o(o)q(cations.)27 b(See)18 b Fm(h)p
Fo(unde\014ned)p Fm(i)h Fo([A)240 755 y(Pure)c(\(Reen)o(tran)o(t\))g(P)
o(arser],)e(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
855 y(Rev)o(erse)h(p)q(olish)f(notation)240 917 y(A)g(language)g(in)g
(whic)o(h)g(all)f(op)q(erators)g(are)h(p)q(ost\014x)g(op)q(erators.)0
1016 y(Righ)o(t)g(recursion)240 1078 y(A)g(rule)h(whose)f(result)g(sym)
o(b)q(ol)f(is)g(also)h(its)f(last)h(comp)q(onen)o(t)f(sym)o(b)q(ol;)g
(for)h(example,)e(`)p Fj(expseq1:)240 1141 y(exp)i(',')f(expseq1;)p
Fo('.)19 b(See)d Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Recursiv)o(e)f
(Rules],)g(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1240 y(Seman)o(tics)40 b(In)19 b(computer)e(languages,)h(the)h(seman)o
(tics)e(are)h(sp)q(eci\014ed)h(b)o(y)g(the)f(actions)g(tak)o(en)g(for)f
(eac)o(h)i(in-)240 1302 y(stance)d(of)f(the)h(language,)f(i.e.,)f(the)i
(meaning)e(of)i(eac)o(h)g(statemen)o(t.)j(See)d Fm(h)p
Fo(unde\014ned)p Fm(i)h Fo([De\014ning)240 1364 y(Language)e(Seman)o
(tics],)e(page)i Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1464 y(Shift)145 b(A)16 b(parser)g(is)f(said)h(to)f(shift)g(when)i(it)e
(mak)o(es)f(the)i(c)o(hoice)g(of)g(analyzing)f(further)h(input)g(from)e
(the)240 1526 y(stream)9 b(rather)h(than)g(reducing)h(immediately)c
(some)i(already-recognized)h(rule.)19 b(See)11 b Fm(h)p
Fo(unde\014ned)p Fm(i)240 1588 y Fo([The)k(Bison)g(P)o(arser)f
(Algorithm)f(],)h(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p
Fo(.)0 1687 y(Single-c)o(haracter)f(literal)240 1750
y(A)21 b(single)g(c)o(haracter)g(that)g(is)g(recognized)g(and)h(in)o
(terpreted)f(as)g(is.)38 b(See)22 b Fm(h)p Fo(unde\014ned)p
Fm(i)h Fo([F)l(rom)240 1812 y(F)l(ormal)13 b(Rules)i(to)g(Bison)g
(Input],)g(page)g Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
1911 y(Start)f(sym)o(b)q(ol)240 1973 y(The)20 b(non)o(terminal)d(sym)o
(b)q(ol)g(that)i(stands)g(for)g(a)g(complete)f(v)m(alid)h(utterance)g
(in)g(the)h(language)240 2036 y(b)q(eing)d(parsed.)26
b(The)18 b(start)e(sym)o(b)q(ol)f(is)i(usually)g(listed)f(as)h(the)g
(\014rst)g(non)o(terminal)e(sym)o(b)q(ol)g(in)i(a)240
2098 y(language)d(sp)q(eci\014cation.)20 b(See)c Fm(h)p
Fo(unde\014ned)p Fm(i)g Fo([The)f(Start-Sym)o(b)q(ol],)e(page)i
Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0 2197 y(Sym)o(b)q(ol)f(table)240
2259 y(A)j(data)g(structure)g(where)h(sym)o(b)q(ol)e(names)g(and)i
(asso)q(ciated)f(data)f(are)h(stored)g(during)h(parsing)240
2322 y(to)e(allo)o(w)f(for)h(recognition)g(and)h(use)g(of)f(existing)g
(information)d(in)k(rep)q(eated)g(uses)g(of)g(a)f(sym)o(b)q(ol.)240
2384 y(See)g Fm(h)p Fo(unde\014ned)p Fm(i)g Fo([Multi-function)e
(Calc],)g(page)h Fm(h)p Fo(unde\014ned)p Fm(i)p Fo(.)0
2483 y(T)l(ok)o(en)120 b(A)20 b(basic,)g(gramma)o(tical)o(ly)c
(indivisible)j(unit)g(of)g(a)g(language.)33 b(The)19
b(sym)o(b)q(ol)f(that)h(describ)q(es)h(a)240 2545 y(tok)o(en)14
b(in)h(the)g(grammar)d(is)i(a)h(terminal)e(sym)o(b)q(ol.)18
b(The)d(input)g(of)f(the)h(Bison)g(parser)g(is)f(a)h(stream)240
2608 y(of)f(tok)o(ens)h(whic)o(h)g(comes)e(from)h(the)h(lexical)e
(analyzer.)20 b(See)15 b Fm(h)p Fo(unde\014ned)p Fm(i)h
Fo([Sym)o(b)q(ols],)d(page)i Fm(h)p Fo(un-)240 2670 y(de\014ned)p
Fm(i)p Fo(.)p eop
%%Page: 100 102
100 101 bop 0 -58 a Fo(100)1674 b(Bison)15 b(1.25)0 183
y(T)l(erminal)e(sym)o(b)q(ol)240 246 y(A)k(grammar)d(sym)o(b)q(ol)h
(that)h(has)h(no)g(rules)g(in)g(the)g(grammar)c(and)18
b(therefore)e(is)h(grammat)o(ical)o(ly)240 308 y(indivisible.)j(The)c
(piece)g(of)f(text)g(it)g(represen)o(ts)g(is)g(a)g(tok)o(en.)21
b(See)16 b Fm(h)p Fo(unde\014ned)p Fm(i)h Fo([Languages)e(and)240
370 y(Con)o(text-F)l(ree)f(Grammars],)d(page)k Fm(h)p
Fo(unde\014ned)p Fm(i)p Fo(.)p eop
%%Page: 101 103
101 102 bop 0 -58 a Fo(Index)1772 b(101)0 183 y Fl(Index)62
416 y Fc(\(Index)14 b(is)f(nonexisten)o(t\))p eop
%%Page: 102 104
102 103 bop 0 -58 a Fo(102)1674 b(Bison)15 b(1.25)p eop
%%Page: -1 105
-1 104 bop 1937 -58 a Fo(i)0 183 y Fl(T)-7 b(able)16
b(of)f(Con)n(ten)n(ts)0 351 y Fn(In)n(tro)r(duction)8
b Fb(.)13 b(.)d(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)30 b Fn(1)0 491 y(Conditions)23 b(for)f(Using)h
(Bison)12 b Fb(.)e(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)35 b Fn(3)0
631 y(GNU)22 b(GENERAL)g(PUBLIC)g(LICENSE)12 b Fb(.)f(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)35 b Fn(5)149
709 y Fo(Pream)o(ble)7 b Fa(.)g(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)22
b Fo(5)149 771 y(TERMS)16 b(AND)f(CONDITIONS)h(F)o(OR)g(COPYING,)f
(DISTRIBUTION)i(AND)240 833 y(MODIFICA)l(TION)6 b Fa(.)j(.)f(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)21 b Fo(6)149 895 y(Ho)o(w)15
b(to)g(Apply)g(These)g(T)l(erms)f(to)h(Y)l(our)g(New)h(Programs)7
b Fa(.)e(.)i(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)22 b Fo(11)0 1020 y Fn(1)67 b(The)22 b(Concepts)g(of)f(Bison)9
b Fb(.)i(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)32 b Fn(13)149 1098 y
Fo(1.1)45 b(Languages)15 b(and)g(Con)o(text-F)l(ree)g(Grammar)o(s)6
b Fa(.)t(.)i(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)21 b Fo(13)149 1160 y(1.2)45
b(F)l(rom)13 b(F)l(ormal)g(Rules)j(to)e(Bison)h(Input)t
Fa(.)9 b(.)f(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)20
b Fo(15)149 1222 y(1.3)45 b(Seman)o(tic)14 b(V)l(alues)t
Fa(.)7 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)19
b Fo(16)149 1285 y(1.4)45 b(Seman)o(tic)14 b(Actions)t
Fa(.)7 b(.)g(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)19 b Fo(16)149
1347 y(1.5)45 b(Bison)15 b(Output:)20 b(the)15 b(P)o(arser)g(File)7
b Fa(.)f(.)h(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)22
b Fo(17)149 1409 y(1.6)45 b(Stages)15 b(in)g(Using)f(Bison)h
Fa(.)7 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)30 b Fo(18)149 1471 y(1.7)45
b(The)15 b(Ov)o(erall)g(La)o(y)o(out)f(of)h(a)g(Bison)g(Gramma)o(r)7
b Fa(.)e(.)i(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)22 b Fo(18)0 1596 y Fn(2)67
b(Examples)17 b Fb(.)10 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)39 b Fn(21)149 1674 y Fo(2.1)45
b(Rev)o(erse)16 b(P)o(olish)e(Notation)f(Calculator)c
Fa(.)d(.)i(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)25 b Fo(21)299
1736 y(2.1.1)44 b(Declarations)13 b(for)i Fj(rpcalc)9
b Fa(.)d(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)24
b Fo(21)299 1798 y(2.1.2)44 b(Gramma)o(r)12 b(Rules)k(for)f
Fj(rpcalc)6 b Fa(.)g(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)21
b Fo(22)448 1861 y(2.1.2.1)44 b(Explanation)14 b(of)g
Fj(input)t Fa(.)8 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)20 b Fo(23)448
1923 y(2.1.2.2)44 b(Explanation)14 b(of)g Fj(line)6 b
Fa(.)h(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)21 b Fo(24)448 1985
y(2.1.2.3)44 b(Explanation)14 b(of)g Fj(expr)6 b Fa(.)h(.)g(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)21 b Fo(24)299 2047 y(2.1.3)44 b(The)15 b
Fj(rpcalc)g Fo(Lexical)f(Analyzer)8 b Fa(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)23 b Fo(25)299 2110 y(2.1.4)44 b(The)15 b(Con)o(trolling)e(F)l
(unction)h Fa(.)8 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)29
b Fo(27)299 2172 y(2.1.5)44 b(The)15 b(Error)f(Rep)q(orting)i(Routine)7
b Fa(.)g(.)g(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)22 b Fo(27)299 2234
y(2.1.6)44 b(Running)16 b(Bison)f(to)f(Mak)o(e)h(the)g(P)o(arser)7
b Fa(.)g(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)22 b Fo(27)299 2296 y(2.1.7)44 b(Compiling)12
b(the)k(P)o(arser)e(File)d Fa(.)6 b(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)26 b Fo(28)149 2359 y(2.2)45 b(In\014x)16 b(Notation)e(Calculator:)
k Fj(calc)11 b Fa(.)d(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)27 b Fo(29)149 2421 y(2.3)45 b(Simple)14 b(Error)g(Reco)o(v)o(ery)6
b Fa(.)h(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)21 b Fo(30)149 2483 y(2.4)45
b(Multi-F)l(unction)14 b(Calculator:)k Fj(mfcalc)11 b
Fa(.)c(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)26 b Fo(31)299
2545 y(2.4.1)44 b(Declarations)13 b(for)i Fj(mfcalc)9
b Fa(.)d(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)24
b Fo(32)299 2608 y(2.4.2)44 b(Gramma)o(r)12 b(Rules)k(for)f
Fj(mfcalc)6 b Fa(.)g(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)21
b Fo(33)299 2670 y(2.4.3)44 b(The)15 b Fj(mfcalc)g Fo(Sym)o(b)q(ol)e(T)
l(able)6 b Fa(.)h(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)21
b Fo(34)p eop
%%Page: -2 106
-2 105 bop 0 -58 a Fo(ii)1717 b(Bison)15 b(1.25)149 42
y(2.5)45 b(Exercises)11 b Fa(.)c(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)26 b Fo(38)0 166 y Fn(3)67
b(Bison)22 b(Grammar)h(Files)13 b Fb(.)e(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)36
b Fn(39)149 244 y Fo(3.1)45 b(Outline)15 b(of)g(a)g(Bison)g(Gramma)o(r)
10 b Fa(.)t(.)e(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)25 b Fo(39)299 306 y(3.1.1)44 b(The)15 b(C)g(Declarations)f
(Section)5 b Fa(.)i(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)20
b Fo(39)299 368 y(3.1.2)44 b(The)15 b(Bison)g(Declarations)e(Section)c
Fa(.)f(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)24 b Fo(40)299 431 y(3.1.3)44
b(The)15 b(Grammar)d(Rules)j(Section)5 b Fa(.)i(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)20 b Fo(40)299 493 y(3.1.4)44 b(The)15 b(Additional)f(C)h(Co)q
(de)h(Section)7 b Fa(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)22 b Fo(40)149
555 y(3.2)45 b(Sym)o(b)q(ols,)13 b(T)l(erminal)h(and)h(Non)o(terminal)
10 b Fa(.)5 b(.)i(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)25
b Fo(40)149 617 y(3.3)45 b(Syn)o(tax)15 b(of)g(Gramm)o(ar)d(Rules)i
Fa(.)8 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)g(.)28 b Fo(42)149 680 y(3.4)45 b(Recursiv)o(e)16
b(Rules)9 b Fa(.)f(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)24
b Fo(44)149 742 y(3.5)45 b(De\014ning)15 b(Language)g(Seman)o(tics)e
Fa(.)7 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)29
b Fo(45)299 804 y(3.5.1)44 b(Data)14 b(T)o(yp)q(es)h(of)g(Seman)o(tic)f
(V)l(alues)9 b Fa(.)e(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)24 b Fo(45)299
867 y(3.5.2)44 b(More)14 b(Than)i(One)f(V)l(alue)h(T)o(yp)q(e)8
b Fa(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)23 b Fo(45)299
929 y(3.5.3)44 b(Actions)10 b Fa(.)d(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)25 b Fo(46)299 991 y(3.5.4)44 b(Data)14 b(T)o(yp)q(es)h(of)g(V)l
(alues)g(in)g(Actions)8 b Fa(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)24 b
Fo(47)299 1053 y(3.5.5)44 b(Actions)14 b(in)h(Mid-Rule)d
Fa(.)c(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)27
b Fo(48)149 1116 y(3.6)45 b(Bison)15 b(Declarations)10
b Fa(.)e(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)27 b Fo(50)299
1178 y(3.6.1)44 b(T)l(ok)o(en)15 b(T)o(yp)q(e)g(Names)c
Fa(.)6 b(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)26 b Fo(51)299 1240 y(3.6.2)44 b(Op)q(erator)15 b(Precedence)6
b Fa(.)j(.)e(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)21
b Fo(52)299 1302 y(3.6.3)44 b(The)15 b(Collection)f(of)h(V)l(alue)g(T)o
(yp)q(es)8 b Fa(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)23 b Fo(53)299
1365 y(3.6.4)44 b(Non)o(terminal)13 b(Sym)o(b)q(ols)e
Fa(.)5 b(.)j(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)26
b Fo(53)299 1427 y(3.6.5)44 b(Suppressing)15 b(Con\015ict)g(W)l
(arnings)6 b Fa(.)h(.)g(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)21 b Fo(54)299
1489 y(3.6.6)44 b(The)15 b(Start-Sym)o(b)q(ol)d Fa(.)c(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)29
b Fo(54)299 1551 y(3.6.7)44 b(A)15 b(Pure)g(\(Reen)o(tran)o(t\))g(P)o
(arser)c Fa(.)c(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)27
b Fo(55)299 1614 y(3.6.8)44 b(Bison)15 b(Declaration)e(Summary)c
Fa(.)c(.)j(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)24 b Fo(55)149
1676 y(3.7)45 b(Multiple)14 b(P)o(arsers)g(in)h(the)h(Same)e(Program)9
b Fa(.)c(.)i(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)24 b Fo(57)0 1801
y Fn(4)67 b(P)n(arser)22 b(C-Language)g(In)n(terface)17
b Fb(.)10 b(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)40 b Fn(59)149 1878 y Fo(4.1)45 b(The)15 b(P)o(arser)g(F)l
(unction)g Fj(yyparse)c Fa(.)6 b(.)h(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)26 b Fo(59)149 1941 y(4.2)45 b(The)15
b(Lexical)g(Analyzer)g(F)l(unction)g Fj(yylex)6 b Fa(.)i(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)22 b Fo(59)299 2003 y(4.2.1)44 b(Calling)13
b(Con)o(v)o(en)o(tion)h(for)h Fj(yylex)7 b Fa(.)g(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)23 b Fo(60)299 2065 y(4.2.2)44 b(Seman)o(tic)13
b(V)l(alues)j(of)e(T)l(ok)o(ens)g Fa(.)8 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)
h(.)f(.)29 b Fo(61)299 2127 y(4.2.3)44 b(T)l(extual)14
b(P)o(ositions)g(of)h(T)l(ok)o(ens)e Fa(.)8 b(.)f(.)h(.)g(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)29 b Fo(62)299 2190 y(4.2.4)44 b(Calling)13 b(Con)o(v)o(en)o
(tions)h(for)h(Pure)g(P)o(arsers)7 b Fa(.)f(.)i(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)22 b Fo(62)149
2252 y(4.3)45 b(The)15 b(Error)g(Rep)q(orting)g(F)l(unction)g
Fj(yyerror)10 b Fa(.)c(.)i(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)25 b Fo(64)149
2314 y(4.4)45 b(Sp)q(ecial)15 b(F)l(eatures)g(for)g(Use)g(in)g(Actions)
c Fa(.)c(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)26 b
Fo(65)p eop
%%Page: -3 107
-3 106 bop 1912 -58 a Fo(iii)0 42 y Fn(5)67 b(The)22
b(Bison)h(P)n(arser)f(Algorithm)f Fb(.)10 b(.)g(.)g(.)h(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)42 b Fn(67)149
119 y Fo(5.1)j(Lo)q(ok-Ahead)16 b(T)l(ok)o(ens)c Fa(.)c(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)27 b Fo(68)149 182 y(5.2)45 b(Shift/Reduce)16
b(Con\015icts)5 b Fa(.)i(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)20 b Fo(69)149
244 y(5.3)45 b(Op)q(erator)15 b(Precedence)f Fa(.)7 b(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)27 b Fo(70)299 306 y(5.3.1)44 b(When)15 b(Precedence)i(is)e
(Needed)10 b Fa(.)e(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)25
b Fo(70)299 368 y(5.3.2)44 b(Sp)q(ecifying)15 b(Op)q(erator)g
(Precedence)t Fa(.)9 b(.)f(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)19 b Fo(71)299
431 y(5.3.3)44 b(Precedence)16 b(Examples)11 b Fa(.)c(.)g(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)26 b Fo(71)299
493 y(5.3.4)44 b(Ho)o(w)14 b(Precedence)j(W)l(orks)c
Fa(.)8 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)29
b Fo(72)149 555 y(5.4)45 b(Con)o(text-Dep)q(enden)o(t)15
b(Precedence)5 b Fa(.)10 b(.)d(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)
h(.)f(.)h(.)20 b Fo(72)149 617 y(5.5)45 b(P)o(arser)14
b(States)f Fa(.)8 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)29
b Fo(73)149 680 y(5.6)45 b(Reduce/Reduce)18 b(Con\015icts)12
b Fa(.)c(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)28 b Fo(74)149 742 y(5.7)45 b(Mysterious)14
b(Reduce/Reduce)k(Con\015icts)c Fa(.)7 b(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)30 b Fo(76)149 804 y(5.8)45 b(Stac)o(k)15 b(Ov)o(er\015o)o(w,)f(and)
i(Ho)o(w)e(to)h(Av)o(oid)f(It)d Fa(.)d(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
26 b Fo(78)0 929 y Fn(6)67 b(Error)23 b(Reco)n(v)n(ery)9
b Fb(.)j(.)e(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)32
b Fn(79)0 1069 y(7)67 b(Handling)24 b(Con)n(text)e(Dep)r(endencies)10
b Fb(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)33
b Fn(83)149 1147 y Fo(7.1)45 b(Seman)o(tic)14 b(Info)h(in)g(T)l(ok)o
(en)g(T)o(yp)q(es)8 b Fa(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)23 b Fo(83)149 1209 y(7.2)45 b(Lexical)15
b(Tie-ins)10 b Fa(.)d(.)g(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)25
b Fo(84)149 1271 y(7.3)45 b(Lexical)15 b(Tie-ins)g(and)g(Error)f(Reco)o
(v)o(ery)d Fa(.)d(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)26
b Fo(85)0 1396 y Fn(8)67 b(Debugging)22 b(Y)-6 b(our)23
b(P)n(arser)15 b Fb(.)10 b(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)37 b Fn(87)0
1536 y(9)67 b(In)n(v)n(oking)24 b(Bison)16 b Fb(.)10
b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)38
b Fn(89)149 1614 y Fo(9.1)45 b(Bison)15 b(Options)f Fa(.)8
b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)30 b
Fo(89)149 1676 y(9.2)45 b(Option)15 b(Cross)f(Key)9 b
Fa(.)g(.)e(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)24 b Fo(91)149
1738 y(9.3)45 b(In)o(v)o(oking)15 b(Bison)f(under)i(VMS)f
Fa(.)7 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)29 b Fo(91)0 1863 y Fn(App)r(endix)24 b(A)67 b(Bison)23
b(Sym)n(b)r(ols)12 b Fb(.)f(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)35 b Fn(93)0 2003
y(App)r(endix)24 b(B)67 b(Glossary)9 b Fb(.)h(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)
h(.)f(.)g(.)32 b Fn(97)0 2143 y(Index)14 b Fb(.)d(.)g(.)f(.)g(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)g(.)h(.)f(.)g
(.)g(.)37 b Fn(101)p eop
%%Page: -4 108
-4 107 bop 0 -58 a Fo(iv)1706 b(Bison)15 b(1.25)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
